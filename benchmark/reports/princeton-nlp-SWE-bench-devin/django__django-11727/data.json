{
  "instance_id": "django__django-11727",
  "model_patch": "diff --git a/django/contrib/admin/templates/admin/submit_line.html b/django/contrib/admin/templates/admin/submit_line.html\nindex bb283fe9e0..b71a297427 100644\n--- a/django/contrib/admin/templates/admin/submit_line.html\n+++ b/django/contrib/admin/templates/admin/submit_line.html\n@@ -7,7 +7,7 @@\n     <p class=\"deletelink-box\"><a href=\"{% add_preserved_filters delete_url %}\" class=\"deletelink\">{% trans \"Delete\" %}</a></p>\n {% endif %}\n {% if show_save_as_new %}<input type=\"submit\" value=\"{% trans 'Save as new' %}\" name=\"_saveasnew\">{% endif %}\n-{% if show_save_and_add_another %}<input type=\"submit\" value=\"{% trans 'Save and add another' %}\" name=\"_addanother\">{% endif %}\n+{% if show_save_and_add_another|default:\"True\" %}<input type=\"submit\" value=\"{% trans 'Save and add another' %}\" name=\"_addanother\">{% endif %}\n {% if show_save_and_continue %}<input type=\"submit\" value=\"{% if can_change %}{% trans 'Save and continue editing' %}{% else %}{% trans 'Save and view' %}{% endif %}\" name=\"_continue\">{% endif %}\n {% if show_close %}<a href=\"{% url opts|admin_urlname:'changelist' %}\" class=\"closelink\">{% trans 'Close' %}</a>{% endif %}\n {% endblock %}\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "django/contrib/admin/templates/admin/submit_line.html"
  ],
  "repo": "django/django",
  "base_commit": "44077985f58be02214a11ffde35776fed3c960e1",
  "patch": "diff --git a/django/contrib/admin/templatetags/admin_modify.py b/django/contrib/admin/templatetags/admin_modify.py\n--- a/django/contrib/admin/templatetags/admin_modify.py\n+++ b/django/contrib/admin/templatetags/admin_modify.py\n@@ -54,12 +54,20 @@ def submit_row(context):\n     is_popup = context['is_popup']\n     save_as = context['save_as']\n     show_save = context.get('show_save', True)\n+    show_save_and_add_another = context.get('show_save_and_add_another', True)\n     show_save_and_continue = context.get('show_save_and_continue', True)\n     has_add_permission = context['has_add_permission']\n     has_change_permission = context['has_change_permission']\n     has_view_permission = context['has_view_permission']\n     has_editable_inline_admin_formsets = context['has_editable_inline_admin_formsets']\n     can_save = (has_change_permission and change) or (has_add_permission and add) or has_editable_inline_admin_formsets\n+    can_save_and_add_another = (\n+        has_add_permission and\n+        not is_popup and\n+        (not save_as or add) and\n+        can_save and\n+        show_save_and_add_another\n+    )\n     can_save_and_continue = not is_popup and can_save and has_view_permission and show_save_and_continue\n     can_change = has_change_permission or has_editable_inline_admin_formsets\n     ctx = Context(context)\n@@ -70,10 +78,7 @@ def submit_row(context):\n             change and context.get('show_delete', True)\n         ),\n         'show_save_as_new': not is_popup and has_change_permission and change and save_as,\n-        'show_save_and_add_another': (\n-            has_add_permission and not is_popup and\n-            (not save_as or add) and can_save\n-        ),\n+        'show_save_and_add_another': can_save_and_add_another,\n         'show_save_and_continue': can_save_and_continue,\n         'show_save': show_save and can_save,\n         'show_close': not(show_save and can_save)\n",
  "test_patch": "diff --git a/tests/admin_views/test_templatetags.py b/tests/admin_views/test_templatetags.py\n--- a/tests/admin_views/test_templatetags.py\n+++ b/tests/admin_views/test_templatetags.py\n@@ -29,6 +29,25 @@ def test_submit_row(self):\n         self.assertIs(template_context['extra'], True)\n         self.assertIs(template_context['show_save'], True)\n \n+    def test_override_show_save_and_add_another(self):\n+        request = self.request_factory.get(\n+            reverse('admin:auth_user_change', args=[self.superuser.pk]),\n+        )\n+        request.user = self.superuser\n+        admin = UserAdmin(User, site)\n+        for extra_context, expected_flag in (\n+            ({}, True),  # Default.\n+            ({'show_save_and_add_another': False}, False),\n+        ):\n+            with self.subTest(show_save_and_add_another=expected_flag):\n+                response = admin.change_view(\n+                    request,\n+                    str(self.superuser.pk),\n+                    extra_context=extra_context,\n+                )\n+                template_context = submit_row(response.context_data)\n+                self.assertIs(template_context['show_save_and_add_another'], expected_flag)\n+\n     def test_override_change_form_template_tags(self):\n         \"\"\"\n         admin_modify template tags follow the standard search pattern\n",
  "problem_statement": "Allow hiding the \"Save and Add Another\" button with a `show_save_and_add_another` context variable\nDescription\n\t\nTo provide better adjustability, to introduce new context var - show_save_and_add_another.\nE.g. if I want to hide button \"Save and add another\", I can just modify extra_context - write False to the variable.\nFor other buttons - \"Save\" and \"Save and continue editing\", this already works exactly in this manner.\n",
  "hints_text": "\u200bPR\nThe options for Save and Save and continue were originally added to ensure correct behaviour when hitting Save New and getting a validation error. See \u200b0894643e4. They weren't really for direct usage... ... however, maybe it's reasonable. Tentatively Accept to see how the patch turns out, and what others think. This isn't really documented (like much around extending the admin). Not sure where it would go if we were to add something.\nA \u200bStackoverflow question suggests several alternatives including overriding the template tag or adding some CSS. I guess I'm okay with the patch (even if undocumented) but it needs a test.\nReplying to Tim Graham: A \u200bStackoverflow question suggests several alternatives including overriding the template tag or adding some CSS. I guess I'm okay with the patch (even if undocumented) but it needs a test. The test is the only thing missing? I would like to work on it\nHey Tim, Is this still available to work, if yes - I would like to add unit tests to it ?",
  "created_at": "2019-08-29T14:32:01Z",
  "version": "3.1",
  "FAIL_TO_PASS": "[\"test_override_show_save_and_add_another (admin_views.test_templatetags.AdminTemplateTagsTest)\", \"test_submit_row (admin_views.test_templatetags.AdminTemplateTagsTest)\"]",
  "PASS_TO_PASS": "[\"test_choice_links (admin_views.test_templatetags.DateHierarchyTests)\", \"test_override_change_form_template_tags (admin_views.test_templatetags.AdminTemplateTagsTest)\", \"test_override_change_list_template_tags (admin_views.test_templatetags.AdminTemplateTagsTest)\"]",
  "environment_setup_commit": "0668164b4ac93a5be79f5b87fae83c657124d9ab",
  "patch_files": [
    "django/contrib/admin/templatetags/admin_modify.py"
  ],
  "test_patch_files": [
    "tests/admin_views/test_templatetags.py"
  ],
  "patch_diff_details": {
    "django/contrib/admin/templatetags/admin_modify.py": {
      "diffs": [
        {
          "start_line_old": 57,
          "end_line_old": 57,
          "file_pos": 1,
          "file_context_length": 920,
          "pos": 1,
          "context_length": 343
        },
        {
          "start_line_old": 73,
          "end_line_old": 76,
          "file_pos": 1,
          "file_context_length": 920,
          "pos": 1,
          "context_length": 343
        }
      ]
    }
  },
  "vectors": 3408,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/django/django/contrib/admin/templatetags/admin_modify.py_submit_row_submit_row.17.1",
      "distance": 1.1340017318725586,
      "file_path": "django/contrib/admin/templatetags/admin_modify.py",
      "start_line": 48,
      "end_line": 81,
      "tokens": 343,
      "context_length": 343,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin._changeform_view.context_ModelAdmin._changeform_view.21.1",
      "distance": 1.1460893154144287,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1597,
      "end_line": 1621,
      "tokens": 279,
      "context_length": 622
    },
    {
      "position": 3,
      "id": "/tmp/repos/django/django/template/defaulttags.py_do_with_",
      "distance": 1.2367010116577148,
      "file_path": "django/template/defaulttags.py",
      "start_line": 1442,
      "end_line": 1475,
      "tokens": 246,
      "context_length": 868
    },
    {
      "position": 4,
      "id": "/tmp/repos/django/django/template/context.py_Context_Context.update.4.1",
      "distance": 1.3007211685180664,
      "file_path": "django/template/context.py",
      "start_line": 135,
      "end_line": 169,
      "tokens": 288,
      "context_length": 1156
    },
    {
      "position": 5,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin._changeform_view_ModelAdmin._changeform_view.15.3.title.1",
      "distance": 1.3069336414337158,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1517,
      "end_line": 1596,
      "tokens": 719,
      "context_length": 1875
    },
    {
      "position": 6,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin._response_post_save_ModelAdmin.response_post_save_change.2.1",
      "distance": 1.3258252143859863,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1310,
      "end_line": 1335,
      "tokens": 232,
      "context_length": 2107
    },
    {
      "position": 7,
      "id": "/tmp/repos/django/django/forms/widgets.py_MultipleHiddenInput_MultipleHiddenInput.format_value.1.1",
      "distance": 1.3435418605804443,
      "file_path": "django/forms/widgets.py",
      "start_line": 337,
      "end_line": 371,
      "tokens": 278,
      "context_length": 2385
    },
    {
      "position": 8,
      "id": "/tmp/repos/django/django/contrib/auth/forms.py_ReadOnlyPasswordHashWidget_ReadOnlyPasswordHashWidget.get_context.5.1",
      "distance": 1.3525710105895996,
      "file_path": "django/contrib/auth/forms.py",
      "start_line": 23,
      "end_line": 41,
      "tokens": 161,
      "context_length": 2546
    },
    {
      "position": 9,
      "id": "/tmp/repos/django/django/template/context.py_BaseContext_BaseContext.__eq__.2.1",
      "distance": 1.3532365560531616,
      "file_path": "django/template/context.py",
      "start_line": 27,
      "end_line": 132,
      "tokens": 663,
      "context_length": 3209
    },
    {
      "position": 10,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_ModelDetailView.get_context_data.16_ModelDetailView.get_context_data.19.1",
      "distance": 1.3574721813201904,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 249,
      "end_line": 314,
      "tokens": 585,
      "context_length": 3794
    },
    {
      "position": 11,
      "id": "/tmp/repos/django/django/template/base.py_Variable_Variable.__init__.7.9.2.6.2.3.self.lookups.1",
      "distance": 1.3612759113311768,
      "file_path": "django/template/base.py",
      "start_line": 726,
      "end_line": 789,
      "tokens": 531,
      "context_length": 4325
    },
    {
      "position": 12,
      "id": "/tmp/repos/django/django/db/migrations/questioner.py_InteractiveMigrationQuestioner.ask_auto_now_add_addition_InteractiveMigrationQuestioner.ask_auto_now_add_addition.3.1",
      "distance": 1.3653901815414429,
      "file_path": "django/db/migrations/questioner.py",
      "start_line": 207,
      "end_line": 224,
      "tokens": 171,
      "context_length": 4496
    },
    {
      "position": 13,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.render_change_form_ModelAdmin.render_change_form.11.1",
      "distance": 1.3661067485809326,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1111,
      "end_line": 1156,
      "tokens": 482,
      "context_length": 4978
    },
    {
      "position": 14,
      "id": "/tmp/repos/django/django/template/context_processors.py_debug_debug.4.1",
      "distance": 1.3778879642486572,
      "file_path": "django/template/context_processors.py",
      "start_line": 35,
      "end_line": 49,
      "tokens": 126,
      "context_length": 5104
    },
    {
      "position": 15,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.changelist_view.24_ModelAdmin.changelist_view.32.1",
      "distance": 1.378448486328125,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1725,
      "end_line": 1806,
      "tokens": 744,
      "context_length": 5848
    },
    {
      "position": 16,
      "id": "/tmp/repos/django/django/forms/widgets.py_MultiWidget.get_context_MultiWidget.get_context.12.1",
      "distance": 1.3802050352096558,
      "file_path": "django/forms/widgets.py",
      "start_line": 811,
      "end_line": 840,
      "tokens": 265,
      "context_length": 6113
    },
    {
      "position": 17,
      "id": "/tmp/repos/django/django/contrib/admin/widgets.py_ManyToManyRawIdWidget_ManyToManyRawIdWidget.format_value.1.1",
      "distance": 1.3810720443725586,
      "file_path": "django/contrib/admin/widgets.py",
      "start_line": 200,
      "end_line": 226,
      "tokens": 216,
      "context_length": 6329
    },
    {
      "position": 18,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_ModelDetailView_ModelDetailView.get_context_data.15",
      "distance": 1.3841936588287354,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 182,
      "end_line": 248,
      "tokens": 584,
      "context_length": 6913
    },
    {
      "position": 19,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_InlineModelAdmin.media_InlineModelAdmin.get_max_num.2.1",
      "distance": 1.3899481296539307,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1996,
      "end_line": 2017,
      "tokens": 221,
      "context_length": 7134
    },
    {
      "position": 20,
      "id": "/tmp/repos/django/django/views/generic/edit.py_1_FormMixin.get_context_data.3.1",
      "distance": 1.3916199207305908,
      "file_path": "django/views/generic/edit.py",
      "start_line": 1,
      "end_line": 67,
      "tokens": 479,
      "context_length": 7613
    },
    {
      "position": 21,
      "id": "/tmp/repos/django/django/template/base.py_Variable.resolve_Variable.__str__.1.1",
      "distance": 1.3944640159606934,
      "file_path": "django/template/base.py",
      "start_line": 791,
      "end_line": 813,
      "tokens": 190,
      "context_length": 7803
    },
    {
      "position": 22,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.get_deleted_objects_ModelAdmin._delete_view.16.1",
      "distance": 1.3950164318084717,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1808,
      "end_line": 1876,
      "tokens": 584,
      "context_length": 8387
    },
    {
      "position": 23,
      "id": "/tmp/repos/django/django/contrib/admin/widgets.py_RelatedFieldWidgetWrapper.get_context_RelatedFieldWidgetWrapper.id_for_label.1.1",
      "distance": 1.3999221324920654,
      "file_path": "django/contrib/admin/widgets.py",
      "start_line": 278,
      "end_line": 313,
      "tokens": 382,
      "context_length": 8769
    },
    {
      "position": 24,
      "id": "/tmp/repos/django/django/contrib/admin/widgets.py_RelatedFieldWidgetWrapper_RelatedFieldWidgetWrapper.get_related_url.1.1",
      "distance": 1.4016422033309937,
      "file_path": "django/contrib/admin/widgets.py",
      "start_line": 229,
      "end_line": 276,
      "tokens": 423,
      "context_length": 9192
    },
    {
      "position": 25,
      "id": "/tmp/repos/django/django/forms/models.py_BaseModelForm.save_ModelForm.1",
      "distance": 1.4024560451507568,
      "file_path": "django/forms/models.py",
      "start_line": 444,
      "end_line": 471,
      "tokens": 227,
      "context_length": 9419
    },
    {
      "position": 26,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.save.alters_data_Model.save_base.18.1",
      "distance": 1.4042761325836182,
      "file_path": "django/db/models/base.py",
      "start_line": 744,
      "end_line": 793,
      "tokens": 456,
      "context_length": 9875
    },
    {
      "position": 27,
      "id": "/tmp/repos/django/django/template/context.py_RenderContext_RenderContext.push_state.4.2.2.1",
      "distance": 1.405037760734558,
      "file_path": "django/template/context.py",
      "start_line": 172,
      "end_line": 212,
      "tokens": 296,
      "context_length": 10171
    },
    {
      "position": 28,
      "id": "/tmp/repos/django/docs/_ext/djangodocs.py_ConsoleDirective_",
      "distance": 1.4056739807128906,
      "file_path": "docs/_ext/djangodocs.py",
      "start_line": 276,
      "end_line": 377,
      "tokens": 846,
      "context_length": 11017
    },
    {
      "position": 29,
      "id": "/tmp/repos/django/django/template/context.py_1_ContextDict.__exit__.1",
      "distance": 1.41078519821167,
      "file_path": "django/template/context.py",
      "start_line": 1,
      "end_line": 24,
      "tokens": 128,
      "context_length": 11145
    },
    {
      "position": 30,
      "id": "/tmp/repos/django/django/views/generic/base.py_logging_ContextMixin.get_context_data.3.1",
      "distance": 1.4162631034851074,
      "file_path": "django/views/generic/base.py",
      "start_line": 1,
      "end_line": 27,
      "tokens": 148,
      "context_length": 11293
    },
    {
      "position": 31,
      "id": "/tmp/repos/django/django/template/context.py_RequestContext.bind_template_RequestContext.new.5.1",
      "distance": 1.416433334350586,
      "file_path": "django/template/context.py",
      "start_line": 235,
      "end_line": 262,
      "tokens": 199,
      "context_length": 11492
    },
    {
      "position": 32,
      "id": "/tmp/repos/django/django/template/context_processors.py_i18n_",
      "distance": 1.420465111732483,
      "file_path": "django/template/context_processors.py",
      "start_line": 52,
      "end_line": 82,
      "tokens": 143,
      "context_length": 11635
    },
    {
      "position": 33,
      "id": "/tmp/repos/django/django/contrib/admin/checks.py_ModelAdminChecks._check_save_as_ModelAdminChecks._check_inlines.2.2.1.1",
      "distance": 1.4306657314300537,
      "file_path": "django/contrib/admin/checks.py",
      "start_line": 641,
      "end_line": 668,
      "tokens": 232,
      "context_length": 11867
    },
    {
      "position": 34,
      "id": "/tmp/repos/django/django/contrib/admin/helpers.py_AdminReadonlyField.contents_AdminReadonlyField.contents.4.1",
      "distance": 1.43341863155365,
      "file_path": "django/contrib/admin/helpers.py",
      "start_line": 192,
      "end_line": 220,
      "tokens": 276,
      "context_length": 12143
    },
    {
      "position": 35,
      "id": "/tmp/repos/django/django/forms/widgets.py_ChoiceWidget.get_context_ChoiceWidget.format_value.4.1",
      "distance": 1.4337390661239624,
      "file_path": "django/forms/widgets.py",
      "start_line": 639,
      "end_line": 668,
      "tokens": 238,
      "context_length": 12381
    },
    {
      "position": 36,
      "id": "/tmp/repos/django/django/forms/widgets.py_ClearableFileInput.get_context_ClearableFileInput.get_context.5.1",
      "distance": 1.4342930316925049,
      "file_path": "django/forms/widgets.py",
      "start_line": 426,
      "end_line": 438,
      "tokens": 122,
      "context_length": 12503
    },
    {
      "position": 37,
      "id": "/tmp/repos/django/django/template/defaulttags.py_IfChangedNode._get_context_stack_frame_IfChangedNode._get_context_stack_frame.3.5.2.1",
      "distance": 1.4397773742675781,
      "file_path": "django/template/defaulttags.py",
      "start_line": 249,
      "end_line": 259,
      "tokens": 140,
      "context_length": 12643
    },
    {
      "position": 38,
      "id": "/tmp/repos/django/django/views/decorators/debug.py_functools_sensitive_variables.3.1",
      "distance": 1.443500280380249,
      "file_path": "django/views/decorators/debug.py",
      "start_line": 1,
      "end_line": 38,
      "tokens": 218,
      "context_length": 12861
    },
    {
      "position": 39,
      "id": "/tmp/repos/django/django/views/debug.py_SafeExceptionReporterFilter.get_traceback_frame_variables_SafeExceptionReporterFilter.get_traceback_frame_variables.10.1",
      "distance": 1.4438025951385498,
      "file_path": "django/views/debug.py",
      "start_line": 193,
      "end_line": 241,
      "tokens": 462,
      "context_length": 13323
    },
    {
      "position": 40,
      "id": "/tmp/repos/django/django/views/debug.py_SafeExceptionReporterFilter_SafeExceptionReporterFilter.get_cleansed_multivaluedict.4.1",
      "distance": 1.4444012641906738,
      "file_path": "django/views/debug.py",
      "start_line": 125,
      "end_line": 152,
      "tokens": 248,
      "context_length": 13571
    },
    {
      "position": 41,
      "id": "/tmp/repos/django/django/contrib/admin/widgets.py_ForeignKeyRawIdWidget_ForeignKeyRawIdWidget.get_context.5.1",
      "distance": 1.4449435472488403,
      "file_path": "django/contrib/admin/widgets.py",
      "start_line": 125,
      "end_line": 164,
      "tokens": 349,
      "context_length": 13920
    },
    {
      "position": 42,
      "id": "/tmp/repos/django/django/contrib/auth/admin.py_UserAdmin._add_view_UserAdmin._add_view.7.7.1",
      "distance": 1.445329189300537,
      "file_path": "django/contrib/auth/admin.py",
      "start_line": 101,
      "end_line": 126,
      "tokens": 286,
      "context_length": 14206
    },
    {
      "position": 43,
      "id": "/tmp/repos/django/django/forms/widgets.py_MultiWidget_MultiWidget.is_hidden.1.1",
      "distance": 1.4467813968658447,
      "file_path": "django/forms/widgets.py",
      "start_line": 791,
      "end_line": 809,
      "tokens": 153,
      "context_length": 14359
    },
    {
      "position": 44,
      "id": "/tmp/repos/django/django/db/migrations/questioner.py_NonInteractiveMigrationQuestioner_",
      "distance": 1.4470627307891846,
      "file_path": "django/db/migrations/questioner.py",
      "start_line": 227,
      "end_line": 240,
      "tokens": 123,
      "context_length": 14482
    },
    {
      "position": 45,
      "id": "/tmp/repos/django/django/template/base.py_Variable._resolve_lookup_Variable._resolve_lookup.4.1",
      "distance": 1.4474215507507324,
      "file_path": "django/template/base.py",
      "start_line": 815,
      "end_line": 879,
      "tokens": 535,
      "context_length": 15017
    },
    {
      "position": 46,
      "id": "/tmp/repos/django/django/forms/models.py_BaseModelFormSet.add_fields_BaseModelFormSet.add_fields.11",
      "distance": 1.4476377964019775,
      "file_path": "django/forms/models.py",
      "start_line": 815,
      "end_line": 856,
      "tokens": 449,
      "context_length": 15466
    },
    {
      "position": 47,
      "id": "/tmp/repos/django/django/template/loader_tags.py_do_include_",
      "distance": 1.4479122161865234,
      "file_path": "django/template/loader_tags.py",
      "start_line": 272,
      "end_line": 318,
      "tokens": 392,
      "context_length": 15858
    },
    {
      "position": 48,
      "id": "/tmp/repos/django/django/contrib/postgres/forms/array.py_SplitArrayWidget.get_context_SplitArrayWidget.needs_multipart_form.1.1",
      "distance": 1.4482195377349854,
      "file_path": "django/contrib/postgres/forms/array.py",
      "start_line": 133,
      "end_line": 165,
      "tokens": 265,
      "context_length": 16123
    },
    {
      "position": 49,
      "id": "/tmp/repos/django/django/template/defaulttags.py_csrf_token_do_filter.8.1",
      "distance": 1.448675513267517,
      "file_path": "django/template/defaulttags.py",
      "start_line": 630,
      "end_line": 677,
      "tokens": 331,
      "context_length": 16454
    },
    {
      "position": 50,
      "id": "/tmp/repos/django/django/contrib/admin/sites.py_AdminSite.urls_AdminSite.each_context.4.1",
      "distance": 1.449108362197876,
      "file_path": "django/contrib/admin/sites.py",
      "start_line": 291,
      "end_line": 312,
      "tokens": 175,
      "context_length": 16629
    },
    {
      "position": 51,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_ViewDetailView.get_context_data_ModelIndexView.get_context_data.2.1",
      "distance": 1.4495538473129272,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 155,
      "end_line": 179,
      "tokens": 234,
      "context_length": 16863
    },
    {
      "position": 52,
      "id": "/tmp/repos/django/django/template/library.py_InclusionNode_InclusionNode.render.12.1",
      "distance": 1.449700951576233,
      "file_path": "django/template/library.py",
      "start_line": 201,
      "end_line": 234,
      "tokens": 304,
      "context_length": 17167
    },
    {
      "position": 53,
      "id": "/tmp/repos/django/django/db/migrations/questioner.py_InteractiveMigrationQuestioner.ask_not_null_addition_InteractiveMigrationQuestioner.ask_not_null_addition.3.1",
      "distance": 1.4505561590194702,
      "file_path": "django/db/migrations/questioner.py",
      "start_line": 143,
      "end_line": 160,
      "tokens": 183,
      "context_length": 17350
    },
    {
      "position": 54,
      "id": "/tmp/repos/django/django/forms/widgets.py_SelectDateWidget.get_context_SelectDateWidget.get_context.18.1",
      "distance": 1.4510304927825928,
      "file_path": "django/forms/widgets.py",
      "start_line": 972,
      "end_line": 1018,
      "tokens": 445,
      "context_length": 17795
    },
    {
      "position": 55,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.add_manager_Options.add_field.5.12.3.1",
      "distance": 1.4513609409332275,
      "file_path": "django/db/models/options.py",
      "start_line": 262,
      "end_line": 294,
      "tokens": 343,
      "context_length": 18138
    },
    {
      "position": 56,
      "id": "/tmp/repos/django/django/contrib/auth/views.py_PasswordChangeView_",
      "distance": 1.451696515083313,
      "file_path": "django/contrib/auth/views.py",
      "start_line": 330,
      "end_line": 362,
      "tokens": 239,
      "context_length": 18377
    },
    {
      "position": 57,
      "id": "/tmp/repos/django/django/contrib/auth/context_processors.py_PermWrapper_",
      "distance": 1.4519243240356445,
      "file_path": "django/contrib/auth/context_processors.py",
      "start_line": 24,
      "end_line": 64,
      "tokens": 247,
      "context_length": 18624
    },
    {
      "position": 58,
      "id": "/tmp/repos/django/django/contrib/auth/hashers.py_mask_hash_BasePasswordHasher._load_library.2",
      "distance": 1.4553087949752808,
      "file_path": "django/contrib/auth/hashers.py",
      "start_line": 149,
      "end_line": 184,
      "tokens": 245,
      "context_length": 18869
    },
    {
      "position": 59,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_InlineModelAdmin.has_add_permission_",
      "distance": 1.4567298889160156,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 2135,
      "end_line": 2170,
      "tokens": 315,
      "context_length": 19184
    },
    {
      "position": 60,
      "id": "/tmp/repos/django/django/forms/models.py_ModelMultipleChoiceField.prepare_value_",
      "distance": 1.4573192596435547,
      "file_path": "django/forms/models.py",
      "start_line": 1337,
      "end_line": 1364,
      "tokens": 209,
      "context_length": 19393
    },
    {
      "position": 61,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.changelist_view_ModelAdmin.changelist_view.23",
      "distance": 1.458702802658081,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1653,
      "end_line": 1724,
      "tokens": 653,
      "context_length": 20046
    },
    {
      "position": 62,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.render_delete_form_ModelAdmin.render_delete_form.5.1",
      "distance": 1.4592194557189941,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1445,
      "end_line": 1464,
      "tokens": 133,
      "context_length": 20179
    },
    {
      "position": 63,
      "id": "/tmp/repos/django/django/template/loader_tags.py_ExtendsNode.render_ExtendsNode.render.11.1.1",
      "distance": 1.459803819656372,
      "file_path": "django/template/loader_tags.py",
      "start_line": 126,
      "end_line": 150,
      "tokens": 232,
      "context_length": 20411
    },
    {
      "position": 64,
      "id": "/tmp/repos/django/docs/_ext/djangodocs.py_parse_django_admin_node_DjangoStandaloneHTMLBuilder.finish.6.3",
      "distance": 1.4600012302398682,
      "file_path": "docs/_ext/djangodocs.py",
      "start_line": 172,
      "end_line": 205,
      "tokens": 286,
      "context_length": 20697
    },
    {
      "position": 65,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.history_view_ModelAdmin.history_view.14.1",
      "distance": 1.4620134830474854,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1878,
      "end_line": 1915,
      "tokens": 330,
      "context_length": 21027
    },
    {
      "position": 66,
      "id": "/tmp/repos/django/django/views/generic/edit.py_ModelFormMixin_ModelFormMixin.get_form_class.3.2.3.1",
      "distance": 1.462013602256775,
      "file_path": "django/views/generic/edit.py",
      "start_line": 70,
      "end_line": 101,
      "tokens": 269,
      "context_length": 21296
    },
    {
      "position": 67,
      "id": "/tmp/repos/django/django/db/models/fields/reverse_related.py_ForeignObjectRel.is_hidden_ForeignObjectRel.set_field_name.self.field_name.1",
      "distance": 1.4638477563858032,
      "file_path": "django/db/models/fields/reverse_related.py",
      "start_line": 132,
      "end_line": 150,
      "tokens": 172,
      "context_length": 21468
    },
    {
      "position": 68,
      "id": "/tmp/repos/django/django/forms/widgets.py_Select_Select.use_required_attribute.6.1",
      "distance": 1.4641433954238892,
      "file_path": "django/forms/widgets.py",
      "start_line": 671,
      "end_line": 702,
      "tokens": 261,
      "context_length": 21729
    },
    {
      "position": 69,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_TemplateDetailView_TemplateDetailView.get_context_data.4.1",
      "distance": 1.464548945426941,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 317,
      "end_line": 347,
      "tokens": 208,
      "context_length": 21937
    },
    {
      "position": 70,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_InlineModelAdmin_InlineModelAdmin.__init__.7.self.verbose_name_plural.1",
      "distance": 1.4657421112060547,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1963,
      "end_line": 1994,
      "tokens": 249,
      "context_length": 22186
    },
    {
      "position": 71,
      "id": "/tmp/repos/django/django/template/loader_tags.py_IncludeNode_IncludeNode.render.7.1.1",
      "distance": 1.4663408994674683,
      "file_path": "django/template/loader_tags.py",
      "start_line": 153,
      "end_line": 188,
      "tokens": 292,
      "context_length": 22478
    },
    {
      "position": 72,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager._get_add_plan_create_forward_many_to_many_manager.ManyRelatedManager._get_add_plan.15.1",
      "distance": 1.4679908752441406,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 1082,
      "end_line": 1109,
      "tokens": 338,
      "context_length": 22816
    },
    {
      "position": 73,
      "id": "/tmp/repos/django/django/contrib/admin/__init__.py_1_",
      "distance": 1.4683918952941895,
      "file_path": "django/contrib/admin/__init__.py",
      "start_line": 1,
      "end_line": 30,
      "tokens": 286,
      "context_length": 23102
    },
    {
      "position": 74,
      "id": "/tmp/repos/django/django/template/loader_tags.py_posixpath_BlockContext.get_block.1.2.1.1",
      "distance": 1.471943736076355,
      "file_path": "django/template/loader_tags.py",
      "start_line": 1,
      "end_line": 38,
      "tokens": 182,
      "context_length": 23284
    },
    {
      "position": 75,
      "id": "/tmp/repos/django/django/forms/widgets.py_SplitHiddenDateTimeWidget_SplitHiddenDateTimeWidget.__init__.2.widget.input_type.1",
      "distance": 1.4725878238677979,
      "file_path": "django/forms/widgets.py",
      "start_line": 912,
      "end_line": 921,
      "tokens": 107,
      "context_length": 23391
    },
    {
      "position": 76,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_ViewDetailView_ViewDetailView._get_view_func.2.2.4.5",
      "distance": 1.47267484664917,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 135,
      "end_line": 153,
      "tokens": 187,
      "context_length": 23578
    },
    {
      "position": 77,
      "id": "/tmp/repos/django/django/contrib/auth/management/commands/createsuperuser.py_Command.get_input_data_Command._get_input_message.1.1",
      "distance": 1.4727952480316162,
      "file_path": "django/contrib/auth/management/commands/createsuperuser.py",
      "start_line": 204,
      "end_line": 228,
      "tokens": 204,
      "context_length": 23782
    },
    {
      "position": 78,
      "id": "/tmp/repos/django/django/contrib/admin/templatetags/admin_modify.py_json_prepopulated_fields_js_tag.1.1",
      "distance": 1.473132610321045,
      "file_path": "django/contrib/admin/templatetags/admin_modify.py",
      "start_line": 1,
      "end_line": 45,
      "tokens": 372,
      "context_length": 24154,
      "file_pos": 33
    },
    {
      "position": 79,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin_ModelAdmin.__str__.1.1",
      "distance": 1.47366464138031,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 542,
      "end_line": 585,
      "tokens": 297,
      "context_length": 24451
    },
    {
      "position": 80,
      "id": "/tmp/repos/django/django/forms/widgets.py_TextInput_HiddenInput.template_name.1",
      "distance": 1.4745471477508545,
      "file_path": "django/forms/widgets.py",
      "start_line": 298,
      "end_line": 334,
      "tokens": 204,
      "context_length": 24655
    },
    {
      "position": 81,
      "id": "/tmp/repos/django/django/contrib/auth/views.py_PasswordResetConfirmView_PasswordResetConfirmView.dispatch.6.1",
      "distance": 1.4749493598937988,
      "file_path": "django/contrib/auth/views.py",
      "start_line": 247,
      "end_line": 284,
      "tokens": 348,
      "context_length": 25003
    },
    {
      "position": 82,
      "id": "/tmp/repos/django/django/contrib/syndication/views.py_Feed.feed_extra_kwargs_Feed.get_context_data.2.1",
      "distance": 1.4756951332092285,
      "file_path": "django/contrib/syndication/views.py",
      "start_line": 96,
      "end_line": 121,
      "tokens": 180,
      "context_length": 25183
    },
    {
      "position": 83,
      "id": "/tmp/repos/django/django/template/defaultfilters.py_unordered_list.list_formatter_add.2.2.1.2.1.1",
      "distance": 1.4769625663757324,
      "file_path": "django/template/defaultfilters.py",
      "start_line": 639,
      "end_line": 667,
      "tokens": 212,
      "context_length": 25395
    },
    {
      "position": 84,
      "id": "/tmp/repos/django/docs/_ext/djangodocs.py_setup_setup.16.1",
      "distance": 1.4807932376861572,
      "file_path": "docs/_ext/djangodocs.py",
      "start_line": 26,
      "end_line": 70,
      "tokens": 385,
      "context_length": 25780
    },
    {
      "position": 85,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_extra_Query.add_extra.5.self.extra_order_by.1",
      "distance": 1.483206868171692,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1954,
      "end_line": 1984,
      "tokens": 260,
      "context_length": 26040
    },
    {
      "position": 86,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.managers_Options.managers_map.1.1",
      "distance": 1.4842946529388428,
      "file_path": "django/db/models/options.py",
      "start_line": 363,
      "end_line": 385,
      "tokens": 164,
      "context_length": 26204
    },
    {
      "position": 87,
      "id": "/tmp/repos/django/django/template/context.py_RequestContext_RequestContext.__init__.9",
      "distance": 1.4849547147750854,
      "file_path": "django/template/context.py",
      "start_line": 215,
      "end_line": 233,
      "tokens": 185,
      "context_length": 26389
    },
    {
      "position": 88,
      "id": "/tmp/repos/django/django/db/migrations/questioner.py_InteractiveMigrationQuestioner._ask_default_InteractiveMigrationQuestioner._ask_default.6.4.3.1.2.1",
      "distance": 1.4849716424942017,
      "file_path": "django/db/migrations/questioner.py",
      "start_line": 109,
      "end_line": 141,
      "tokens": 290,
      "context_length": 26679
    },
    {
      "position": 89,
      "id": "/tmp/repos/django/django/db/models/expressions.py_ExpressionWrapper_ExpressionWrapper.__repr__.1.1",
      "distance": 1.486561894416809,
      "file_path": "django/db/models/expressions.py",
      "start_line": 859,
      "end_line": 879,
      "tokens": 143,
      "context_length": 26822
    },
    {
      "position": 90,
      "id": "/tmp/repos/django/django/forms/models.py_BaseModelFormSet.save_new_BaseModelFormSet.clean.1",
      "distance": 1.4870890378952026,
      "file_path": "django/forms/models.py",
      "start_line": 647,
      "end_line": 677,
      "tokens": 217,
      "context_length": 27039
    },
    {
      "position": 91,
      "id": "/tmp/repos/django/django/contrib/admin/sites.py_AdminSite.password_change_done_AdminSite.i18n_javascript.2.1",
      "distance": 1.4877393245697021,
      "file_path": "django/contrib/admin/sites.py",
      "start_line": 331,
      "end_line": 351,
      "tokens": 182,
      "context_length": 27221
    },
    {
      "position": 92,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_AlterModelOptions_AlterModelOptions.describe.1.1",
      "distance": 1.488745927810669,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 625,
      "end_line": 677,
      "tokens": 342,
      "context_length": 27563
    },
    {
      "position": 93,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_AlterTogetherOptionOperation_AlterTogetherOptionOperation.state_forwards.3",
      "distance": 1.4888612031936646,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 488,
      "end_line": 515,
      "tokens": 181,
      "context_length": 27744
    },
    {
      "position": 94,
      "id": "/tmp/repos/django/django/contrib/admin/helpers.py_json_checkbox.1",
      "distance": 1.4899439811706543,
      "file_path": "django/contrib/admin/helpers.py",
      "start_line": 1,
      "end_line": 30,
      "tokens": 198,
      "context_length": 27942
    },
    {
      "position": 95,
      "id": "/tmp/repos/django/django/db/backends/oracle/base.py_VariableWrapper_VariableWrapper.__setattr__.1.2.1",
      "distance": 1.4918161630630493,
      "file_path": "django/db/backends/oracle/base.py",
      "start_line": 365,
      "end_line": 386,
      "tokens": 143,
      "context_length": 28085
    }
  ],
  "files": [
    {
      "file_path": "django/contrib/admin/templatetags/admin_modify.py",
      "position": 1,
      "tokens": 920,
      "context_length": 920
    },
    {
      "file_path": "django/contrib/admin/options.py",
      "position": 2,
      "tokens": 18366,
      "context_length": 19286
    },
    {
      "file_path": "django/template/defaulttags.py",
      "position": 3,
      "tokens": 11040,
      "context_length": 30326
    },
    {
      "file_path": "django/template/context.py",
      "position": 4,
      "tokens": 1889,
      "context_length": 32215
    },
    {
      "file_path": "django/forms/widgets.py",
      "position": 5,
      "tokens": 8066,
      "context_length": 40281
    },
    {
      "file_path": "django/contrib/auth/forms.py",
      "position": 6,
      "tokens": 3046,
      "context_length": 43327
    },
    {
      "file_path": "django/contrib/admindocs/views.py",
      "position": 7,
      "tokens": 3310,
      "context_length": 46637
    },
    {
      "file_path": "django/template/base.py",
      "position": 8,
      "tokens": 7861,
      "context_length": 54498
    },
    {
      "file_path": "django/db/migrations/questioner.py",
      "position": 9,
      "tokens": 2074,
      "context_length": 56572
    },
    {
      "file_path": "django/template/context_processors.py",
      "position": 10,
      "tokens": 489,
      "context_length": 57061
    },
    {
      "file_path": "django/contrib/admin/widgets.py",
      "position": 11,
      "tokens": 3866,
      "context_length": 60927
    },
    {
      "file_path": "django/views/generic/edit.py",
      "position": 12,
      "tokens": 1716,
      "context_length": 62643
    },
    {
      "file_path": "django/forms/models.py",
      "position": 13,
      "tokens": 11495,
      "context_length": 74138
    },
    {
      "file_path": "django/db/models/base.py",
      "position": 14,
      "tokens": 15190,
      "context_length": 89328
    },
    {
      "file_path": "docs/_ext/djangodocs.py",
      "position": 15,
      "tokens": 3073,
      "context_length": 92401
    },
    {
      "file_path": "django/views/generic/base.py",
      "position": 16,
      "tokens": 1603,
      "context_length": 94004
    },
    {
      "file_path": "django/contrib/admin/checks.py",
      "position": 17,
      "tokens": 9016,
      "context_length": 103020
    },
    {
      "file_path": "django/contrib/admin/helpers.py",
      "position": 18,
      "tokens": 3193,
      "context_length": 106213
    },
    {
      "file_path": "django/views/decorators/debug.py",
      "position": 19,
      "tokens": 473,
      "context_length": 106686
    },
    {
      "file_path": "django/views/debug.py",
      "position": 20,
      "tokens": 4218,
      "context_length": 110904
    },
    {
      "file_path": "django/contrib/auth/admin.py",
      "position": 21,
      "tokens": 1726,
      "context_length": 112630
    },
    {
      "file_path": "django/template/loader_tags.py",
      "position": 22,
      "tokens": 2551,
      "context_length": 115181
    },
    {
      "file_path": "django/contrib/postgres/forms/array.py",
      "position": 23,
      "tokens": 1485,
      "context_length": 116666
    },
    {
      "file_path": "django/contrib/admin/sites.py",
      "position": 24,
      "tokens": 4191,
      "context_length": 120857
    },
    {
      "file_path": "django/template/library.py",
      "position": 25,
      "tokens": 2538,
      "context_length": 123395
    },
    {
      "file_path": "django/db/models/options.py",
      "position": 26,
      "tokens": 7099,
      "context_length": 130494
    },
    {
      "file_path": "django/contrib/auth/views.py",
      "position": 27,
      "tokens": 2664,
      "context_length": 133158
    },
    {
      "file_path": "django/contrib/auth/context_processors.py",
      "position": 28,
      "tokens": 414,
      "context_length": 133572
    },
    {
      "file_path": "django/contrib/auth/hashers.py",
      "position": 29,
      "tokens": 4787,
      "context_length": 138359
    },
    {
      "file_path": "django/db/models/fields/reverse_related.py",
      "position": 30,
      "tokens": 2114,
      "context_length": 140473
    },
    {
      "file_path": "django/db/models/fields/related_descriptors.py",
      "position": 31,
      "tokens": 10332,
      "context_length": 150805
    },
    {
      "file_path": "django/contrib/admin/__init__.py",
      "position": 32,
      "tokens": 286,
      "context_length": 151091
    },
    {
      "file_path": "django/contrib/auth/management/commands/createsuperuser.py",
      "position": 33,
      "tokens": 2060,
      "context_length": 153151
    },
    {
      "file_path": "django/contrib/syndication/views.py",
      "position": 34,
      "tokens": 1726,
      "context_length": 154877
    },
    {
      "file_path": "django/template/defaultfilters.py",
      "position": 35,
      "tokens": 6065,
      "context_length": 160942
    },
    {
      "file_path": "django/db/models/sql/query.py",
      "position": 36,
      "tokens": 21534,
      "context_length": 182476
    },
    {
      "file_path": "django/db/models/expressions.py",
      "position": 37,
      "tokens": 10277,
      "context_length": 192753
    },
    {
      "file_path": "django/db/migrations/operations/models.py",
      "position": 38,
      "tokens": 6696,
      "context_length": 199449
    },
    {
      "file_path": "django/db/backends/oracle/base.py",
      "position": 39,
      "tokens": 5089,
      "context_length": 204538
    }
  ]
}