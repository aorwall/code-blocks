{
  "instance_id": "django__django-12325",
  "model_patch": "diff --git a/django/db/models/options.py b/django/db/models/options.py\nindex a375f6ba1d..f729fce6e5 100644\n--- a/django/db/models/options.py\n+++ b/django/db/models/options.py\n@@ -240,12 +240,16 @@ class Options:\n \n         if self.pk is None:\n             if self.parents:\n-                # Promote the first parent link in lieu of adding yet another\n-                # field.\n-                field = next(iter(self.parents.values()))\n-                # Look for a local field with the same name as the\n-                # first parent link. If a local field has already been\n-                # created, use it instead of promoting the parent\n+                # Find the parent link with parent_link=True or take the first parent link\n+                field = None\n+                for parent_field in self.parents.values():\n+                    if parent_field.remote_field.parent_link:\n+                        field = parent_field\n+                        break\n+                if field is None:\n+                    field = next(iter(self.parents.values()))\n+\n+                # Check if a local field with the same name as the parent link has already been created\n                 already_created = [fld for fld in self.local_fields if fld.name == field.name]\n                 if already_created:\n                     field = already_created[0]\n@@ -396,15 +400,7 @@ class Options:\n                     break\n \n         if base_manager_name:\n-            try:\n-                return self.managers_map[base_manager_name]\n-            except KeyError:\n-                raise ValueError(\n-                    \"%s has no manager named %r\" % (\n-                        self.object_name,\n-                        base_manager_name,\n-                    )\n-                )\n+            return self.managers_map[base_manager_name]\n \n         manager = Manager()\n         manager.name = '_base_manager'\n@@ -423,15 +419,7 @@ class Options:\n                     break\n \n         if default_manager_name:\n-            try:\n-                return self.managers_map[default_manager_name]\n-            except KeyError:\n-                raise ValueError(\n-                    \"%s has no manager named %r\" % (\n-                        self.object_name,\n-                        default_manager_name,\n-                    )\n-                )\n+            return self.managers_map[default_manager_name]\n \n         if self.managers:\n             return self.managers[0]\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "django/db/models/options.py"
  ],
  "repo": "django/django",
  "base_commit": "29c126bb349526b5f1cd78facbe9f25906f18563",
  "patch": "diff --git a/django/db/models/base.py b/django/db/models/base.py\n--- a/django/db/models/base.py\n+++ b/django/db/models/base.py\n@@ -202,7 +202,7 @@ def __new__(cls, name, bases, attrs, **kwargs):\n                 continue\n             # Locate OneToOneField instances.\n             for field in base._meta.local_fields:\n-                if isinstance(field, OneToOneField):\n+                if isinstance(field, OneToOneField) and field.remote_field.parent_link:\n                     related = resolve_relation(new_class, field.remote_field.model)\n                     parent_links[make_model_tuple(related)] = field\n \ndiff --git a/django/db/models/options.py b/django/db/models/options.py\n--- a/django/db/models/options.py\n+++ b/django/db/models/options.py\n@@ -5,7 +5,7 @@\n \n from django.apps import apps\n from django.conf import settings\n-from django.core.exceptions import FieldDoesNotExist, ImproperlyConfigured\n+from django.core.exceptions import FieldDoesNotExist\n from django.db import connections\n from django.db.models import Manager\n from django.db.models.fields import AutoField\n@@ -251,10 +251,6 @@ def _prepare(self, model):\n                     field = already_created[0]\n                 field.primary_key = True\n                 self.setup_pk(field)\n-                if not field.remote_field.parent_link:\n-                    raise ImproperlyConfigured(\n-                        'Add parent_link=True to %s.' % field,\n-                    )\n             else:\n                 auto = AutoField(verbose_name='ID', primary_key=True, auto_created=True)\n                 model.add_to_class('id', auto)\n",
  "test_patch": "diff --git a/tests/invalid_models_tests/test_models.py b/tests/invalid_models_tests/test_models.py\n--- a/tests/invalid_models_tests/test_models.py\n+++ b/tests/invalid_models_tests/test_models.py\n@@ -3,7 +3,6 @@\n from django.conf import settings\n from django.core.checks import Error, Warning\n from django.core.checks.model_checks import _check_lazy_references\n-from django.core.exceptions import ImproperlyConfigured\n from django.db import connection, connections, models\n from django.db.models.functions import Lower\n from django.db.models.signals import post_init\n@@ -1006,14 +1005,24 @@ class ShippingMethodPrice(models.Model):\n \n         self.assertEqual(ShippingMethod.check(), [])\n \n-    def test_missing_parent_link(self):\n-        msg = 'Add parent_link=True to invalid_models_tests.ParkingLot.parent.'\n-        with self.assertRaisesMessage(ImproperlyConfigured, msg):\n-            class Place(models.Model):\n-                pass\n+    def test_onetoone_with_parent_model(self):\n+        class Place(models.Model):\n+            pass\n+\n+        class ParkingLot(Place):\n+            other_place = models.OneToOneField(Place, models.CASCADE, related_name='other_parking')\n+\n+        self.assertEqual(ParkingLot.check(), [])\n+\n+    def test_onetoone_with_explicit_parent_link_parent_model(self):\n+        class Place(models.Model):\n+            pass\n+\n+        class ParkingLot(Place):\n+            place = models.OneToOneField(Place, models.CASCADE, parent_link=True, primary_key=True)\n+            other_place = models.OneToOneField(Place, models.CASCADE, related_name='other_parking')\n \n-            class ParkingLot(Place):\n-                parent = models.OneToOneField(Place, models.CASCADE)\n+        self.assertEqual(ParkingLot.check(), [])\n \n     def test_m2m_table_name_clash(self):\n         class Foo(models.Model):\ndiff --git a/tests/invalid_models_tests/test_relative_fields.py b/tests/invalid_models_tests/test_relative_fields.py\n--- a/tests/invalid_models_tests/test_relative_fields.py\n+++ b/tests/invalid_models_tests/test_relative_fields.py\n@@ -1291,6 +1291,33 @@ class Model(models.Model):\n             ),\n         ])\n \n+    def test_clash_parent_link(self):\n+        class Parent(models.Model):\n+            pass\n+\n+        class Child(Parent):\n+            other_parent = models.OneToOneField(Parent, models.CASCADE)\n+\n+        errors = [\n+            ('fields.E304', 'accessor', 'parent_ptr', 'other_parent'),\n+            ('fields.E305', 'query name', 'parent_ptr', 'other_parent'),\n+            ('fields.E304', 'accessor', 'other_parent', 'parent_ptr'),\n+            ('fields.E305', 'query name', 'other_parent', 'parent_ptr'),\n+        ]\n+        self.assertEqual(Child.check(), [\n+            Error(\n+                \"Reverse %s for 'Child.%s' clashes with reverse %s for \"\n+                \"'Child.%s'.\" % (attr, field_name, attr, clash_name),\n+                hint=(\n+                    \"Add or change a related_name argument to the definition \"\n+                    \"for 'Child.%s' or 'Child.%s'.\" % (field_name, clash_name)\n+                ),\n+                obj=Child._meta.get_field(field_name),\n+                id=error_id,\n+            )\n+            for error_id, attr, field_name, clash_name in errors\n+        ])\n+\n \n @isolate_apps('invalid_models_tests')\n class M2mThroughFieldsTests(SimpleTestCase):\ndiff --git a/tests/migrations/test_state.py b/tests/migrations/test_state.py\n--- a/tests/migrations/test_state.py\n+++ b/tests/migrations/test_state.py\n@@ -345,6 +345,7 @@ def test_render(self):\n                     'migrations.Tag',\n                     models.CASCADE,\n                     auto_created=True,\n+                    parent_link=True,\n                     primary_key=True,\n                     to_field='id',\n                     serialize=False,\n",
  "problem_statement": "pk setup for MTI to parent get confused by multiple OneToOne references.\nDescription\n\t\nclass Document(models.Model):\n\tpass\nclass Picking(Document):\n\tdocument_ptr = models.OneToOneField(Document, on_delete=models.CASCADE, parent_link=True, related_name='+')\n\torigin = models.OneToOneField(Document, related_name='picking', on_delete=models.PROTECT)\nproduces django.core.exceptions.ImproperlyConfigured: Add parent_link=True to appname.Picking.origin.\nclass Picking(Document):\n\torigin = models.OneToOneField(Document, related_name='picking', on_delete=models.PROTECT)\n\tdocument_ptr = models.OneToOneField(Document, on_delete=models.CASCADE, parent_link=True, related_name='+')\nWorks\nFirst issue is that order seems to matter?\nEven if ordering is required \"by design\"(It shouldn't be we have explicit parent_link marker) shouldn't it look from top to bottom like it does with managers and other things?\n",
  "hints_text": "That seems to be a bug, managed to reproduce. Does the error go away if you add primary_key=True to document_ptr like I assume you wanted to do? This makes me realized that the \u200bMTI documentation is not completely correcy, \u200bthe automatically added `place_ptr` field end up with `primary_key=True`. Not sure why we're not checking and field.remote_field.parent_link on \u200bparent links connection.\nReplying to Simon Charette: It does go away primary_key. Why is parent_link even necessary in that case? Having pk OneToOne with to MTI child should imply it's parent link.\nReplying to M\u0101rti\u0146\u0161 \u0160ulcs: Replying to Simon Charette: It does go away primary_key. Why is parent_link even necessary in that case? Having pk OneToOne with to MTI child should imply it's parent link. I have an update. The warning goes away with primary_key, but model itself is still broken(complains about document_ptr_id not populated) unless field order is correct.\nBeen able to replicate this bug with a simpler case: class Document(models.Model): pass class Picking(Document): some_unrelated_document = models.OneToOneField(Document, related_name='something', on_delete=models.PROTECT) Produces the same error against some_unrelated_document.\nHi, Could this approach be appropriate? parent_links's params can be base and related class instance therefore just last sample columns are added into parent_links. We can extend key logic with related_name, e.g ('app', 'document', 'picking'). Or using this method, we can always ensure that the parent_link=True field is guaranteed into self.parents. \u200bPR +++ b/django/db/models/base.py @@ -196,10 +196,11 @@ class ModelBase(type): if base != new_class and not base._meta.abstract: continue # Locate OneToOneField instances. - for field in base._meta.local_fields: - if isinstance(field, OneToOneField): - related = resolve_relation(new_class, field.remote_field.model) - parent_links[make_model_tuple(related)] = field + fields = [field for field in base._meta.local_fields if isinstance(field, OneToOneField)] + for field in sorted(fields, key=lambda x: x.remote_field.parent_link, reverse=True): + related_key = make_model_tuple(resolve_relation(new_class, field.remote_field.model)) + if related_key not in parent_links: + parent_links[related_key] = field # Track fields inherited from base models. inherited_attributes = set()\nWhat's the status on this? I'm encountering the same issue.",
  "created_at": "2020-01-15T14:02:25Z",
  "version": "3.1",
  "FAIL_TO_PASS": "[\"test_clash_parent_link (invalid_models_tests.test_relative_fields.ComplexClashTests)\", \"test_onetoone_with_parent_model (invalid_models_tests.test_models.OtherModelTests)\"]",
  "PASS_TO_PASS": "[\"Ref #22047.\", \"test_abstract_base (migrations.test_state.RelatedModelsTests)\", \"test_abstract_model_children_inherit_indexes (migrations.test_state.ModelStateTests)\", \"test_accessor_clash (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\", \"test_accessor_clash (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_add_relations (migrations.test_state.StateTests)\", \"test_ambiguous_relationship_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_apps_bulk_update (migrations.test_state.StateTests)\", \"test_base (migrations.test_state.RelatedModelsTests)\", \"test_base_to_base_fk (migrations.test_state.RelatedModelsTests)\", \"test_base_to_subclass_fk (migrations.test_state.RelatedModelsTests)\", \"test_bound_field_sanity_check (migrations.test_state.ModelStateTests)\", \"test_check_constraints (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraints_required_db_features (invalid_models_tests.test_models.ConstraintsTests)\", \"test_choices_iterator (migrations.test_state.StateTests)\", \"test_circle (migrations.test_state.RelatedModelsTests)\", \"test_clash_between_accessors (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_clash_between_accessors (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_clash_under_explicit_related_name (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\", \"test_clash_under_explicit_related_name (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_complex_clash (invalid_models_tests.test_relative_fields.ComplexClashTests)\", \"test_create (migrations.test_state.StateTests)\", \"test_create_swappable (migrations.test_state.ModelStateTests)\", \"test_create_swappable_from_abstract (migrations.test_state.ModelStateTests)\", \"test_custom_base_manager (migrations.test_state.StateTests)\", \"test_custom_default_manager (migrations.test_state.StateTests)\", \"test_custom_default_manager_added_to_the_model_state (migrations.test_state.StateTests)\", \"test_custom_default_manager_named_objects_with_false_migration_flag (migrations.test_state.StateTests)\", \"test_custom_manager_swappable (migrations.test_state.ModelStateTests)\", \"test_custom_model_base (migrations.test_state.ModelStateTests)\", \"test_dangling_references_throw_error (migrations.test_state.StateTests)\", \"test_db_column_clash (invalid_models_tests.test_models.FieldNamesTests)\", \"test_direct_fk (migrations.test_state.RelatedModelsTests)\", \"test_direct_hidden_fk (migrations.test_state.RelatedModelsTests)\", \"test_direct_m2m (migrations.test_state.RelatedModelsTests)\", \"test_direct_m2m_self (migrations.test_state.RelatedModelsTests)\", \"test_ending_with_underscore (invalid_models_tests.test_models.FieldNamesTests)\", \"test_equality (migrations.test_state.StateTests)\", \"test_explicit_field_names (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\", \"test_explicit_index_name (migrations.test_state.ModelStateTests)\", \"test_field_name_clash_with_child_accessor (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_fields_immutability (migrations.test_state.ModelStateTests)\", \"test_fk_through_proxy (migrations.test_state.RelatedModelsTests)\", \"test_fk_to_fk (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_fk_to_integer (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_foreign_key_to_abstract_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_isolate_apps_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_missing_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_non_unique_field (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_non_unique_field_under_explicit_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_object_to_non_unique_fields (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_from_model_constraints (migrations.test_state.ModelStateTests)\", \"test_generic_fk (migrations.test_state.RelatedModelsTests)\", \"test_hidden_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_id_clash (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_ignore_order_wrt (migrations.test_state.StateTests)\", \"test_including_separator (invalid_models_tests.test_models.FieldNamesTests)\", \"test_inheritance_clash (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_intermediate_m2m (migrations.test_state.RelatedModelsTests)\", \"test_intermediate_m2m_base (migrations.test_state.RelatedModelsTests)\", \"test_intermediate_m2m_extern_fk (migrations.test_state.RelatedModelsTests)\", \"test_intermediate_m2m_self (migrations.test_state.RelatedModelsTests)\", \"test_intersection_foreign_object (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\", \"test_invalid_field (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\", \"test_invalid_order (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\", \"test_invalid_related_query_name (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_just_order_with_respect_to_no_errors (invalid_models_tests.test_models.OtherModelTests)\", \"test_just_ordering_no_errors (invalid_models_tests.test_models.OtherModelTests)\", \"test_lazy_reference_checks (invalid_models_tests.test_models.OtherModelTests)\", \"test_list_containing_non_iterable (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_list_containing_non_iterable (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_m2m_autogenerated_table_name_clash (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_field_argument_validation (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\", \"test_m2m_field_table_name_clash (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_table_name_clash (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_to_abstract_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_m2m_to_concrete_and_proxy_allowed (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_m2m_unmanaged_shadow_models_not_checked (invalid_models_tests.test_models.OtherModelTests)\", \"test_manager_refer_correct_model_version (migrations.test_state.StateTests)\", \"test_many_to_many_through_isolate_apps_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_many_to_many_to_isolate_apps_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_many_to_many_to_missing_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_many_to_many_with_limit_choices_auto_created_no_warning (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_many_to_many_with_useless_options (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_max_name_length (invalid_models_tests.test_models.IndexesTests)\", \"test_missing_relationship_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_missing_relationship_model_on_model_check (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_multigeneration_inheritance (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_multiinheritance_clash (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_multiple_bases (migrations.test_state.RelatedModelsTests)\", \"test_multiple_mixed_bases (migrations.test_state.RelatedModelsTests)\", \"test_multiple_nested_bases (migrations.test_state.RelatedModelsTests)\", \"test_name_beginning_with_underscore (invalid_models_tests.test_models.OtherModelTests)\", \"test_name_constraints (invalid_models_tests.test_models.IndexesTests)\", \"test_name_contains_double_underscores (invalid_models_tests.test_models.OtherModelTests)\", \"test_name_ending_with_underscore (invalid_models_tests.test_models.OtherModelTests)\", \"test_nested_abstract_base (migrations.test_state.RelatedModelsTests)\", \"test_nested_base (migrations.test_state.RelatedModelsTests)\", \"test_nested_fk (migrations.test_state.RelatedModelsTests)\", \"test_nested_proxy_base (migrations.test_state.RelatedModelsTests)\", \"test_no_clash_for_hidden_related_name (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_no_duplicate_managers (migrations.test_state.StateTests)\", \"test_non_iterable (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_non_iterable (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_non_list (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_non_list (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_non_valid (invalid_models_tests.test_models.OtherModelTests)\", \"test_not_swapped_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_nullable_primary_key (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_on_delete_set_default_without_default_value (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_on_delete_set_null_on_non_nullable_field (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_onetoone_with_explicit_parent_link_parent_model (invalid_models_tests.test_models.OtherModelTests)\", \"test_order_with_respect_to_private_field (migrations.test_state.ModelStateTests)\", \"test_ordering_allows_registered_lookups (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_non_iterable (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_multiple_times_to_model_fields (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_foreignkey_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_missing_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_missing_foreignkey_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_missing_related_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_missing_related_model_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_non_related_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_related_model_pk (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_two_related_model_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_with_order_with_respect_to (invalid_models_tests.test_models.OtherModelTests)\", \"test_pk (invalid_models_tests.test_models.FieldNamesTests)\", \"test_pointing_to_fk (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_pointing_to_fk (invalid_models_tests.test_models.IndexesTests)\", \"test_pointing_to_fk (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_pointing_to_m2m (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_pointing_to_m2m_field (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_pointing_to_m2m_field (invalid_models_tests.test_models.IndexesTests)\", \"test_pointing_to_missing_field (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_pointing_to_missing_field (invalid_models_tests.test_models.IndexesTests)\", \"test_pointing_to_missing_field (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_pointing_to_non_local_field (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_pointing_to_non_local_field (invalid_models_tests.test_models.IndexesTests)\", \"test_property_and_related_field_accessor_clash (invalid_models_tests.test_models.OtherModelTests)\", \"test_proxy_base (migrations.test_state.RelatedModelsTests)\", \"test_real_apps (migrations.test_state.StateTests)\", \"test_referencing_to_swapped_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_related_field_has_invalid_related_name (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_related_field_has_valid_related_name (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_relationship_model_missing_foreign_key (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_relationship_model_with_foreign_key_to_wrong_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_remove_relations (migrations.test_state.StateTests)\", \"test_render (migrations.test_state.StateTests)\", \"test_render_model_inheritance (migrations.test_state.StateTests)\", \"test_render_model_with_multiple_inheritance (migrations.test_state.StateTests)\", \"test_render_project_dependencies (migrations.test_state.StateTests)\", \"test_render_unique_app_labels (migrations.test_state.StateTests)\", \"test_repr (migrations.test_state.ModelStateTests)\", \"test_reverse_query_name_clash (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\", \"test_reverse_query_name_clash (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_sanity_check_through (migrations.test_state.ModelStateTests)\", \"test_sanity_check_to (migrations.test_state.ModelStateTests)\", \"test_sanity_index_name (migrations.test_state.ModelStateTests)\", \"test_self_relation (migrations.test_state.StateTests)\", \"test_single_primary_key (invalid_models_tests.test_models.OtherModelTests)\", \"test_superset_foreign_object (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\", \"test_swappable_missing_app (invalid_models_tests.test_models.OtherModelTests)\", \"test_swappable_missing_app_name (invalid_models_tests.test_models.OtherModelTests)\", \"test_to_fields_exist (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_to_fields_not_checked_if_related_model_doesnt_exist (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_too_many_foreign_keys_in_self_referential_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_two_m2m_through_same_model_with_different_through_fields (invalid_models_tests.test_models.OtherModelTests)\", \"test_two_m2m_through_same_relationship (invalid_models_tests.test_models.OtherModelTests)\", \"test_two_sided (migrations.test_state.RelatedModelsTests)\", \"test_unique_m2m (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_unique_primary_key (invalid_models_tests.test_models.OtherModelTests)\", \"test_unrelated (migrations.test_state.RelatedModelsTests)\", \"test_valid_foreign_key_without_accessor (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_valid_model (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_valid_model (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\"]",
  "environment_setup_commit": "0668164b4ac93a5be79f5b87fae83c657124d9ab",
  "patch_files": [
    "django/db/models/base.py",
    "django/db/models/options.py"
  ],
  "test_patch_files": [
    "tests/invalid_models_tests/test_models.py",
    "tests/invalid_models_tests/test_relative_fields.py",
    "tests/migrations/test_state.py"
  ],
  "patch_diff_details": {
    "django/db/models/base.py": {
      "diffs": [
        {
          "start_line_old": 205,
          "end_line_old": 205,
          "file_pos": 4,
          "file_context_length": 46307,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/base.py_Model._check_property_name_related_field_accessor_clashes_Model._check_single_primary_key.3.1",
          "closest_snippet_line_distance": 1293,
          "pos": 59,
          "context_length": 21779
        }
      ]
    },
    "django/db/models/options.py": {
      "diffs": [
        {
          "start_line_old": 8,
          "end_line_old": 8,
          "file_pos": 3,
          "file_context_length": 30954,
          "pos": 3,
          "context_length": 1422
        },
        {
          "start_line_old": 254,
          "end_line_old": 257,
          "file_pos": 3,
          "file_context_length": 30954,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/options.py_Options.default_manager_Options.default_manager.4.1.1",
          "closest_snippet_line_distance": 161
        }
      ]
    }
  },
  "vectors": 3423,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_relationship_model_ManyToManyField._check_relationship_model.3.3.9.3.seen_from.5.1",
      "distance": 1.0114147663116455,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1202,
      "end_line": 1313,
      "tokens": 939,
      "context_length": 939
    },
    {
      "position": 2,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ForwardOneToOneDescriptor.__set___ForwardOneToOneDescriptor.__set__.4.4.3",
      "distance": 1.0185108184814453,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 309,
      "end_line": 323,
      "tokens": 182,
      "context_length": 1121
    },
    {
      "position": 3,
      "id": "/tmp/repos/django/django/db/models/options.py_bisect_DEFAULT_NAMES.1",
      "distance": 1.0372825860977173,
      "file_path": "django/db/models/options.py",
      "start_line": 1,
      "end_line": 36,
      "tokens": 301,
      "context_length": 1422,
      "file_pos": 3
    },
    {
      "position": 4,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ForwardManyToOneDescriptor.get_prefetch_queryset_ForwardManyToOneDescriptor.get_object.3.1",
      "distance": 1.0373225212097168,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 120,
      "end_line": 154,
      "tokens": 405,
      "context_length": 1827
    },
    {
      "position": 5,
      "id": "/tmp/repos/django/django/db/models/base.py_35_",
      "distance": 1.0451116561889648,
      "file_path": "django/db/models/base.py",
      "start_line": 1865,
      "end_line": 1916,
      "tokens": 351,
      "context_length": 2178,
      "file_pos": 4
    },
    {
      "position": 6,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_reverse_many_to_one_manager.RelatedManager.add.alters_data_create_reverse_many_to_one_manager.RelatedManager.17._clear.alters_data.1",
      "distance": 1.0502382516860962,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 672,
      "end_line": 726,
      "tokens": 511,
      "context_length": 2689
    },
    {
      "position": 7,
      "id": "/tmp/repos/django/docs/_ext/djangodocs.py_setup_setup.16.1",
      "distance": 1.0524877309799194,
      "file_path": "docs/_ext/djangodocs.py",
      "start_line": 26,
      "end_line": 70,
      "tokens": 385,
      "context_length": 3074
    },
    {
      "position": 8,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_reverse_many_to_one_manager.RelatedManager.add_create_reverse_many_to_one_manager.RelatedManager.add.5.4.1.1.2",
      "distance": 1.0582027435302734,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 642,
      "end_line": 671,
      "tokens": 254,
      "context_length": 3328
    },
    {
      "position": 9,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ReverseOneToOneDescriptor.get_prefetch_queryset_ReverseOneToOneDescriptor.get_prefetch_queryset.11.1",
      "distance": 1.0595362186431885,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 365,
      "end_line": 381,
      "tokens": 184,
      "context_length": 3512
    },
    {
      "position": 10,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField.contribute_to_class_ManyToManyField.contribute_to_class.7.self.m2m_db_table.1",
      "distance": 1.0610122680664062,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1556,
      "end_line": 1591,
      "tokens": 475,
      "context_length": 3987
    },
    {
      "position": 11,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ForwardManyToOneDescriptor.__set___ForwardManyToOneDescriptor.__reduce__.2.1",
      "distance": 1.0704996585845947,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 203,
      "end_line": 275,
      "tokens": 740,
      "context_length": 4727
    },
    {
      "position": 12,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ReverseOneToOneDescriptor.RelatedObjectDoesNotExist_ReverseOneToOneDescriptor.get_queryset.1.1",
      "distance": 1.0715171098709106,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 344,
      "end_line": 363,
      "tokens": 156,
      "context_length": 4883
    },
    {
      "position": 13,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_reverse_many_to_one_manager.RelatedManager._remove_prefetched_objects_create_reverse_many_to_one_manager.RelatedManager.get_prefetch_queryset.13.1",
      "distance": 1.0725570917129517,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 608,
      "end_line": 640,
      "tokens": 323,
      "context_length": 5206
    },
    {
      "position": 14,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_OneToOneField_OneToOneField._check_unique.2.1",
      "distance": 1.0756326913833618,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 994,
      "end_line": 1041,
      "tokens": 368,
      "context_length": 5574
    },
    {
      "position": 15,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager.set.alters_data_create_forward_many_to_many_manager.ManyRelatedManager.update_or_create.alters_data.1",
      "distance": 1.077772855758667,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 1012,
      "end_line": 1039,
      "tokens": 334,
      "context_length": 5908
    },
    {
      "position": 16,
      "id": "/tmp/repos/django/django/db/models/__init__.py_1_",
      "distance": 1.0795296430587769,
      "file_path": "django/db/models/__init__.py",
      "start_line": 1,
      "end_line": 52,
      "tokens": 591,
      "context_length": 6499
    },
    {
      "position": 17,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_reverse_many_to_one_manager.RelatedManager.set_create_reverse_many_to_one_manager.3.1",
      "distance": 1.0809516906738281,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 728,
      "end_line": 754,
      "tokens": 222,
      "context_length": 6721
    },
    {
      "position": 18,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager._add_items_create_forward_many_to_many_manager.ManyRelatedManager._add_items.4.8.4.1",
      "distance": 1.087923288345337,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 1114,
      "end_line": 1159,
      "tokens": 484,
      "context_length": 7205
    },
    {
      "position": 19,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_create_generic_related_manager.GenericRelatedObjectManager.set.alters_data_",
      "distance": 1.0910093784332275,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 677,
      "end_line": 702,
      "tokens": 254,
      "context_length": 7459
    },
    {
      "position": 20,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager.get_prefetch_queryset_create_forward_many_to_many_manager.ManyRelatedManager.get_prefetch_queryset.17.1",
      "distance": 1.0920766592025757,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 903,
      "end_line": 940,
      "tokens": 374,
      "context_length": 7833
    },
    {
      "position": 21,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_GenericRelation.contribute_to_class_GenericRelation.contribute_to_class.12.2",
      "distance": 1.0934302806854248,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 431,
      "end_line": 452,
      "tokens": 248,
      "context_length": 8081
    },
    {
      "position": 22,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField.set_attributes_from_rel_",
      "distance": 1.0990080833435059,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1611,
      "end_line": 1645,
      "tokens": 266,
      "context_length": 8347
    },
    {
      "position": 23,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager.add_create_forward_many_to_many_manager.ManyRelatedManager.remove.alters_data.1",
      "distance": 1.099081039428711,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 942,
      "end_line": 964,
      "tokens": 218,
      "context_length": 8565
    },
    {
      "position": 24,
      "id": "/tmp/repos/django/django/db/models/base.py_Model_Model.__init__.cls.19",
      "distance": 1.1001713275909424,
      "file_path": "django/db/models/base.py",
      "start_line": 404,
      "end_line": 503,
      "tokens": 856,
      "context_length": 9421,
      "file_pos": 7
    },
    {
      "position": 25,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager_create_forward_many_to_many_manager.ManyRelatedManager.do_not_call_in_templates.1",
      "distance": 1.1032240390777588,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 803,
      "end_line": 862,
      "tokens": 576,
      "context_length": 9997
    },
    {
      "position": 26,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_relationship_model.4_ManyToManyField._check_relationship_model.6.1",
      "distance": 1.1073174476623535,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1315,
      "end_line": 1387,
      "tokens": 616,
      "context_length": 10613
    },
    {
      "position": 27,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_reverse_many_to_one_manager_create_reverse_many_to_one_manager.RelatedManager._apply_rel_filters.9.1",
      "distance": 1.1109699010849,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 551,
      "end_line": 606,
      "tokens": 478,
      "context_length": 11091
    },
    {
      "position": 28,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_table_uniqueness_ManyToManyField._check_table_uniqueness.8.1",
      "distance": 1.1120139360427856,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1389,
      "end_line": 1419,
      "tokens": 322,
      "context_length": 11413
    },
    {
      "position": 29,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_create_generic_related_manager.GenericRelatedObjectManager.add_create_generic_related_manager.GenericRelatedObjectManager.add.4.4.1.1.2",
      "distance": 1.1139031648635864,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 598,
      "end_line": 629,
      "tokens": 278,
      "context_length": 11691
    },
    {
      "position": 30,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignKey._check_unique_ForeignKey.deconstruct.10.1",
      "distance": 1.1148604154586792,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 847,
      "end_line": 873,
      "tokens": 240,
      "context_length": 11931
    },
    {
      "position": 31,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager.clear_create_forward_many_to_many_manager.ManyRelatedManager.clear.alters_data.1",
      "distance": 1.1177663803100586,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 966,
      "end_line": 983,
      "tokens": 190,
      "context_length": 12121
    },
    {
      "position": 32,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager._remove_items_",
      "distance": 1.1194515228271484,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 1161,
      "end_line": 1202,
      "tokens": 392,
      "context_length": 12513
    },
    {
      "position": 33,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField.contribute_to_related_class_ManyToManyField.contribute_to_related_class.3.self.m2m_reverse_target_field_name.1",
      "distance": 1.120452642440796,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1593,
      "end_line": 1609,
      "tokens": 286,
      "context_length": 12799
    },
    {
      "position": 34,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ReverseManyToOneDescriptor_ReverseManyToOneDescriptor.__set__.1",
      "distance": 1.1250650882720947,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 494,
      "end_line": 548,
      "tokens": 338,
      "context_length": 13137
    },
    {
      "position": 35,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager.set_create_forward_many_to_many_manager.ManyRelatedManager.set.objs.3.1.3.5",
      "distance": 1.127732276916504,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 985,
      "end_line": 1011,
      "tokens": 248,
      "context_length": 13385
    },
    {
      "position": 36,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_create_generic_related_manager.GenericRelatedObjectManager.get_prefetch_queryset_create_generic_related_manager.GenericRelatedObjectManager.get_prefetch_queryset.10.1",
      "distance": 1.1281174421310425,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 565,
      "end_line": 596,
      "tokens": 308,
      "context_length": 13693
    },
    {
      "position": 37,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_functools_RECURSIVE_RELATIONSHIP_CONSTANT.1",
      "distance": 1.1301684379577637,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1,
      "end_line": 34,
      "tokens": 244,
      "context_length": 13937
    },
    {
      "position": 38,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.generate_created_models.6_MigrationAutodetector.generate_created_models.6.36.1.1",
      "distance": 1.1330502033233643,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 525,
      "end_line": 671,
      "tokens": 1109,
      "context_length": 15046
    },
    {
      "position": 39,
      "id": "/tmp/repos/django/django/db/models/sql/datastructures.py_Join.relabeled_clone_Join.relabeled_clone.4.1",
      "distance": 1.1344561576843262,
      "file_path": "django/db/models/sql/datastructures.py",
      "start_line": 104,
      "end_line": 115,
      "tokens": 133,
      "context_length": 15179
    },
    {
      "position": 40,
      "id": "/tmp/repos/django/django/db/models/base.py_copy_DEFERRED.1",
      "distance": 1.137248158454895,
      "file_path": "django/db/models/base.py",
      "start_line": 1,
      "end_line": 50,
      "tokens": 330,
      "context_length": 15509,
      "file_pos": 9
    },
    {
      "position": 41,
      "id": "/tmp/repos/django/django/db/models/base.py_ModelBase.__new__.45_ModelBase.__new__.52.1",
      "distance": 1.1382919549942017,
      "file_path": "django/db/models/base.py",
      "start_line": 212,
      "end_line": 322,
      "tokens": 866,
      "context_length": 16375,
      "file_pos": 9
    },
    {
      "position": 42,
      "id": "/tmp/repos/django/django/db/models/query.py_prefetch_related_objects.13_prefetch_related_objects.13.7.2.16.8.new_obj_list.obj_list.1",
      "distance": 1.1393107175827026,
      "file_path": "django/db/models/query.py",
      "start_line": 1621,
      "end_line": 1727,
      "tokens": 1063,
      "context_length": 17438
    },
    {
      "position": 43,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_create_generic_related_manager.GenericRelatedObjectManager.set_create_generic_related_manager.GenericRelatedObjectManager.set.objs.3.1.3.5",
      "distance": 1.1406910419464111,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 656,
      "end_line": 676,
      "tokens": 188,
      "context_length": 17626
    },
    {
      "position": 44,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_RelatedField._check_clashes.39_RelatedField._check_clashes.40.1",
      "distance": 1.1412732601165771,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 255,
      "end_line": 282,
      "tokens": 269,
      "context_length": 17895
    },
    {
      "position": 45,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_ModelDetailView_ModelDetailView.get_context_data.15",
      "distance": 1.1426870822906494,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 183,
      "end_line": 249,
      "tokens": 584,
      "context_length": 18479
    },
    {
      "position": 46,
      "id": "/tmp/repos/django/django/contrib/admindocs/utils.py_default_reference_role_unnamed_group_matcher.1",
      "distance": 1.1439616680145264,
      "file_path": "django/contrib/admindocs/utils.py",
      "start_line": 115,
      "end_line": 139,
      "tokens": 185,
      "context_length": 18664
    },
    {
      "position": 47,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_create_generic_related_manager.GenericRelatedObjectManager.add.alters_data_create_generic_related_manager.GenericRelatedObjectManager._clear.alters_data.1",
      "distance": 1.1448894739151,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 630,
      "end_line": 654,
      "tokens": 214,
      "context_length": 18878
    },
    {
      "position": 48,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_CreateModel.references_model_CreateModel.references_model.8.1",
      "distance": 1.1474614143371582,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 102,
      "end_line": 118,
      "tokens": 147,
      "context_length": 19025
    },
    {
      "position": 49,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.generate_altered_order_with_respect_to_MigrationAutodetector.generate_altered_order_with_respect_to.1.4.dependencies.4",
      "distance": 1.148310899734497,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 1182,
      "end_line": 1207,
      "tokens": 245,
      "context_length": 19270
    },
    {
      "position": 50,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.managers_Options.managers_map.1.1",
      "distance": 1.1492021083831787,
      "file_path": "django/db/models/options.py",
      "start_line": 363,
      "end_line": 385,
      "tokens": 164,
      "context_length": 19434,
      "file_pos": 13
    },
    {
      "position": 51,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_m2m_through_same_relationship_Model._check_m2m_through_same_relationship.10.1",
      "distance": 1.1494293212890625,
      "file_path": "django/db/models/base.py",
      "start_line": 1343,
      "end_line": 1373,
      "tokens": 244,
      "context_length": 19678,
      "file_pos": 13
    },
    {
      "position": 52,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignObject.contribute_to_related_class_33",
      "distance": 1.1502621173858643,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 738,
      "end_line": 756,
      "tokens": 222,
      "context_length": 19900
    },
    {
      "position": 53,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.get_base_chain_Options.get_parent_list.4.1",
      "distance": 1.1517258882522583,
      "file_path": "django/db/models/options.py",
      "start_line": 585,
      "end_line": 611,
      "tokens": 197,
      "context_length": 20097,
      "file_pos": 13
    },
    {
      "position": 54,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignObject._check_unique_target_ForeignObject._check_unique_target.9.5.1.1",
      "distance": 1.1527777910232544,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 509,
      "end_line": 563,
      "tokens": 409,
      "context_length": 20506
    },
    {
      "position": 55,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.setup_pk_Options.__str__.1.1",
      "distance": 1.1528525352478027,
      "file_path": "django/db/models/options.py",
      "start_line": 296,
      "end_line": 314,
      "tokens": 136,
      "context_length": 20642,
      "file_pos": 13
    },
    {
      "position": 56,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_property_name_related_field_accessor_clashes_Model._check_single_primary_key.3.1",
      "distance": 1.1538186073303223,
      "file_path": "django/db/models/base.py",
      "start_line": 1498,
      "end_line": 1530,
      "tokens": 231,
      "context_length": 20873,
      "file_pos": 13
    },
    {
      "position": 57,
      "id": "/tmp/repos/django/django/contrib/admin/migrations/0001_initial.py_django.contrib.admin.models_",
      "distance": 1.154125452041626,
      "file_path": "django/contrib/admin/migrations/0001_initial.py",
      "start_line": 1,
      "end_line": 48,
      "tokens": 320,
      "context_length": 21193
    },
    {
      "position": 58,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_ignored_options_ManyToManyField._check_ignored_options.5.1",
      "distance": 1.1548957824707031,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1169,
      "end_line": 1200,
      "tokens": 180,
      "context_length": 21373
    },
    {
      "position": 59,
      "id": "/tmp/repos/django/django/db/models/base.py_ModelBase.__new__.field_names_ModelBase.__new__.44",
      "distance": 1.1564242839813232,
      "file_path": "django/db/models/base.py",
      "start_line": 169,
      "end_line": 211,
      "tokens": 406,
      "context_length": 21779,
      "file_pos": 14
    },
    {
      "position": 60,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.add_operation_MigrationAutodetector.swappable_first_key.3.1",
      "distance": 1.158463954925537,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 437,
      "end_line": 463,
      "tokens": 256,
      "context_length": 22035
    },
    {
      "position": 61,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.save_base.alters_data_Model._save_parents.5.1",
      "distance": 1.158642292022705,
      "file_path": "django/db/models/base.py",
      "start_line": 802,
      "end_line": 830,
      "tokens": 307,
      "context_length": 22342,
      "file_pos": 14
    },
    {
      "position": 62,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.base_manager_Options.base_manager.8.1",
      "distance": 1.1587542295455933,
      "file_path": "django/db/models/options.py",
      "start_line": 387,
      "end_line": 413,
      "tokens": 175,
      "context_length": 22517,
      "file_pos": 14
    },
    {
      "position": 63,
      "id": "/tmp/repos/django/django/contrib/admindocs/urls.py_1_",
      "distance": 1.158936858177185,
      "file_path": "django/contrib/admindocs/urls.py",
      "start_line": 1,
      "end_line": 51,
      "tokens": 307,
      "context_length": 22824
    },
    {
      "position": 64,
      "id": "/tmp/repos/django/django/forms/models.py_26_BaseInlineFormSet.initial_form_count.2.1",
      "distance": 1.1591217517852783,
      "file_path": "django/forms/models.py",
      "start_line": 886,
      "end_line": 916,
      "tokens": 289,
      "context_length": 23113
    },
    {
      "position": 65,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ForwardManyToOneDescriptor_ForwardManyToOneDescriptor.get_queryset.1.1",
      "distance": 1.1598918437957764,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 82,
      "end_line": 118,
      "tokens": 264,
      "context_length": 23377
    },
    {
      "position": 66,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._get_next_or_previous_in_order_Model._get_next_or_previous_in_order.3.1",
      "distance": 1.160668134689331,
      "file_path": "django/db/models/base.py",
      "start_line": 968,
      "end_line": 981,
      "tokens": 180,
      "context_length": 23557,
      "file_pos": 16
    },
    {
      "position": 67,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignKey.validate_ForeignKey.validate.7.1",
      "distance": 1.1647515296936035,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 896,
      "end_line": 916,
      "tokens": 178,
      "context_length": 23735
    },
    {
      "position": 68,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_ViewDetailView.get_context_data_ModelIndexView.get_context_data.2.1",
      "distance": 1.164982557296753,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 156,
      "end_line": 180,
      "tokens": 234,
      "context_length": 23969
    },
    {
      "position": 69,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._get_path_info_ManyToManyField._get_path_info.12.1",
      "distance": 1.1665065288543701,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1463,
      "end_line": 1487,
      "tokens": 295,
      "context_length": 24264
    },
    {
      "position": 70,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignObject.get_instance_value_for_fields_ForeignObject.get_instance_value_for_fields.4.1",
      "distance": 1.1669515371322632,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 640,
      "end_line": 656,
      "tokens": 163,
      "context_length": 24427
    },
    {
      "position": 71,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_InlineModelAdmin.has_add_permission_",
      "distance": 1.1671724319458008,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 2148,
      "end_line": 2183,
      "tokens": 315,
      "context_length": 24742
    },
    {
      "position": 72,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_create_many_to_many_intermediary_model_create_many_to_many_intermediary_model.11.1",
      "distance": 1.1672122478485107,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1044,
      "end_line": 1088,
      "tokens": 407,
      "context_length": 25149
    },
    {
      "position": 73,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_ordering_Model._check_ordering.29.1",
      "distance": 1.1678643226623535,
      "file_path": "django/db/models/base.py",
      "start_line": 1665,
      "end_line": 1763,
      "tokens": 717,
      "context_length": 25866,
      "file_pos": 17
    },
    {
      "position": 74,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_AlterOrderWithRespectTo.database_backwards_AlterOrderWithRespectTo.describe.1.1",
      "distance": 1.1686570644378662,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 609,
      "end_line": 622,
      "tokens": 137,
      "context_length": 26003
    },
    {
      "position": 75,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField.deconstruct_ManyToManyField.deconstruct.12.1",
      "distance": 1.1694786548614502,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1421,
      "end_line": 1461,
      "tokens": 399,
      "context_length": 26402
    },
    {
      "position": 76,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector._sort_migrations_MigrationAutodetector._sort_migrations.2.dependency_graph.4",
      "distance": 1.16951584815979,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 337,
      "end_line": 356,
      "tokens": 196,
      "context_length": 26598
    },
    {
      "position": 77,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_create_generic_related_manager_create_generic_related_manager.GenericRelatedObjectManager.get_queryset.1.2.2.1",
      "distance": 1.1695303916931152,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 507,
      "end_line": 563,
      "tokens": 439,
      "context_length": 27037
    },
    {
      "position": 78,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_field_name_clashes_Model._check_field_name_clashes.12.1",
      "distance": 1.1704156398773193,
      "file_path": "django/db/models/base.py",
      "start_line": 1392,
      "end_line": 1447,
      "tokens": 491,
      "context_length": 27528,
      "file_pos": 17
    },
    {
      "position": 79,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.contribute_to_class_Options.contribute_to_class.16.self.db_table_2.1",
      "distance": 1.1705396175384521,
      "file_path": "django/db/models/options.py",
      "start_line": 149,
      "end_line": 208,
      "tokens": 587,
      "context_length": 28115,
      "file_pos": 17
    },
    {
      "position": 80,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.join_parent_model_Query.join_parent_model.7.1",
      "distance": 1.1737875938415527,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 984,
      "end_line": 1015,
      "tokens": 307,
      "context_length": 28422
    },
    {
      "position": 81,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_GenericForeignKey_GenericForeignKey._check_object_id_field.1.3.1.1",
      "distance": 1.1741867065429688,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 21,
      "end_line": 109,
      "tokens": 571,
      "context_length": 28993
    },
    {
      "position": 82,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.add_manager_Options.add_field.5.12.3.1",
      "distance": 1.1744635105133057,
      "file_path": "django/db/models/options.py",
      "start_line": 262,
      "end_line": 294,
      "tokens": 331,
      "context_length": 29324,
      "file_pos": 18
    },
    {
      "position": 83,
      "id": "/tmp/repos/django/django/db/models/fields/reverse_related.py_OneToOneRel_OneToOneRel.__init__.self.multiple.1",
      "distance": 1.1746227741241455,
      "file_path": "django/db/models/fields/reverse_related.py",
      "start_line": 230,
      "end_line": 249,
      "tokens": 147,
      "context_length": 29471
    },
    {
      "position": 84,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_local_fields_Model._check_local_fields.8.1",
      "distance": 1.1751668453216553,
      "file_path": "django/db/models/base.py",
      "start_line": 1615,
      "end_line": 1663,
      "tokens": 348,
      "context_length": 29819,
      "file_pos": 19
    },
    {
      "position": 85,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.generate_altered_unique_together_MigrationAutodetector.generate_altered_db_table.2.6.1",
      "distance": 1.1754531860351562,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 1123,
      "end_line": 1144,
      "tokens": 231,
      "context_length": 30050
    },
    {
      "position": 86,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._get_next_or_previous_by_FIELD_Model._get_next_or_previous_by_FIELD.8.2.1",
      "distance": 1.1765685081481934,
      "file_path": "django/db/models/base.py",
      "start_line": 952,
      "end_line": 966,
      "tokens": 212,
      "context_length": 30262,
      "file_pos": 19
    },
    {
      "position": 87,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_RelatedIn.as_sql_RelatedIn.as_sql.1.5.2.1",
      "distance": 1.1766424179077148,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 62,
      "end_line": 99,
      "tokens": 447,
      "context_length": 30709
    },
    {
      "position": 88,
      "id": "/tmp/repos/django/django/contrib/flatpages/migrations/0001_initial.py_1_",
      "distance": 1.176849365234375,
      "file_path": "django/contrib/flatpages/migrations/0001_initial.py",
      "start_line": 1,
      "end_line": 40,
      "tokens": 307,
      "context_length": 31016
    },
    {
      "position": 89,
      "id": "/tmp/repos/django/django/db/models/deletion.py_operator_get_candidate_relations_to_delete.3.1",
      "distance": 1.1770912408828735,
      "file_path": "django/db/models/deletion.py",
      "start_line": 1,
      "end_line": 76,
      "tokens": 566,
      "context_length": 31582
    },
    {
      "position": 90,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.get_inline_formsets_ModelAdmin.get_inline_formsets.can_edit_parent.4.1",
      "distance": 1.1773113012313843,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1466,
      "end_line": 1489,
      "tokens": 319,
      "context_length": 31901
    },
    {
      "position": 91,
      "id": "/tmp/repos/django/django/db/models/manager.py_copy_BaseManager.creation_counter.__hash__.1.1",
      "distance": 1.1777818202972412,
      "file_path": "django/db/models/manager.py",
      "start_line": 1,
      "end_line": 162,
      "tokens": 1223,
      "context_length": 33124
    },
    {
      "position": 92,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.check_Model.check.3.1",
      "distance": 1.1778415441513062,
      "file_path": "django/db/models/base.py",
      "start_line": 1254,
      "end_line": 1283,
      "tokens": 242,
      "context_length": 33366,
      "file_pos": 23
    },
    {
      "position": 93,
      "id": "/tmp/repos/django/django/contrib/redirects/migrations/0001_initial.py_1_",
      "distance": 1.1799794435501099,
      "file_path": "django/contrib/redirects/migrations/0001_initial.py",
      "start_line": 1,
      "end_line": 41,
      "tokens": 274,
      "context_length": 33640
    },
    {
      "position": 94,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_ModelDetailView.get_context_data.16_ModelDetailView.get_context_data.19.1",
      "distance": 1.1807851791381836,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 250,
      "end_line": 315,
      "tokens": 585,
      "context_length": 34225
    },
    {
      "position": 95,
      "id": "/tmp/repos/django/django/contrib/admindocs/utils.py_13_create_reference_role",
      "distance": 1.1809337139129639,
      "file_path": "django/contrib/admindocs/utils.py",
      "start_line": 86,
      "end_line": 112,
      "tokens": 175,
      "context_length": 34400
    },
    {
      "position": 96,
      "id": "/tmp/repos/django/django/db/models/options.py_Options_Options.installed.1.1",
      "distance": 1.181525468826294,
      "file_path": "django/db/models/options.py",
      "start_line": 65,
      "end_line": 147,
      "tokens": 668,
      "context_length": 35068,
      "file_pos": 24
    },
    {
      "position": 97,
      "id": "/tmp/repos/django/django/db/migrations/exceptions.py_1_",
      "distance": 1.18159818649292,
      "file_path": "django/db/migrations/exceptions.py",
      "start_line": 1,
      "end_line": 55,
      "tokens": 250,
      "context_length": 35318
    },
    {
      "position": 98,
      "id": "/tmp/repos/django/django/contrib/admin/utils.py_NestedObjects_NestedObjects.collect.2.3.1",
      "distance": 1.1820863485336304,
      "file_path": "django/contrib/admin/utils.py",
      "start_line": 159,
      "end_line": 185,
      "tokens": 239,
      "context_length": 35557
    },
    {
      "position": 99,
      "id": "/tmp/repos/django/django/contrib/auth/migrations/0001_initial.py_django.contrib.auth.models_",
      "distance": 1.1855828762054443,
      "file_path": "django/contrib/auth/migrations/0001_initial.py",
      "start_line": 1,
      "end_line": 105,
      "tokens": 849,
      "context_length": 36406
    },
    {
      "position": 100,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_model_name_db_lookup_clashes_Model._check_model_name_db_lookup_clashes.4.1",
      "distance": 1.1860418319702148,
      "file_path": "django/db/models/base.py",
      "start_line": 1474,
      "end_line": 1496,
      "tokens": 171,
      "context_length": 36577,
      "file_pos": 27
    },
    {
      "position": 101,
      "id": "/tmp/repos/django/django/db/models/sql/datastructures.py_Join.equals_Join.promote.3.1",
      "distance": 1.1861639022827148,
      "file_path": "django/db/models/sql/datastructures.py",
      "start_line": 117,
      "end_line": 137,
      "tokens": 144,
      "context_length": 36721
    },
    {
      "position": 102,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._perform_unique_checks_Model._perform_unique_checks.3.1",
      "distance": 1.186264157295227,
      "file_path": "django/db/models/base.py",
      "start_line": 1072,
      "end_line": 1115,
      "tokens": 404,
      "context_length": 37125,
      "file_pos": 27
    },
    {
      "position": 103,
      "id": "/tmp/repos/django/django/contrib/admindocs/views.py_inspect_MODEL_METHODS_EXCLUDE.1",
      "distance": 1.1889441013336182,
      "file_path": "django/contrib/admindocs/views.py",
      "start_line": 1,
      "end_line": 30,
      "tokens": 223,
      "context_length": 37348
    },
    {
      "position": 104,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_RelatedIn_RelatedIn.get_prep_lookup.2.1",
      "distance": 1.188960075378418,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 46,
      "end_line": 60,
      "tokens": 224,
      "context_length": 37572
    },
    {
      "position": 105,
      "id": "/tmp/repos/django/django/conf/__init__.py_1_SettingsReference.__init__.self.setting_name.1",
      "distance": 1.1890881061553955,
      "file_path": "django/conf/__init__.py",
      "start_line": 1,
      "end_line": 40,
      "tokens": 240,
      "context_length": 37812
    },
    {
      "position": 106,
      "id": "/tmp/repos/django/django/db/migrations/state.py_copy__get_app_label_and_model_name.1.3.1.1",
      "distance": 1.1891945600509644,
      "file_path": "django/db/migrations/state.py",
      "start_line": 1,
      "end_line": 24,
      "tokens": 191,
      "context_length": 38003
    },
    {
      "position": 107,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_1_ForeignKeyDeferredAttribute.__set__.2",
      "distance": 1.189349889755249,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 1,
      "end_line": 79,
      "tokens": 683,
      "context_length": 38686
    },
    {
      "position": 108,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignKey._check_on_delete_ForeignKey._check_on_delete.2.3.1.1",
      "distance": 1.1894351243972778,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 824,
      "end_line": 845,
      "tokens": 169,
      "context_length": 38855
    },
    {
      "position": 109,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager._get_add_plan_create_forward_many_to_many_manager.ManyRelatedManager._get_add_plan.15.1",
      "distance": 1.19084632396698,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 1085,
      "end_line": 1112,
      "tokens": 338,
      "context_length": 39193
    },
    {
      "position": 110,
      "id": "/tmp/repos/django/django/db/models/options.py_Options._populate_directed_relation_graph_Options._populate_directed_relation_graph.8.1",
      "distance": 1.1915922164916992,
      "file_path": "django/db/models/options.py",
      "start_line": 685,
      "end_line": 719,
      "tokens": 378,
      "context_length": 39571,
      "file_pos": 29
    },
    {
      "position": 111,
      "id": "/tmp/repos/django/django/forms/models.py_BaseInlineFormSet._construct_form_BaseInlineFormSet.save_new.4",
      "distance": 1.1926414966583252,
      "file_path": "django/forms/models.py",
      "start_line": 918,
      "end_line": 950,
      "tokens": 353,
      "context_length": 39924
    },
    {
      "position": 112,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignObject.deconstruct_ForeignObject.deconstruct.12.1",
      "distance": 1.192879557609558,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 565,
      "end_line": 598,
      "tokens": 318,
      "context_length": 40242
    },
    {
      "position": 113,
      "id": "/tmp/repos/django/django/db/models/options.py_Options._relation_tree_Options._expire_cache.3.self._get_fields_cache.1",
      "distance": 1.1972410678863525,
      "file_path": "django/db/models/options.py",
      "start_line": 721,
      "end_line": 736,
      "tokens": 144,
      "context_length": 40386,
      "file_pos": 29
    },
    {
      "position": 114,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ForwardManyToOneDescriptor.__get___ForwardManyToOneDescriptor.__get__.7.2.1.1",
      "distance": 1.1974490880966187,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 156,
      "end_line": 201,
      "tokens": 445,
      "context_length": 40831
    },
    {
      "position": 115,
      "id": "/tmp/repos/django/django/db/models/query.py_prefetch_one_level.29_prefetch_one_level.30.1",
      "distance": 1.1980313062667847,
      "file_path": "django/db/models/query.py",
      "start_line": 1842,
      "end_line": 1874,
      "tokens": 314,
      "context_length": 41145
    },
    {
      "position": 116,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.from_db_Model.__getstate__.2.1",
      "distance": 1.198351502418518,
      "file_path": "django/db/models/base.py",
      "start_line": 505,
      "end_line": 547,
      "tokens": 347,
      "context_length": 41492,
      "file_pos": 29
    },
    {
      "position": 117,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignKey.formfield_ForeignKey.formfield.2.1",
      "distance": 1.1985325813293457,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 952,
      "end_line": 962,
      "tokens": 121,
      "context_length": 41613
    },
    {
      "position": 118,
      "id": "/tmp/repos/django/django/db/migrations/state.py_ModelState.__eq___",
      "distance": 1.1985702514648438,
      "file_path": "django/db/migrations/state.py",
      "start_line": 601,
      "end_line": 612,
      "tokens": 136,
      "context_length": 41749
    },
    {
      "position": 119,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_BaseModelAdmin.to_field_allowed_BaseModelAdmin.to_field_allowed.16.1",
      "distance": 1.1988048553466797,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 422,
      "end_line": 465,
      "tokens": 350,
      "context_length": 42099
    },
    {
      "position": 120,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignObject.resolve_related_fields_ForeignObject.resolve_related_fields.5.1",
      "distance": 1.1988210678100586,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 600,
      "end_line": 614,
      "tokens": 186,
      "context_length": 42285
    },
    {
      "position": 121,
      "id": "/tmp/repos/django/django/db/models/options.py_Options.default_manager_Options.default_manager.4.1.1",
      "distance": 1.1997034549713135,
      "file_path": "django/db/models/options.py",
      "start_line": 415,
      "end_line": 437,
      "tokens": 154,
      "context_length": 42439,
      "file_pos": 29
    },
    {
      "position": 122,
      "id": "/tmp/repos/django/django/db/models/manager.py_Manager_",
      "distance": 1.199758768081665,
      "file_path": "django/db/models/manager.py",
      "start_line": 165,
      "end_line": 202,
      "tokens": 211,
      "context_length": 42650
    },
    {
      "position": 123,
      "id": "/tmp/repos/django/django/core/serializers/xml_serializer.py_Serializer.handle_m2m_field_Serializer._start_relational_field.3",
      "distance": 1.2001662254333496,
      "file_path": "django/core/serializers/xml_serializer.py",
      "start_line": 111,
      "end_line": 147,
      "tokens": 330,
      "context_length": 42980
    },
    {
      "position": 124,
      "id": "/tmp/repos/django/django/contrib/contenttypes/migrations/0001_initial.py_django.contrib.contenttypes.models_",
      "distance": 1.200317621231079,
      "file_path": "django/contrib/contenttypes/migrations/0001_initial.py",
      "start_line": 1,
      "end_line": 35,
      "tokens": 207,
      "context_length": 43187
    },
    {
      "position": 125,
      "id": "/tmp/repos/django/django/contrib/admin/checks.py_InlineModelAdminChecks._check_exclude_of_parent_model_InlineModelAdminChecks._check_exclude_of_parent_model.errors.7.2.1.1",
      "distance": 1.2003378868103027,
      "file_path": "django/contrib/admin/checks.py",
      "start_line": 1019,
      "end_line": 1046,
      "tokens": 204,
      "context_length": 43391
    },
    {
      "position": 126,
      "id": "/tmp/repos/django/django/forms/models.py_BaseModelFormSet.validate_unique_BaseModelFormSet.validate_unique.all_unique_checks.11.1",
      "distance": 1.200371503829956,
      "file_path": "django/forms/models.py",
      "start_line": 679,
      "end_line": 750,
      "tokens": 732,
      "context_length": 44123
    },
    {
      "position": 127,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager._build_remove_filters_create_forward_many_to_many_manager.ManyRelatedManager._build_remove_filters.7.1",
      "distance": 1.20066499710083,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 864,
      "end_line": 878,
      "tokens": 190,
      "context_length": 44313
    },
    {
      "position": 128,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_forward_many_to_many_manager.ManyRelatedManager._apply_rel_filters_create_forward_many_to_many_manager.ManyRelatedManager.get_queryset.1.2.2.1",
      "distance": 1.2006988525390625,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 880,
      "end_line": 901,
      "tokens": 199,
      "context_length": 44512
    },
    {
      "position": 129,
      "id": "/tmp/repos/django/django/db/migrations/operations/utils.py_1_is_referenced_by_foreign_key.2.1",
      "distance": 1.2012619972229004,
      "file_path": "django/db/migrations/operations/utils.py",
      "start_line": 1,
      "end_line": 14,
      "tokens": 138,
      "context_length": 44650
    },
    {
      "position": 130,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.save.alters_data_Model.save_base.18.1",
      "distance": 1.2013145685195923,
      "file_path": "django/db/models/base.py",
      "start_line": 751,
      "end_line": 800,
      "tokens": 456,
      "context_length": 45106,
      "file_pos": 33
    },
    {
      "position": 131,
      "id": "/tmp/repos/django/django/contrib/contenttypes/fields.py_GenericRelation._get_path_info_with_parent_GenericRelation._get_path_info_with_parent.22.1",
      "distance": 1.2024340629577637,
      "file_path": "django/contrib/contenttypes/fields.py",
      "start_line": 357,
      "end_line": 395,
      "tokens": 405,
      "context_length": 45511
    },
    {
      "position": 132,
      "id": "/tmp/repos/django/django/forms/models.py_BaseModelFormSet.get_queryset_BaseModelFormSet.get_queryset.2.1",
      "distance": 1.203296184539795,
      "file_path": "django/forms/models.py",
      "start_line": 628,
      "end_line": 645,
      "tokens": 167,
      "context_length": 45678
    },
    {
      "position": 133,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor.alter_unique_together_BaseDatabaseSchemaEditor.alter_unique_together.7.2",
      "distance": 1.2034554481506348,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 370,
      "end_line": 384,
      "tokens": 182,
      "context_length": 45860
    },
    {
      "position": 134,
      "id": "/tmp/repos/django/django/forms/models.py_BaseModelForm._post_clean_BaseModelForm._post_clean.14.1",
      "distance": 1.2040531635284424,
      "file_path": "django/forms/models.py",
      "start_line": 382,
      "end_line": 410,
      "tokens": 240,
      "context_length": 46100
    },
    {
      "position": 135,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_1_ModelOperation.reduce.1.1",
      "distance": 1.204406976699829,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 1,
      "end_line": 38,
      "tokens": 238,
      "context_length": 46338
    },
    {
      "position": 136,
      "id": "/tmp/repos/django/django/db/models/query.py_RelatedPopulator.populate_",
      "distance": 1.2049070596694946,
      "file_path": "django/db/models/query.py",
      "start_line": 1938,
      "end_line": 1961,
      "tokens": 200,
      "context_length": 46538
    },
    {
      "position": 137,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_RelatedField._check_referencing_to_swapped_model_RelatedField._check_referencing_to_swapped_model.2.1",
      "distance": 1.2053223848342896,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 171,
      "end_line": 188,
      "tokens": 166,
      "context_length": 46704
    },
    {
      "position": 138,
      "id": "/tmp/repos/django/django/contrib/admin/views/main.py_ChangeList.apply_select_related_",
      "distance": 1.206160306930542,
      "file_path": "django/contrib/admin/views/main.py",
      "start_line": 471,
      "end_line": 502,
      "tokens": 225,
      "context_length": 46929
    }
  ],
  "files": [
    {
      "file_path": "django/db/models/fields/related.py",
      "position": 1,
      "tokens": 13512,
      "context_length": 13512
    },
    {
      "file_path": "django/db/models/fields/related_descriptors.py",
      "position": 2,
      "tokens": 10358,
      "context_length": 23870
    },
    {
      "file_path": "django/db/models/options.py",
      "position": 3,
      "tokens": 7084,
      "context_length": 30954
    },
    {
      "file_path": "django/db/models/base.py",
      "position": 4,
      "tokens": 15353,
      "context_length": 46307
    },
    {
      "file_path": "docs/_ext/djangodocs.py",
      "position": 5,
      "tokens": 3045,
      "context_length": 49352
    },
    {
      "file_path": "django/db/models/__init__.py",
      "position": 6,
      "tokens": 591,
      "context_length": 49943
    },
    {
      "file_path": "django/contrib/contenttypes/fields.py",
      "position": 7,
      "tokens": 5412,
      "context_length": 55355
    },
    {
      "file_path": "django/db/migrations/autodetector.py",
      "position": 8,
      "tokens": 11735,
      "context_length": 67090
    },
    {
      "file_path": "django/db/models/sql/datastructures.py",
      "position": 9,
      "tokens": 1402,
      "context_length": 68492
    },
    {
      "file_path": "django/db/models/query.py",
      "position": 10,
      "tokens": 17025,
      "context_length": 85517
    },
    {
      "file_path": "django/contrib/admindocs/views.py",
      "position": 11,
      "tokens": 3308,
      "context_length": 88825
    },
    {
      "file_path": "django/contrib/admindocs/utils.py",
      "position": 12,
      "tokens": 1906,
      "context_length": 90731
    },
    {
      "file_path": "django/db/migrations/operations/models.py",
      "position": 13,
      "tokens": 6696,
      "context_length": 97427
    },
    {
      "file_path": "django/contrib/admin/migrations/0001_initial.py",
      "position": 14,
      "tokens": 320,
      "context_length": 97747
    },
    {
      "file_path": "django/contrib/admindocs/urls.py",
      "position": 15,
      "tokens": 307,
      "context_length": 98054
    },
    {
      "file_path": "django/forms/models.py",
      "position": 16,
      "tokens": 11602,
      "context_length": 109656
    },
    {
      "file_path": "django/contrib/admin/options.py",
      "position": 17,
      "tokens": 18487,
      "context_length": 128143
    },
    {
      "file_path": "django/db/models/sql/query.py",
      "position": 18,
      "tokens": 21669,
      "context_length": 149812
    },
    {
      "file_path": "django/db/models/fields/reverse_related.py",
      "position": 19,
      "tokens": 2143,
      "context_length": 151955
    },
    {
      "file_path": "django/db/models/fields/related_lookups.py",
      "position": 20,
      "tokens": 1449,
      "context_length": 153404
    },
    {
      "file_path": "django/contrib/flatpages/migrations/0001_initial.py",
      "position": 21,
      "tokens": 307,
      "context_length": 153711
    },
    {
      "file_path": "django/db/models/deletion.py",
      "position": 22,
      "tokens": 3659,
      "context_length": 157370
    },
    {
      "file_path": "django/db/models/manager.py",
      "position": 23,
      "tokens": 1434,
      "context_length": 158804
    },
    {
      "file_path": "django/contrib/redirects/migrations/0001_initial.py",
      "position": 24,
      "tokens": 274,
      "context_length": 159078
    },
    {
      "file_path": "django/db/migrations/exceptions.py",
      "position": 25,
      "tokens": 251,
      "context_length": 159329
    },
    {
      "file_path": "django/contrib/admin/utils.py",
      "position": 26,
      "tokens": 4117,
      "context_length": 163446
    },
    {
      "file_path": "django/contrib/auth/migrations/0001_initial.py",
      "position": 27,
      "tokens": 849,
      "context_length": 164295
    },
    {
      "file_path": "django/conf/__init__.py",
      "position": 28,
      "tokens": 2059,
      "context_length": 166354
    },
    {
      "file_path": "django/db/migrations/state.py",
      "position": 29,
      "tokens": 5218,
      "context_length": 171572
    },
    {
      "file_path": "django/core/serializers/xml_serializer.py",
      "position": 30,
      "tokens": 3394,
      "context_length": 174966
    },
    {
      "file_path": "django/contrib/contenttypes/migrations/0001_initial.py",
      "position": 31,
      "tokens": 207,
      "context_length": 175173
    },
    {
      "file_path": "django/contrib/admin/checks.py",
      "position": 32,
      "tokens": 9048,
      "context_length": 184221
    },
    {
      "file_path": "django/db/migrations/operations/utils.py",
      "position": 33,
      "tokens": 480,
      "context_length": 184701
    },
    {
      "file_path": "django/db/backends/base/schema.py",
      "position": 34,
      "tokens": 11315,
      "context_length": 196016
    },
    {
      "file_path": "django/contrib/admin/views/main.py",
      "position": 35,
      "tokens": 4254,
      "context_length": 200270
    }
  ]
}