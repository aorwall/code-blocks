{
  "instance_id": "django__django-14017",
  "model_patch": "diff --git a/django/db/models/query_utils.py b/django/db/models/query_utils.py\nindex c957ffa564..53d9988162 100644\n--- a/django/db/models/query_utils.py\n+++ b/django/db/models/query_utils.py\n@@ -64,6 +64,15 @@ class Q(tree.Node):\n     def __and__(self, other):\n         return self._combine(other, self.AND)\n \n+    def __rand__(self, other):\n+        if not isinstance(other, Q):\n+            # Attempt to convert `other` to a Q object if possible\n+            if hasattr(other, 'resolve_expression'):\n+                other = Q(other.resolve_expression())\n+            else:\n+                raise TypeError('Cannot combine Q with non-Q instance, or instance without resolve_expression method.')\n+        return self._combine(other, self.AND)\n+\n     def __invert__(self):\n         obj = type(self)()\n         obj.add(self, self.AND)\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "django/db/models/query_utils.py"
  ],
  "repo": "django/django",
  "base_commit": "466920f6d726eee90d5566e0a9948e92b33a122e",
  "patch": "diff --git a/django/db/models/query_utils.py b/django/db/models/query_utils.py\n--- a/django/db/models/query_utils.py\n+++ b/django/db/models/query_utils.py\n@@ -40,7 +40,7 @@ def __init__(self, *args, _connector=None, _negated=False, **kwargs):\n         super().__init__(children=[*args, *sorted(kwargs.items())], connector=_connector, negated=_negated)\n \n     def _combine(self, other, conn):\n-        if not isinstance(other, Q):\n+        if not(isinstance(other, Q) or getattr(other, 'conditional', False) is True):\n             raise TypeError(other)\n \n         # If the other Q() is empty, ignore it and just use `self`.\n",
  "test_patch": "diff --git a/tests/expressions/tests.py b/tests/expressions/tests.py\n--- a/tests/expressions/tests.py\n+++ b/tests/expressions/tests.py\n@@ -815,6 +815,28 @@ def test_boolean_expression_combined(self):\n             Employee.objects.filter(Exists(is_poc) | Q(salary__lt=15)),\n             [self.example_inc.ceo, self.max],\n         )\n+        self.assertCountEqual(\n+            Employee.objects.filter(Q(salary__gte=30) & Exists(is_ceo)),\n+            [self.max],\n+        )\n+        self.assertCountEqual(\n+            Employee.objects.filter(Q(salary__lt=15) | Exists(is_poc)),\n+            [self.example_inc.ceo, self.max],\n+        )\n+\n+    def test_boolean_expression_combined_with_empty_Q(self):\n+        is_poc = Company.objects.filter(point_of_contact=OuterRef('pk'))\n+        self.gmbh.point_of_contact = self.max\n+        self.gmbh.save()\n+        tests = [\n+            Exists(is_poc) & Q(),\n+            Q() & Exists(is_poc),\n+            Exists(is_poc) | Q(),\n+            Q() | Exists(is_poc),\n+        ]\n+        for conditions in tests:\n+            with self.subTest(conditions):\n+                self.assertCountEqual(Employee.objects.filter(conditions), [self.max])\n \n \n class IterableLookupInnerExpressionsTests(TestCase):\n",
  "problem_statement": "Q(...) & Exists(...) raises a TypeError\nDescription\n\t\nExists(...) & Q(...) works, but Q(...) & Exists(...) raise a TypeError\nHere's a minimal example:\nIn [3]: Exists(Product.objects.all()) & Q()\nOut[3]: <Q: (AND: <django.db.models.expressions.Exists object at 0x7fc18dd0ed90>, (AND: ))>\nIn [4]: Q() & Exists(Product.objects.all())\n---------------------------------------------------------------------------\nTypeError\t\t\t\t\t\t\t\t Traceback (most recent call last)\n<ipython-input-4-21d3dea0fcb9> in <module>\n----> 1 Q() & Exists(Product.objects.all())\n~/Code/venv/ecom/lib/python3.8/site-packages/django/db/models/query_utils.py in __and__(self, other)\n\t 90 \n\t 91\t def __and__(self, other):\n---> 92\t\t return self._combine(other, self.AND)\n\t 93 \n\t 94\t def __invert__(self):\n~/Code/venv/ecom/lib/python3.8/site-packages/django/db/models/query_utils.py in _combine(self, other, conn)\n\t 71\t def _combine(self, other, conn):\n\t 72\t\t if not isinstance(other, Q):\n---> 73\t\t\t raise TypeError(other)\n\t 74 \n\t 75\t\t # If the other Q() is empty, ignore it and just use `self`.\nTypeError: <django.db.models.expressions.Exists object at 0x7fc18dd21400>\nThe & (and |) operators should be commutative on Q-Exists pairs, but it's not\nI think there's a missing definition of __rand__ somewhere.\n",
  "hints_text": "Reproduced on 3.1.6. The exception is raised by this two lines in the Q._combine, which are not present in the Combinable._combine from which Exists inherit. if not isinstance(other, Q): raise TypeError(other)\nTests: diff --git a/tests/expressions/tests.py b/tests/expressions/tests.py index 08ea0a51d3..20d0404f44 100644 --- a/tests/expressions/tests.py +++ b/tests/expressions/tests.py @@ -815,6 +815,15 @@ class BasicExpressionsTests(TestCase): Employee.objects.filter(Exists(is_poc) | Q(salary__lt=15)), [self.example_inc.ceo, self.max], ) + self.assertCountEqual( + Employee.objects.filter(Q(salary__gte=30) & Exists(is_ceo)), + [self.max], + ) + self.assertCountEqual( + Employee.objects.filter(Q(salary__lt=15) | Exists(is_poc)), + [self.example_inc.ceo, self.max], + ) + class IterableLookupInnerExpressionsTests(TestCase):\n\u200bPR",
  "created_at": "2021-02-18T13:05:27Z",
  "version": "4.0",
  "FAIL_TO_PASS": "[\"test_boolean_expression_combined (expressions.tests.BasicExpressionsTests)\", \"test_boolean_expression_combined_with_empty_Q (expressions.tests.BasicExpressionsTests)\"]",
  "PASS_TO_PASS": "[\"Complex expressions of different connection types are possible.\", \"Special characters (e.g. %, _ and \\\\) stored in database are\", \"This tests that SQL injection isn't possible using compilation of\", \"We can fill a value in all objects with an other value of the\", \"We can filter for objects, where a value is not equals the value\", \"We can increment a value of all objects in a query set.\", \"test_F_reuse (expressions.tests.ExpressionsTests)\", \"test_aggregate_rawsql_annotation (expressions.tests.BasicExpressionsTests)\", \"test_aggregate_subquery_annotation (expressions.tests.BasicExpressionsTests)\", \"test_aggregates (expressions.tests.ReprTests)\", \"test_and (expressions.tests.CombinableTests)\", \"test_annotate_values_aggregate (expressions.tests.BasicExpressionsTests)\", \"test_annotate_values_count (expressions.tests.BasicExpressionsTests)\", \"test_annotate_values_filter (expressions.tests.BasicExpressionsTests)\", \"test_annotation_with_nested_outerref (expressions.tests.BasicExpressionsTests)\", \"test_annotation_with_outerref (expressions.tests.BasicExpressionsTests)\", \"test_annotations_within_subquery (expressions.tests.BasicExpressionsTests)\", \"test_arithmetic (expressions.tests.BasicExpressionsTests)\", \"test_case_in_filter_if_boolean_output_field (expressions.tests.BasicExpressionsTests)\", \"test_compile_unresolved (expressions.tests.ValueTests)\", \"test_date_case_subtraction (expressions.tests.FTimeDeltaTests)\", \"test_date_comparison (expressions.tests.FTimeDeltaTests)\", \"test_date_minus_duration (expressions.tests.FTimeDeltaTests)\", \"test_date_subquery_subtraction (expressions.tests.FTimeDeltaTests)\", \"test_date_subtraction (expressions.tests.FTimeDeltaTests)\", \"test_datetime_subquery_subtraction (expressions.tests.FTimeDeltaTests)\", \"test_datetime_subtraction (expressions.tests.FTimeDeltaTests)\", \"test_datetime_subtraction_microseconds (expressions.tests.FTimeDeltaTests)\", \"test_deconstruct (expressions.tests.FTests)\", \"test_deconstruct (expressions.tests.ValueTests)\", \"test_deconstruct_output_field (expressions.tests.ValueTests)\", \"test_deepcopy (expressions.tests.FTests)\", \"test_delta_add (expressions.tests.FTimeDeltaTests)\", \"test_delta_subtract (expressions.tests.FTimeDeltaTests)\", \"test_delta_update (expressions.tests.FTimeDeltaTests)\", \"test_distinct_aggregates (expressions.tests.ReprTests)\", \"test_duration_expressions (expressions.tests.FTimeDeltaTests)\", \"test_duration_with_datetime (expressions.tests.FTimeDeltaTests)\", \"test_duration_with_datetime_microseconds (expressions.tests.FTimeDeltaTests)\", \"test_durationfield_add (expressions.tests.FTimeDeltaTests)\", \"test_empty_group_by (expressions.tests.ExpressionWrapperTests)\", \"test_equal (expressions.tests.FTests)\", \"test_equal (expressions.tests.SimpleExpressionTests)\", \"test_equal (expressions.tests.ValueTests)\", \"test_equal_output_field (expressions.tests.ValueTests)\", \"test_exclude (expressions.tests.FTimeDeltaTests)\", \"test_exist_single_field_output_field (expressions.tests.BasicExpressionsTests)\", \"test_exists_in_filter (expressions.tests.BasicExpressionsTests)\", \"test_explicit_output_field (expressions.tests.BasicExpressionsTests)\", \"test_expressions (expressions.tests.ReprTests)\", \"test_expressions_in_lookups_join_choice (expressions.tests.IterableLookupInnerExpressionsTests)\", \"test_filter_inter_attribute (expressions.tests.BasicExpressionsTests)\", \"test_filter_with_join (expressions.tests.BasicExpressionsTests)\", \"test_filtered_aggregates (expressions.tests.ReprTests)\", \"test_filtering_on_annotate_that_uses_q (expressions.tests.BasicExpressionsTests)\", \"test_filtering_on_q_that_is_boolean (expressions.tests.BasicExpressionsTests)\", \"test_filtering_on_rawsql_that_is_boolean (expressions.tests.BasicExpressionsTests)\", \"test_functions (expressions.tests.ReprTests)\", \"test_hash (expressions.tests.FTests)\", \"test_hash (expressions.tests.SimpleExpressionTests)\", \"test_hash (expressions.tests.ValueTests)\", \"test_in_lookup_allows_F_expressions_and_expressions_for_datetimes (expressions.tests.IterableLookupInnerExpressionsTests)\", \"test_in_lookup_allows_F_expressions_and_expressions_for_integers (expressions.tests.IterableLookupInnerExpressionsTests)\", \"test_in_subquery (expressions.tests.BasicExpressionsTests)\", \"test_incorrect_field_in_F_expression (expressions.tests.BasicExpressionsTests)\", \"test_incorrect_joined_field_in_F_expression (expressions.tests.BasicExpressionsTests)\", \"test_invalid_operator (expressions.tests.FTimeDeltaTests)\", \"test_lefthand_addition (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_bitwise_and (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_bitwise_left_shift_operator (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_bitwise_or (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_bitwise_right_shift_operator (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_bitwise_xor (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_bitwise_xor_null (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_division (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_modulo (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_multiplication (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_power (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_subtraction (expressions.tests.ExpressionOperatorTests)\", \"test_lefthand_transformed_field_bitwise_or (expressions.tests.ExpressionOperatorTests)\", \"test_mixed_comparisons2 (expressions.tests.FTimeDeltaTests)\", \"test_month_aggregation (expressions.tests.FieldTransformTests)\", \"test_multiple_query_compilation (expressions.tests.FTimeDeltaTests)\", \"test_multiple_transforms_in_values (expressions.tests.FieldTransformTests)\", \"test_negation (expressions.tests.CombinableTests)\", \"test_negative_timedelta_update (expressions.tests.FTimeDeltaTests)\", \"test_nested_outerref_with_function (expressions.tests.BasicExpressionsTests)\", \"test_nested_subquery (expressions.tests.BasicExpressionsTests)\", \"test_nested_subquery_join_outer_ref (expressions.tests.BasicExpressionsTests)\", \"test_nested_subquery_outer_ref_2 (expressions.tests.BasicExpressionsTests)\", \"test_nested_subquery_outer_ref_with_autofield (expressions.tests.BasicExpressionsTests)\", \"test_new_object_create (expressions.tests.BasicExpressionsTests)\", \"test_new_object_save (expressions.tests.BasicExpressionsTests)\", \"test_non_empty_group_by (expressions.tests.ExpressionWrapperTests)\", \"test_not_equal_Value (expressions.tests.FTests)\", \"test_object_create_with_aggregate (expressions.tests.BasicExpressionsTests)\", \"test_object_update (expressions.tests.BasicExpressionsTests)\", \"test_object_update_fk (expressions.tests.BasicExpressionsTests)\", \"test_object_update_unsaved_objects (expressions.tests.BasicExpressionsTests)\", \"test_optimizations (expressions.tests.ExistsTests)\", \"test_or (expressions.tests.CombinableTests)\", \"test_order_by_exists (expressions.tests.BasicExpressionsTests)\", \"test_order_by_multiline_sql (expressions.tests.BasicExpressionsTests)\", \"test_order_of_operations (expressions.tests.BasicExpressionsTests)\", \"test_outerref (expressions.tests.BasicExpressionsTests)\", \"test_outerref_mixed_case_table_name (expressions.tests.BasicExpressionsTests)\", \"test_outerref_with_operator (expressions.tests.BasicExpressionsTests)\", \"test_parenthesis_priority (expressions.tests.BasicExpressionsTests)\", \"test_pickle_expression (expressions.tests.BasicExpressionsTests)\", \"test_query_clone (expressions.tests.FTimeDeltaTests)\", \"test_raise_empty_expressionlist (expressions.tests.ValueTests)\", \"test_range_lookup_allows_F_expressions_and_expressions_for_integers (expressions.tests.IterableLookupInnerExpressionsTests)\", \"test_range_lookup_namedtuple (expressions.tests.IterableLookupInnerExpressionsTests)\", \"test_resolve_output_field (expressions.tests.CombinedExpressionTests)\", \"test_resolve_output_field (expressions.tests.ValueTests)\", \"test_resolve_output_field_failure (expressions.tests.ValueTests)\", \"test_reversed_and (expressions.tests.CombinableTests)\", \"test_reversed_or (expressions.tests.CombinableTests)\", \"test_right_hand_addition (expressions.tests.ExpressionOperatorTests)\", \"test_right_hand_division (expressions.tests.ExpressionOperatorTests)\", \"test_right_hand_modulo (expressions.tests.ExpressionOperatorTests)\", \"test_right_hand_multiplication (expressions.tests.ExpressionOperatorTests)\", \"test_right_hand_subtraction (expressions.tests.ExpressionOperatorTests)\", \"test_righthand_power (expressions.tests.ExpressionOperatorTests)\", \"test_subquery (expressions.tests.BasicExpressionsTests)\", \"test_subquery_eq (expressions.tests.BasicExpressionsTests)\", \"test_subquery_filter_by_aggregate (expressions.tests.BasicExpressionsTests)\", \"test_subquery_filter_by_lazy (expressions.tests.BasicExpressionsTests)\", \"test_subquery_group_by_outerref_in_filter (expressions.tests.BasicExpressionsTests)\", \"test_subquery_in_filter (expressions.tests.BasicExpressionsTests)\", \"test_subquery_references_joined_table_twice (expressions.tests.BasicExpressionsTests)\", \"test_ticket_11722_iexact_lookup (expressions.tests.BasicExpressionsTests)\", \"test_ticket_16731_startswith_lookup (expressions.tests.BasicExpressionsTests)\", \"test_ticket_18375_chained_filters (expressions.tests.BasicExpressionsTests)\", \"test_ticket_18375_join_reuse (expressions.tests.BasicExpressionsTests)\", \"test_ticket_18375_kwarg_ordering (expressions.tests.BasicExpressionsTests)\", \"test_ticket_18375_kwarg_ordering_2 (expressions.tests.BasicExpressionsTests)\", \"test_time_subquery_subtraction (expressions.tests.FTimeDeltaTests)\", \"test_time_subtraction (expressions.tests.FTimeDeltaTests)\", \"test_transform_in_values (expressions.tests.FieldTransformTests)\", \"test_update (expressions.tests.BasicExpressionsTests)\", \"test_update_TimeField_using_Value (expressions.tests.ValueTests)\", \"test_update_UUIDField_using_Value (expressions.tests.ValueTests)\", \"test_update_inherited_field_value (expressions.tests.BasicExpressionsTests)\", \"test_update_with_fk (expressions.tests.BasicExpressionsTests)\", \"test_update_with_none (expressions.tests.BasicExpressionsTests)\", \"test_uuid_pk_subquery (expressions.tests.BasicExpressionsTests)\"]",
  "environment_setup_commit": "475cffd1d64c690cdad16ede4d5e81985738ceb4",
  "patch_files": [
    "django/db/models/query_utils.py"
  ],
  "test_patch_files": [
    "tests/expressions/tests.py"
  ],
  "patch_diff_details": {
    "django/db/models/query_utils.py": {
      "diffs": [
        {
          "start_line_old": 43,
          "end_line_old": 43,
          "file_pos": 1,
          "file_context_length": 2551,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/query_utils.py_Q.__or___Q.resolve_expression.3",
          "closest_snippet_line_distance": 18,
          "pos": 8,
          "context_length": 1839
        }
      ]
    }
  },
  "vectors": 3513,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_Q.__or___Q.resolve_expression.3",
      "distance": 0.8601698875427246,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 61,
      "end_line": 81,
      "tokens": 181,
      "context_length": 181,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Exists_Exists.select_format.4.2.1",
      "distance": 0.9091514945030212,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1150,
      "end_line": 1182,
      "tokens": 254,
      "context_length": 435
    },
    {
      "position": 3,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__class_getitem___QuerySet.__or__.9.1",
      "distance": 0.9578317403793335,
      "file_path": "django/db/models/query.py",
      "start_line": 320,
      "end_line": 346,
      "tokens": 222,
      "context_length": 657
    },
    {
      "position": 4,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.intersection_QuerySet.difference.2.2.1",
      "distance": 1.0509724617004395,
      "file_path": "django/db/models/query.py",
      "start_line": 1009,
      "end_line": 1022,
      "tokens": 126,
      "context_length": 783
    },
    {
      "position": 5,
      "id": "/tmp/repos/django/django/contrib/postgres/search.py_SearchQueryCombinable_SearchQueryCombinable.__rand__.1.1",
      "distance": 1.0580753087997437,
      "file_path": "django/contrib/postgres/search.py",
      "start_line": 130,
      "end_line": 157,
      "tokens": 248,
      "context_length": 1031
    },
    {
      "position": 6,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._combinator_query_QuerySet.union.2.5.1",
      "distance": 1.0649609565734863,
      "file_path": "django/db/models/query.py",
      "start_line": 987,
      "end_line": 1007,
      "tokens": 239,
      "context_length": 1270
    },
    {
      "position": 7,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._update.alters_data_QuerySet.values.4.1",
      "distance": 1.069617748260498,
      "file_path": "django/db/models/query.py",
      "start_line": 803,
      "end_line": 842,
      "tokens": 322,
      "context_length": 1592
    },
    {
      "position": 8,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_Q_Q._combine.8.1",
      "distance": 1.0751821994781494,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 28,
      "end_line": 59,
      "tokens": 247,
      "context_length": 1839,
      "file_pos": 4
    },
    {
      "position": 9,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query._add_q_Query._add_q.9.1",
      "distance": 1.0956804752349854,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1401,
      "end_line": 1421,
      "tokens": 247,
      "context_length": 2086
    },
    {
      "position": 10,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_filter_Query.build_where.1.1",
      "distance": 1.098387598991394,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1378,
      "end_line": 1399,
      "tokens": 250,
      "context_length": 2336
    },
    {
      "position": 11,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.combine.40_Query.combine.self.extra_order_by.1",
      "distance": 1.1001182794570923,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 641,
      "end_line": 665,
      "tokens": 269,
      "context_length": 2605
    },
    {
      "position": 12,
      "id": "/tmp/repos/django/django/db/models/__init__.py_1_",
      "distance": 1.1014087200164795,
      "file_path": "django/db/models/__init__.py",
      "start_line": 1,
      "end_line": 53,
      "tokens": 619,
      "context_length": 3224
    },
    {
      "position": 13,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.check_related_objects_Query.check_filterable.3.1.1",
      "distance": 1.1073530912399292,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1132,
      "end_line": 1164,
      "tokens": 338,
      "context_length": 3562
    },
    {
      "position": 14,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.setup_joins.16_Query.setup_joins.17.1",
      "distance": 1.120263934135437,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1655,
      "end_line": 1679,
      "tokens": 227,
      "context_length": 3789
    },
    {
      "position": 15,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._merge_sanity_check_QuerySet._merge_sanity_check.2.1",
      "distance": 1.1277999877929688,
      "file_path": "django/db/models/query.py",
      "start_line": 1342,
      "end_line": 1351,
      "tokens": 114,
      "context_length": 3903
    },
    {
      "position": 16,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.split_exclude_Query.split_exclude.21.1",
      "distance": 1.1279394626617432,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1765,
      "end_line": 1830,
      "tokens": 666,
      "context_length": 4569
    },
    {
      "position": 17,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._merge_known_related_objects_QuerySet._not_support_combined_queries.1.1",
      "distance": 1.1350109577178955,
      "file_path": "django/db/models/query.py",
      "start_line": 1353,
      "end_line": 1401,
      "tokens": 405,
      "context_length": 4974
    },
    {
      "position": 18,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.build_filter.19_Query.build_filter.31.1",
      "distance": 1.1389787197113037,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1311,
      "end_line": 1376,
      "tokens": 772,
      "context_length": 5746
    },
    {
      "position": 19,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_filtered_relation_Query.add_filtered_relation.6",
      "distance": 1.139066457748413,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1445,
      "end_line": 1472,
      "tokens": 283,
      "context_length": 6029
    },
    {
      "position": 20,
      "id": "/tmp/repos/django/django/db/models/expressions.py_When_When.get_group_by_cols.cols.3.1",
      "distance": 1.14150071144104,
      "file_path": "django/db/models/expressions.py",
      "start_line": 940,
      "end_line": 1004,
      "tokens": 591,
      "context_length": 6620
    },
    {
      "position": 21,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.none_QuerySet._filter_or_exclude_inplace.1.2.1",
      "distance": 1.1495864391326904,
      "file_path": "django/db/models/query.py",
      "start_line": 918,
      "end_line": 968,
      "tokens": 371,
      "context_length": 6991
    },
    {
      "position": 22,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.names_to_path.3_Query.names_to_path.4.1",
      "distance": 1.1528003215789795,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1490,
      "end_line": 1575,
      "tokens": 801,
      "context_length": 7792
    },
    {
      "position": 23,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_Q.deconstruct_Q.deconstruct.6.1",
      "distance": 1.1542047262191772,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 83,
      "end_line": 97,
      "tokens": 157,
      "context_length": 7949,
      "file_pos": 6
    },
    {
      "position": 24,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Combinable_Combinable.__ror__.1",
      "distance": 1.156242847442627,
      "file_path": "django/db/models/expressions.py",
      "start_line": 33,
      "end_line": 147,
      "tokens": 836,
      "context_length": 8785
    },
    {
      "position": 25,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_1_JoinInfo.1",
      "distance": 1.1696637868881226,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1,
      "end_line": 63,
      "tokens": 460,
      "context_length": 9245
    },
    {
      "position": 26,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.combine_Query.combine.39",
      "distance": 1.1708310842514038,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 566,
      "end_line": 640,
      "tokens": 809,
      "context_length": 10054
    },
    {
      "position": 27,
      "id": "/tmp/repos/django/django/core/exceptions.py_ValidationError_",
      "distance": 1.174626350402832,
      "file_path": "django/core/exceptions.py",
      "start_line": 107,
      "end_line": 218,
      "tokens": 752,
      "context_length": 10806
    },
    {
      "position": 28,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.deferred_to_data.8_Query.deferred_to_data.8.6.6.1",
      "distance": 1.1880149841308594,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 716,
      "end_line": 751,
      "tokens": 389,
      "context_length": 11195
    },
    {
      "position": 29,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.join_parent_model_Query.join_parent_model.7.1",
      "distance": 1.1899824142456055,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1004,
      "end_line": 1035,
      "tokens": 307,
      "context_length": 11502
    },
    {
      "position": 30,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_ordering_Model._check_ordering.29.1",
      "distance": 1.1904250383377075,
      "file_path": "django/db/models/base.py",
      "start_line": 1767,
      "end_line": 1867,
      "tokens": 729,
      "context_length": 12231
    },
    {
      "position": 31,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.as_subquery_condition_SQLCompiler.ordering_parts.explain_query.4.1.2.1",
      "distance": 1.1905639171600342,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1208,
      "end_line": 1229,
      "tokens": 223,
      "context_length": 12454
    },
    {
      "position": 32,
      "id": "/tmp/repos/django/django/db/models/constraints.py_CheckConstraint_Deferrable.IMMEDIATE.1",
      "distance": 1.1908265352249146,
      "file_path": "django/db/models/constraints.py",
      "start_line": 32,
      "end_line": 76,
      "tokens": 372,
      "context_length": 12826
    },
    {
      "position": 33,
      "id": "/tmp/repos/django/django/db/models/lookups.py_Lookup.rhs_is_direct_value_Lookup.__hash__.1.1",
      "distance": 1.1918597221374512,
      "file_path": "django/db/models/lookups.py",
      "start_line": 101,
      "end_line": 155,
      "tokens": 427,
      "context_length": 13253
    },
    {
      "position": 34,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_RelatedLookupMixin.as_sql_",
      "distance": 1.1920491456985474,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 121,
      "end_line": 157,
      "tokens": 244,
      "context_length": 13497
    },
    {
      "position": 35,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.resolve_ref_Query.resolve_ref.2.3.12.1",
      "distance": 1.199091911315918,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1721,
      "end_line": 1763,
      "tokens": 436,
      "context_length": 13933
    },
    {
      "position": 36,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._annotate_QuerySet._annotate.10.1",
      "distance": 1.2002575397491455,
      "file_path": "django/db/models/query.py",
      "start_line": 1100,
      "end_line": 1141,
      "tokens": 323,
      "context_length": 14256
    },
    {
      "position": 37,
      "id": "/tmp/repos/django/django/db/models/lookups.py_IExact_IntegerLessThan.1",
      "distance": 1.2036080360412598,
      "file_path": "django/db/models/lookups.py",
      "start_line": 316,
      "end_line": 366,
      "tokens": 306,
      "context_length": 14562
    },
    {
      "position": 38,
      "id": "/tmp/repos/django/django/db/models/lookups.py_itertools_Lookup.apply_bilateral_transforms.2.1",
      "distance": 1.2045085430145264,
      "file_path": "django/db/models/lookups.py",
      "start_line": 1,
      "end_line": 41,
      "tokens": 313,
      "context_length": 14875
    },
    {
      "position": 39,
      "id": "/tmp/repos/django/django/contrib/postgres/search.py_SearchQuery_SearchQuery.__str__.2.1",
      "distance": 1.206801414489746,
      "file_path": "django/contrib/postgres/search.py",
      "start_line": 160,
      "end_line": 195,
      "tokens": 313,
      "context_length": 15188
    },
    {
      "position": 40,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.bump_prefix.3_Query.bump_prefix.12",
      "distance": 1.2088274955749512,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 912,
      "end_line": 934,
      "tokens": 248,
      "context_length": 15436
    },
    {
      "position": 41,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_check_rel_lookup_compatibility_check_rel_lookup_compatibility.12.1",
      "distance": 1.2097152471542358,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 257,
      "end_line": 282,
      "tokens": 293,
      "context_length": 15729,
      "file_pos": 12
    },
    {
      "position": 42,
      "id": "/tmp/repos/django/django/db/models/query.py_InstanceCheckMeta_RawQuerySet.__init__.self._prefetch_done.1",
      "distance": 1.210275650024414,
      "file_path": "django/db/models/query.py",
      "start_line": 1404,
      "end_line": 1435,
      "tokens": 245,
      "context_length": 15974
    },
    {
      "position": 43,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_JoinPromoter.update_join_types_",
      "distance": 1.215487003326416,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2414,
      "end_line": 2469,
      "tokens": 827,
      "context_length": 16801
    },
    {
      "position": 44,
      "id": "/tmp/repos/django/django/db/backends/postgresql/features.py_operator_",
      "distance": 1.218863844871521,
      "file_path": "django/db/backends/postgresql/features.py",
      "start_line": 1,
      "end_line": 97,
      "tokens": 767,
      "context_length": 17568
    },
    {
      "position": 45,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__iter___QuerySet.__bool__.2.1",
      "distance": 1.2244043350219727,
      "file_path": "django/db/models/query.py",
      "start_line": 265,
      "end_line": 285,
      "tokens": 180,
      "context_length": 17748
    },
    {
      "position": 46,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_collections_16",
      "distance": 1.2255513668060303,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1,
      "end_line": 19,
      "tokens": 170,
      "context_length": 17918
    },
    {
      "position": 47,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.clear_limits_Query.add_distinct_fields.self.distinct.1",
      "distance": 1.226717233657837,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1863,
      "end_line": 1912,
      "tokens": 329,
      "context_length": 18247
    },
    {
      "position": 48,
      "id": "/tmp/repos/django/django/db/models/deletion.py_operator_get_candidate_relations_to_delete.3.1",
      "distance": 1.2308824062347412,
      "file_path": "django/db/models/deletion.py",
      "start_line": 1,
      "end_line": 76,
      "tokens": 566,
      "context_length": 18813
    },
    {
      "position": 49,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.update_or_create_QuerySet.update_or_create.5.1",
      "distance": 1.230974793434143,
      "file_path": "django/db/models/query.py",
      "start_line": 596,
      "end_line": 614,
      "tokens": 178,
      "context_length": 18991
    },
    {
      "position": 50,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.bulk_update.alters_data_QuerySet.get_or_create.5.2.3.2.2",
      "distance": 1.2322100400924683,
      "file_path": "django/db/models/query.py",
      "start_line": 569,
      "end_line": 594,
      "tokens": 202,
      "context_length": 19193
    },
    {
      "position": 51,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_RelatedIn.as_sql_RelatedIn.as_sql.1.5.2.1",
      "distance": 1.232580542564392,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 62,
      "end_line": 101,
      "tokens": 451,
      "context_length": 19644
    },
    {
      "position": 52,
      "id": "/tmp/repos/django/django/db/models/lookups.py_YearExact_YearLte.get_bound_params.1.1",
      "distance": 1.2326610088348389,
      "file_path": "django/db/models/lookups.py",
      "start_line": 572,
      "end_line": 597,
      "tokens": 163,
      "context_length": 19807
    },
    {
      "position": 53,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.solve_lookup_type_Query.check_query_object_type.2.1.1",
      "distance": 1.2340466976165771,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1103,
      "end_line": 1130,
      "tokens": 285,
      "context_length": 20092
    },
    {
      "position": 54,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_SubqueryConstraint_",
      "distance": 1.2353379726409912,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 233,
      "end_line": 249,
      "tokens": 130,
      "context_length": 20222
    },
    {
      "position": 55,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.get_external_cols_Query.resolve_lookup_value.2.1",
      "distance": 1.236891746520996,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1072,
      "end_line": 1101,
      "tokens": 245,
      "context_length": 20467
    },
    {
      "position": 56,
      "id": "/tmp/repos/django/django/contrib/gis/db/models/lookups.py_9_CoveredByLookup.lookup_name.1",
      "distance": 1.2373418807983398,
      "file_path": "django/contrib/gis/db/models/lookups.py",
      "start_line": 86,
      "end_line": 217,
      "tokens": 762,
      "context_length": 21229
    },
    {
      "position": 57,
      "id": "/tmp/repos/django/django/contrib/postgres/lookups.py_1_",
      "distance": 1.2384910583496094,
      "file_path": "django/contrib/postgres/lookups.py",
      "start_line": 1,
      "end_line": 61,
      "tokens": 337,
      "context_length": 21566
    },
    {
      "position": 58,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._fetch_all_QuerySet._next_is_sticky.3.1",
      "distance": 1.2385461330413818,
      "file_path": "django/db/models/query.py",
      "start_line": 1322,
      "end_line": 1340,
      "tokens": 186,
      "context_length": 21752
    },
    {
      "position": 59,
      "id": "/tmp/repos/django/django/db/models/sql/datastructures.py_1_Empty.1",
      "distance": 1.2407307624816895,
      "file_path": "django/db/models/sql/datastructures.py",
      "start_line": 1,
      "end_line": 21,
      "tokens": 126,
      "context_length": 21878
    },
    {
      "position": 60,
      "id": "/tmp/repos/django/django/db/models/constraints.py_1_BaseConstraint.clone.2.1",
      "distance": 1.241124153137207,
      "file_path": "django/db/models/constraints.py",
      "start_line": 1,
      "end_line": 29,
      "tokens": 213,
      "context_length": 22091
    },
    {
      "position": 61,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.build_lookup_Query.build_lookup.18.1",
      "distance": 1.241304874420166,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1166,
      "end_line": 1209,
      "tokens": 469,
      "context_length": 22560
    },
    {
      "position": 62,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_1_WhereNode.conditional.1",
      "distance": 1.2444952726364136,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 1,
      "end_line": 30,
      "tokens": 167,
      "context_length": 22727
    },
    {
      "position": 63,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.get_count_Query.explain.6.1",
      "distance": 1.245397925376892,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 517,
      "end_line": 564,
      "tokens": 403,
      "context_length": 23130
    },
    {
      "position": 64,
      "id": "/tmp/repos/django/django/db/migrations/questioner.py_NonInteractiveMigrationQuestioner_",
      "distance": 1.2454414367675781,
      "file_path": "django/db/migrations/questioner.py",
      "start_line": 226,
      "end_line": 239,
      "tokens": 123,
      "context_length": 23253
    },
    {
      "position": 65,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_functools_RECURSIVE_RELATIONSHIP_CONSTANT.1",
      "distance": 1.2461042404174805,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1,
      "end_line": 34,
      "tokens": 246,
      "context_length": 23499
    },
    {
      "position": 66,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.only_QuerySet.only.8.1",
      "distance": 1.2463085651397705,
      "file_path": "django/db/models/query.py",
      "start_line": 1198,
      "end_line": 1217,
      "tokens": 209,
      "context_length": 23708
    },
    {
      "position": 67,
      "id": "/tmp/repos/django/django/contrib/postgres/search.py_CombinedSearchQuery_SearchRank.__init__.7",
      "distance": 1.2463951110839844,
      "file_path": "django/contrib/postgres/search.py",
      "start_line": 198,
      "end_line": 230,
      "tokens": 243,
      "context_length": 23951
    },
    {
      "position": 68,
      "id": "/tmp/repos/django/django/contrib/postgres/constraints.py_1_ExclusionConstraint.__init__.17",
      "distance": 1.2479679584503174,
      "file_path": "django/contrib/postgres/constraints.py",
      "start_line": 1,
      "end_line": 67,
      "tokens": 550,
      "context_length": 24501
    },
    {
      "position": 69,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_WhereNode.relabeled_clone_WhereNode._resolve_leaf.2.1",
      "distance": 1.2484910488128662,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 157,
      "end_line": 193,
      "tokens": 243,
      "context_length": 24744
    },
    {
      "position": 70,
      "id": "/tmp/repos/django/django/db/backends/oracle/operations.py_DatabaseOperations.integer_field_ranges.combine_expression_DatabaseOperations.integer_field_ranges.combine_expression.3.1",
      "distance": 1.2504448890686035,
      "file_path": "django/db/backends/oracle/operations.py",
      "start_line": 561,
      "end_line": 577,
      "tokens": 290,
      "context_length": 25034
    },
    {
      "position": 71,
      "id": "/tmp/repos/django/django/db/models/expressions.py_CombinedExpression.resolve_expression_CombinedExpression.resolve_expression.8.1",
      "distance": 1.2508933544158936,
      "file_path": "django/db/models/expressions.py",
      "start_line": 492,
      "end_line": 517,
      "tokens": 303,
      "context_length": 25337
    },
    {
      "position": 72,
      "id": "/tmp/repos/django/django/db/models/aggregates.py_Aggregate.resolve_expression_Aggregate.get_group_by_cols.1.1",
      "distance": 1.251326560974121,
      "file_path": "django/db/models/aggregates.py",
      "start_line": 45,
      "end_line": 68,
      "tokens": 294,
      "context_length": 25631
    },
    {
      "position": 73,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_FilteredRelation_",
      "distance": 1.251792550086975,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 285,
      "end_line": 325,
      "tokens": 286,
      "context_length": 25917,
      "file_pos": 23
    },
    {
      "position": 74,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_1_DeleteQuery.delete_batch.6.1",
      "distance": 1.252561092376709,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 1,
      "end_line": 44,
      "tokens": 320,
      "context_length": 26237
    },
    {
      "position": 75,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.rewrite_cols_Query.rewrite_cols.orig_exprs.5.1",
      "distance": 1.2541770935058594,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 376,
      "end_line": 426,
      "tokens": 494,
      "context_length": 26731
    },
    {
      "position": 76,
      "id": "/tmp/repos/django/django/db/models/expressions.py_CombinedExpression_CombinedExpression.as_sql.12.1",
      "distance": 1.2547056674957275,
      "file_path": "django/db/models/expressions.py",
      "start_line": 445,
      "end_line": 490,
      "tokens": 314,
      "context_length": 27045
    },
    {
      "position": 77,
      "id": "/tmp/repos/django/django/db/models/query.py_RawQuerySet.iterator_RawQuerySet.iterator.db.4.8.2.1",
      "distance": 1.2547773122787476,
      "file_path": "django/db/models/query.py",
      "start_line": 1487,
      "end_line": 1520,
      "tokens": 297,
      "context_length": 27342
    },
    {
      "position": 78,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__setstate___QuerySet.__len__.2.1",
      "distance": 1.256531000137329,
      "file_path": "django/db/models/query.py",
      "start_line": 236,
      "end_line": 263,
      "tokens": 221,
      "context_length": 27563
    },
    {
      "position": 79,
      "id": "/tmp/repos/django/django/db/models/constraints.py_UniqueConstraint_UniqueConstraint.remove_sql.3.1",
      "distance": 1.2577400207519531,
      "file_path": "django/db/models/constraints.py",
      "start_line": 79,
      "end_line": 161,
      "tokens": 729,
      "context_length": 28292
    },
    {
      "position": 80,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_combinator_sql_SQLCompiler.ordering_parts.get_combinator_sql.14.1",
      "distance": 1.2579410076141357,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 442,
      "end_line": 495,
      "tokens": 564,
      "context_length": 28856
    },
    {
      "position": 81,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.earliest_QuerySet.last.2.1.1",
      "distance": 1.2579729557037354,
      "file_path": "django/db/models/query.py",
      "start_line": 666,
      "end_line": 680,
      "tokens": 132,
      "context_length": 28988
    },
    {
      "position": 82,
      "id": "/tmp/repos/django/django/db/models/sql/datastructures.py_Join.identity_Join.promote.3.1",
      "distance": 1.259235143661499,
      "file_path": "django/db/models/sql/datastructures.py",
      "start_line": 117,
      "end_line": 148,
      "tokens": 170,
      "context_length": 29158
    },
    {
      "position": 83,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet_QuerySet.__getstate__.2",
      "distance": 1.2592966556549072,
      "file_path": "django/db/models/query.py",
      "start_line": 175,
      "end_line": 234,
      "tokens": 469,
      "context_length": 29627
    },
    {
      "position": 84,
      "id": "/tmp/repos/django/django/contrib/postgres/search.py_psycopg2_SearchVectorExact.as_sql.4.1",
      "distance": 1.2594377994537354,
      "file_path": "django/contrib/postgres/search.py",
      "start_line": 1,
      "end_line": 24,
      "tokens": 205,
      "context_length": 29832
    },
    {
      "position": 85,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query_Query.__init__.self.explain_options.1",
      "distance": 1.2604906558990479,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 140,
      "end_line": 234,
      "tokens": 833,
      "context_length": 30665
    },
    {
      "position": 86,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/features.py_operator_",
      "distance": 1.2613970041275024,
      "file_path": "django/db/backends/sqlite3/features.py",
      "start_line": 1,
      "end_line": 114,
      "tokens": 1027,
      "context_length": 31692
    },
    {
      "position": 87,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Subquery_Subquery.get_group_by_cols.4.1",
      "distance": 1.2633213996887207,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1088,
      "end_line": 1147,
      "tokens": 442,
      "context_length": 32134
    },
    {
      "position": 88,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_NothingNode_ExtraWhere.contains_aggregate.as_sql.2.1",
      "distance": 1.264579176902771,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 212,
      "end_line": 230,
      "tokens": 131,
      "context_length": 32265
    },
    {
      "position": 89,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler_SQLCompiler.ordering_parts.setup_query.self.col_count.1",
      "distance": 1.2653599977493286,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 22,
      "end_line": 47,
      "tokens": 257,
      "context_length": 32522
    },
    {
      "position": 90,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_RawQuery._execute_query_RawQuery._execute_query.8",
      "distance": 1.2666118144989014,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 120,
      "end_line": 137,
      "tokens": 157,
      "context_length": 32679
    },
    {
      "position": 91,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_relationship_model_ManyToManyField._check_relationship_model.3.3.9.3.seen_from.5.1",
      "distance": 1.2668461799621582,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1235,
      "end_line": 1352,
      "tokens": 963,
      "context_length": 33642
    },
    {
      "position": 92,
      "id": "/tmp/repos/django/django/db/models/functions/math.py_Random_",
      "distance": 1.2669808864593506,
      "file_path": "django/db/models/functions/math.py",
      "start_line": 144,
      "end_line": 184,
      "tokens": 247,
      "context_length": 33889
    },
    {
      "position": 93,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.build_filtered_relation_q_Query.build_filtered_relation_q.7.1",
      "distance": 1.267351508140564,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1423,
      "end_line": 1443,
      "tokens": 212,
      "context_length": 34101
    },
    {
      "position": 94,
      "id": "/tmp/repos/django/django/db/models/query.py_1_BaseIterable.__init__.self.chunk_size.1",
      "distance": 1.2678380012512207,
      "file_path": "django/db/models/query.py",
      "start_line": 1,
      "end_line": 39,
      "tokens": 294,
      "context_length": 34395
    },
    {
      "position": 95,
      "id": "/tmp/repos/django/django/db/backends/base/features.py_BaseDatabaseFeatures.145_BaseDatabaseFeatures.227",
      "distance": 1.2680169343948364,
      "file_path": "django/db/backends/base/features.py",
      "start_line": 217,
      "end_line": 319,
      "tokens": 879,
      "context_length": 35274
    },
    {
      "position": 96,
      "id": "/tmp/repos/django/django/db/models/query.py_RelatedPopulator.populate_",
      "distance": 1.2688060998916626,
      "file_path": "django/db/models/query.py",
      "start_line": 1992,
      "end_line": 2015,
      "tokens": 200,
      "context_length": 35474
    },
    {
      "position": 97,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_WhereNode._resolve_node_WhereNode.resolve_expression.4.1",
      "distance": 1.2695423364639282,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 195,
      "end_line": 209,
      "tokens": 156,
      "context_length": 35630
    },
    {
      "position": 98,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.chain_Query._get_col.2.1",
      "distance": 1.269719123840332,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 351,
      "end_line": 374,
      "tokens": 179,
      "context_length": 35809
    },
    {
      "position": 99,
      "id": "/tmp/repos/django/django/db/models/query.py_ValuesIterable_ValuesIterable.__iter__.7.1",
      "distance": 1.2698278427124023,
      "file_path": "django/db/models/query.py",
      "start_line": 92,
      "end_line": 110,
      "tokens": 138,
      "context_length": 35947
    },
    {
      "position": 100,
      "id": "/tmp/repos/django/django/db/models/expressions.py_RawSQL.resolve_expression_Star.as_sql.1.1",
      "distance": 1.2707895040512085,
      "file_path": "django/db/models/expressions.py",
      "start_line": 798,
      "end_line": 814,
      "tokens": 153,
      "context_length": 36100
    },
    {
      "position": 101,
      "id": "/tmp/repos/django/django/db/models/query.py_prefetch_related_objects.13_prefetch_related_objects.13.7.2.18.8.new_obj_list.obj_list.1",
      "distance": 1.2708415985107422,
      "file_path": "django/db/models/query.py",
      "start_line": 1659,
      "end_line": 1774,
      "tokens": 1098,
      "context_length": 37198
    },
    {
      "position": 102,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.order_by_QuerySet.reverse.5.1",
      "distance": 1.271136999130249,
      "file_path": "django/db/models/query.py",
      "start_line": 1143,
      "end_line": 1179,
      "tokens": 324,
      "context_length": 37522
    },
    {
      "position": 103,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Col_Col.get_db_converters.2.1",
      "distance": 1.27126145362854,
      "file_path": "django/db/models/expressions.py",
      "start_line": 817,
      "end_line": 851,
      "tokens": 292,
      "context_length": 37814
    },
    {
      "position": 104,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/operations.py_DatabaseOperations.quote_name_DatabaseOperations.__references_graph.3.2.1",
      "distance": 1.2715444564819336,
      "file_path": "django/db/backends/sqlite3/operations.py",
      "start_line": 170,
      "end_line": 195,
      "tokens": 190,
      "context_length": 38004
    },
    {
      "position": 105,
      "id": "/tmp/repos/django/django/db/models/constraints.py_UniqueConstraint.__eq___",
      "distance": 1.2716717720031738,
      "file_path": "django/db/models/constraints.py",
      "start_line": 172,
      "end_line": 196,
      "tokens": 188,
      "context_length": 38192
    },
    {
      "position": 106,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/operations.py_DatabaseOperations.check_expression_support_DatabaseOperations.check_expression_support.4.1",
      "distance": 1.2736625671386719,
      "file_path": "django/db/backends/sqlite3/operations.py",
      "start_line": 40,
      "end_line": 66,
      "tokens": 232,
      "context_length": 38424
    },
    {
      "position": 107,
      "id": "/tmp/repos/django/django/db/backends/mysql/features.py_operator_DatabaseFeatures.test_collations.1",
      "distance": 1.2741453647613525,
      "file_path": "django/db/backends/mysql/features.py",
      "start_line": 1,
      "end_line": 54,
      "tokens": 406,
      "context_length": 38830
    },
    {
      "position": 108,
      "id": "/tmp/repos/django/django/db/models/aggregates.py_Aggregate.as_sql_Aggregate._get_repr_options.4.1",
      "distance": 1.275454044342041,
      "file_path": "django/db/models/aggregates.py",
      "start_line": 70,
      "end_line": 96,
      "tokens": 266,
      "context_length": 39096
    },
    {
      "position": 109,
      "id": "/tmp/repos/django/django/db/models/fields/__init__.py_DateTimeCheckMixin_DateTimeCheckMixin._check_fix_default_value.1.1",
      "distance": 1.2756322622299194,
      "file_path": "django/db/models/fields/__init__.py",
      "start_line": 1110,
      "end_line": 1139,
      "tokens": 218,
      "context_length": 39314
    },
    {
      "position": 110,
      "id": "/tmp/repos/django/django/contrib/postgres/constraints.py_ExclusionConstraint.deconstruct_ExclusionConstraint.__eq__.2.1",
      "distance": 1.2757447957992554,
      "file_path": "django/contrib/postgres/constraints.py",
      "start_line": 129,
      "end_line": 155,
      "tokens": 231,
      "context_length": 39545
    },
    {
      "position": 111,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_group_by_SQLCompiler.ordering_parts.get_group_by.45.1",
      "distance": 1.276903748512268,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 63,
      "end_line": 147,
      "tokens": 881,
      "context_length": 40426
    },
    {
      "position": 112,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_InsertQuery_",
      "distance": 1.279592752456665,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 137,
      "end_line": 163,
      "tokens": 161,
      "context_length": 40587
    },
    {
      "position": 113,
      "id": "/tmp/repos/django/django/contrib/postgres/constraints.py_ExclusionConstraint._get_expression_sql_ExclusionConstraint._get_condition_sql.4.1",
      "distance": 1.2796788215637207,
      "file_path": "django/contrib/postgres/constraints.py",
      "start_line": 69,
      "end_line": 91,
      "tokens": 213,
      "context_length": 40800
    },
    {
      "position": 114,
      "id": "/tmp/repos/django/django/db/models/expressions.py_ResolvedOuterRef_OuterRef.relabeled_clone.1.1",
      "distance": 1.2803343534469604,
      "file_path": "django/db/models/expressions.py",
      "start_line": 594,
      "end_line": 633,
      "tokens": 290,
      "context_length": 41090
    },
    {
      "position": 115,
      "id": "/tmp/repos/django/django/forms/models.py_ModelChoiceField_ModelChoiceField.label_from_instance.2.1",
      "distance": 1.2812652587890625,
      "file_path": "django/forms/models.py",
      "start_line": 1186,
      "end_line": 1251,
      "tokens": 543,
      "context_length": 41633
    },
    {
      "position": 116,
      "id": "/tmp/repos/django/django/db/backends/mysql/operations.py_DatabaseOperations.combine_expression_DatabaseOperations.combine_expression.2.1",
      "distance": 1.28190016746521,
      "file_path": "django/db/backends/mysql/operations.py",
      "start_line": 278,
      "end_line": 289,
      "tokens": 165,
      "context_length": 41798
    },
    {
      "position": 117,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.using_QuerySet.ordered.3.3.1.1",
      "distance": 1.2820444107055664,
      "file_path": "django/db/models/query.py",
      "start_line": 1219,
      "end_line": 1247,
      "tokens": 183,
      "context_length": 41981
    },
    {
      "position": 118,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts._setup_joins_SQLCompiler.ordering_parts._setup_joins.5.1",
      "distance": 1.2821040153503418,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 765,
      "end_line": 776,
      "tokens": 163,
      "context_length": 42144
    },
    {
      "position": 119,
      "id": "/tmp/repos/django/django/contrib/gis/db/models/__init__.py_1_",
      "distance": 1.2821736335754395,
      "file_path": "django/contrib/gis/db/models/__init__.py",
      "start_line": 1,
      "end_line": 19,
      "tokens": 204,
      "context_length": 42348
    },
    {
      "position": 120,
      "id": "/tmp/repos/django/django/utils/datastructures.py_ImmutableList_ImmutableList.reverse.1",
      "distance": 1.2822108268737793,
      "file_path": "django/utils/datastructures.py",
      "start_line": 214,
      "end_line": 248,
      "tokens": 226,
      "context_length": 42574
    },
    {
      "position": 121,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_1_ModelOperation.reduce.1.1",
      "distance": 1.2824041843414307,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 1,
      "end_line": 38,
      "tokens": 235,
      "context_length": 42809
    },
    {
      "position": 122,
      "id": "/tmp/repos/django/django/db/backends/oracle/operations.py_DatabaseOperations.integer_field_ranges.subtract_temporals_",
      "distance": 1.28285813331604,
      "file_path": "django/db/backends/oracle/operations.py",
      "start_line": 617,
      "end_line": 643,
      "tokens": 303,
      "context_length": 43112
    },
    {
      "position": 123,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_constraints_Model._check_constraints.3.1",
      "distance": 1.283254623413086,
      "file_path": "django/db/models/base.py",
      "start_line": 1960,
      "end_line": 2091,
      "tokens": 976,
      "context_length": 44088
    },
    {
      "position": 124,
      "id": "/tmp/repos/django/django/db/models/enums.py_ChoicesMeta.__contains___ChoicesMeta.values.1.1",
      "distance": 1.28343665599823,
      "file_path": "django/db/models/enums.py",
      "start_line": 37,
      "end_line": 59,
      "tokens": 183,
      "context_length": 44271
    },
    {
      "position": 125,
      "id": "/tmp/repos/django/django/db/models/base.py_copy_DEFERRED.1",
      "distance": 1.2839703559875488,
      "file_path": "django/db/models/base.py",
      "start_line": 1,
      "end_line": 50,
      "tokens": 328,
      "context_length": 44599
    },
    {
      "position": 126,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_select_related_Query.add_extra.5.self.extra_order_by.1",
      "distance": 1.2841267585754395,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2035,
      "end_line": 2081,
      "tokens": 370,
      "context_length": 44969
    },
    {
      "position": 127,
      "id": "/tmp/repos/django/django/db/models/lookups.py_In_In.process_rhs.3.3.2.1",
      "distance": 1.284712314605713,
      "file_path": "django/db/models/lookups.py",
      "start_line": 369,
      "end_line": 401,
      "tokens": 294,
      "context_length": 45263
    },
    {
      "position": 128,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.clear_ordering_Query.set_group_by.self.group_by.1",
      "distance": 1.2848554849624634,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1994,
      "end_line": 2033,
      "tokens": 320,
      "context_length": 45583
    },
    {
      "position": 129,
      "id": "/tmp/repos/django/django/db/models/fields/json.py_HasKeyLookup.as_mysql_HasKeyLookup.as_sqlite.1.1",
      "distance": 1.2850708961486816,
      "file_path": "django/db/models/fields/json.py",
      "start_line": 198,
      "end_line": 216,
      "tokens": 232,
      "context_length": 45815
    },
    {
      "position": 130,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.create_QuerySet._prepare_for_bulk_create.1.2",
      "distance": 1.2855141162872314,
      "file_path": "django/db/models/query.py",
      "start_line": 446,
      "end_line": 461,
      "tokens": 130,
      "context_length": 45945
    },
    {
      "position": 131,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/base.py_FORMAT_QMARK_REGEX_SQLiteCursorWrapper.convert_query.1.1",
      "distance": 1.2857983112335205,
      "file_path": "django/db/backends/sqlite3/base.py",
      "start_line": 403,
      "end_line": 423,
      "tokens": 183,
      "context_length": 46128
    },
    {
      "position": 132,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.complex_filter_QuerySet.complex_filter.2.4.1.1",
      "distance": 1.2858648300170898,
      "file_path": "django/db/models/query.py",
      "start_line": 970,
      "end_line": 985,
      "tokens": 124,
      "context_length": 46252
    },
    {
      "position": 133,
      "id": "/tmp/repos/django/django/core/checks/model_checks.py__check_lazy_references.default_error_",
      "distance": 1.2859163284301758,
      "file_path": "django/core/checks/model_checks.py",
      "start_line": 178,
      "end_line": 211,
      "tokens": 332,
      "context_length": 46584
    }
  ],
  "files": [
    {
      "file_path": "django/db/models/query_utils.py",
      "position": 1,
      "tokens": 2551,
      "context_length": 2551
    },
    {
      "file_path": "django/db/models/expressions.py",
      "position": 2,
      "tokens": 10973,
      "context_length": 13524
    },
    {
      "file_path": "django/db/models/query.py",
      "position": 3,
      "tokens": 17335,
      "context_length": 30859
    },
    {
      "file_path": "django/contrib/postgres/search.py",
      "position": 4,
      "tokens": 2222,
      "context_length": 33081
    },
    {
      "file_path": "django/db/models/sql/query.py",
      "position": 5,
      "tokens": 22391,
      "context_length": 55472
    },
    {
      "file_path": "django/db/models/__init__.py",
      "position": 6,
      "tokens": 619,
      "context_length": 56091
    },
    {
      "file_path": "django/core/exceptions.py",
      "position": 7,
      "tokens": 1189,
      "context_length": 57280
    },
    {
      "file_path": "django/db/models/base.py",
      "position": 8,
      "tokens": 17060,
      "context_length": 74340
    },
    {
      "file_path": "django/db/models/sql/compiler.py",
      "position": 9,
      "tokens": 14391,
      "context_length": 88731
    },
    {
      "file_path": "django/db/models/constraints.py",
      "position": 10,
      "tokens": 1615,
      "context_length": 90346
    },
    {
      "file_path": "django/db/models/lookups.py",
      "position": 11,
      "tokens": 4955,
      "context_length": 95301
    },
    {
      "file_path": "django/db/models/fields/related_lookups.py",
      "position": 12,
      "tokens": 1453,
      "context_length": 96754
    },
    {
      "file_path": "django/db/backends/postgresql/features.py",
      "position": 13,
      "tokens": 767,
      "context_length": 97521
    },
    {
      "file_path": "django/db/models/deletion.py",
      "position": 14,
      "tokens": 3828,
      "context_length": 101349
    },
    {
      "file_path": "django/db/models/sql/where.py",
      "position": 15,
      "tokens": 1814,
      "context_length": 103163
    },
    {
      "file_path": "django/contrib/gis/db/models/lookups.py",
      "position": 16,
      "tokens": 2613,
      "context_length": 105776
    },
    {
      "file_path": "django/contrib/postgres/lookups.py",
      "position": 17,
      "tokens": 337,
      "context_length": 106113
    },
    {
      "file_path": "django/db/models/sql/datastructures.py",
      "position": 18,
      "tokens": 1468,
      "context_length": 107581
    },
    {
      "file_path": "django/db/migrations/questioner.py",
      "position": 19,
      "tokens": 2057,
      "context_length": 109638
    },
    {
      "file_path": "django/db/models/fields/related.py",
      "position": 20,
      "tokens": 13823,
      "context_length": 123461
    },
    {
      "file_path": "django/contrib/postgres/constraints.py",
      "position": 21,
      "tokens": 1425,
      "context_length": 124886
    },
    {
      "file_path": "django/db/backends/oracle/operations.py",
      "position": 22,
      "tokens": 5911,
      "context_length": 130797
    },
    {
      "file_path": "django/db/models/aggregates.py",
      "position": 23,
      "tokens": 1301,
      "context_length": 132098
    },
    {
      "file_path": "django/db/models/sql/subqueries.py",
      "position": 24,
      "tokens": 1201,
      "context_length": 133299
    },
    {
      "file_path": "django/db/backends/sqlite3/features.py",
      "position": 25,
      "tokens": 1027,
      "context_length": 134326
    },
    {
      "file_path": "django/db/models/functions/math.py",
      "position": 26,
      "tokens": 1264,
      "context_length": 135590
    },
    {
      "file_path": "django/db/backends/base/features.py",
      "position": 27,
      "tokens": 2960,
      "context_length": 138550
    },
    {
      "file_path": "django/db/backends/sqlite3/operations.py",
      "position": 28,
      "tokens": 3085,
      "context_length": 141635
    },
    {
      "file_path": "django/db/backends/mysql/features.py",
      "position": 29,
      "tokens": 1972,
      "context_length": 143607
    },
    {
      "file_path": "django/db/models/fields/__init__.py",
      "position": 30,
      "tokens": 18418,
      "context_length": 162025
    },
    {
      "file_path": "django/forms/models.py",
      "position": 31,
      "tokens": 11774,
      "context_length": 173799
    },
    {
      "file_path": "django/db/backends/mysql/operations.py",
      "position": 32,
      "tokens": 3699,
      "context_length": 177498
    },
    {
      "file_path": "django/contrib/gis/db/models/__init__.py",
      "position": 33,
      "tokens": 204,
      "context_length": 177702
    },
    {
      "file_path": "django/utils/datastructures.py",
      "position": 34,
      "tokens": 2224,
      "context_length": 179926
    },
    {
      "file_path": "django/db/migrations/operations/models.py",
      "position": 35,
      "tokens": 6977,
      "context_length": 186903
    },
    {
      "file_path": "django/db/models/enums.py",
      "position": 36,
      "tokens": 601,
      "context_length": 187504
    },
    {
      "file_path": "django/db/models/fields/json.py",
      "position": 37,
      "tokens": 4223,
      "context_length": 191727
    },
    {
      "file_path": "django/db/backends/sqlite3/base.py",
      "position": 38,
      "tokens": 5985,
      "context_length": 197712
    },
    {
      "file_path": "django/core/checks/model_checks.py",
      "position": 39,
      "tokens": 1785,
      "context_length": 199497
    }
  ]
}