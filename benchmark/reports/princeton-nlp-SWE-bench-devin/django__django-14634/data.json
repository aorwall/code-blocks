{
  "instance_id": "django__django-14634",
  "model_patch": "diff --git a/django/views/generic/edit.py b/django/views/generic/edit.py\nindex ccfef9cbcd..1bda06b2c0 100644\n--- a/django/views/generic/edit.py\n+++ b/django/views/generic/edit.py\n@@ -199,6 +199,16 @@ class UpdateView(SingleObjectTemplateResponseMixin, BaseUpdateView):\n     template_name_suffix = '_form'\n \n \n+class SuccessMessageMixin:\n+    \"\"\"\n+    Provide a way to display a success message after an object has been deleted.\n+    \"\"\"\n+    success_message = \"\"\n+\n+    def set_success_message(self, message):\n+        self.success_message = message\n+\n+\n class DeletionMixin:\n     \"\"\"Provide the ability to delete objects.\"\"\"\n     success_url = None\n@@ -233,9 +243,14 @@ class BaseDeleteView(DeletionMixin, BaseDetailView):\n     \"\"\"\n \n \n-class DeleteView(SingleObjectTemplateResponseMixin, BaseDeleteView):\n+class DeleteView(SuccessMessageMixin, SingleObjectTemplateResponseMixin, BaseDeleteView):\n     \"\"\"\n     View for deleting an object retrieved with self.get_object(), with a\n     response rendered by a template.\n     \"\"\"\n     template_name_suffix = '_confirm_delete'\n+\n+    def delete(self, request, *args, **kwargs):\n+        response = super().delete(request, *args, **kwargs)\n+        self.set_success_message(\"The object was deleted successfully.\")\n+        return response\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "django/views/generic/edit.py"
  ],
  "repo": "django/django",
  "base_commit": "37e8367c359cd115f109d82f99ff32be219f4928",
  "patch": "diff --git a/django/views/generic/edit.py b/django/views/generic/edit.py\n--- a/django/views/generic/edit.py\n+++ b/django/views/generic/edit.py\n@@ -1,5 +1,5 @@\n from django.core.exceptions import ImproperlyConfigured\n-from django.forms import models as model_forms\n+from django.forms import Form, models as model_forms\n from django.http import HttpResponseRedirect\n from django.views.generic.base import ContextMixin, TemplateResponseMixin, View\n from django.views.generic.detail import (\n@@ -225,12 +225,30 @@ def get_success_url(self):\n                 \"No URL to redirect to. Provide a success_url.\")\n \n \n-class BaseDeleteView(DeletionMixin, BaseDetailView):\n+class BaseDeleteView(DeletionMixin, FormMixin, BaseDetailView):\n     \"\"\"\n     Base view for deleting an object.\n \n     Using this base class requires subclassing to provide a response mixin.\n     \"\"\"\n+    form_class = Form\n+\n+    def post(self, request, *args, **kwargs):\n+        # Set self.object before the usual form processing flow.\n+        # Inlined because having DeletionMixin as the first base, for\n+        # get_success_url(), makes leveraging super() with ProcessFormView\n+        # overly complex.\n+        self.object = self.get_object()\n+        form = self.get_form()\n+        if form.is_valid():\n+            return self.form_valid(form)\n+        else:\n+            return self.form_invalid(form)\n+\n+    def form_valid(self, form):\n+        success_url = self.get_success_url()\n+        self.object.delete()\n+        return HttpResponseRedirect(success_url)\n \n \n class DeleteView(SingleObjectTemplateResponseMixin, BaseDeleteView):\n",
  "test_patch": "diff --git a/tests/generic_views/forms.py b/tests/generic_views/forms.py\n--- a/tests/generic_views/forms.py\n+++ b/tests/generic_views/forms.py\n@@ -15,3 +15,12 @@ class Meta:\n class ContactForm(forms.Form):\n     name = forms.CharField()\n     message = forms.CharField(widget=forms.Textarea)\n+\n+\n+class ConfirmDeleteForm(forms.Form):\n+    confirm = forms.BooleanField()\n+\n+    def clean(self):\n+        cleaned_data = super().clean()\n+        if 'confirm' not in cleaned_data:\n+            raise forms.ValidationError('You must confirm the delete.')\ndiff --git a/tests/generic_views/test_edit.py b/tests/generic_views/test_edit.py\n--- a/tests/generic_views/test_edit.py\n+++ b/tests/generic_views/test_edit.py\n@@ -394,3 +394,35 @@ def test_delete_without_redirect(self):\n         msg = 'No URL to redirect to. Provide a success_url.'\n         with self.assertRaisesMessage(ImproperlyConfigured, msg):\n             self.client.post('/edit/author/%d/delete/naive/' % self.author.pk)\n+\n+    def test_delete_with_form_as_post(self):\n+        res = self.client.get('/edit/author/%d/delete/form/' % self.author.pk)\n+        self.assertEqual(res.status_code, 200)\n+        self.assertEqual(res.context['object'], self.author)\n+        self.assertEqual(res.context['author'], self.author)\n+        self.assertTemplateUsed(res, 'generic_views/author_confirm_delete.html')\n+        res = self.client.post(\n+            '/edit/author/%d/delete/form/' % self.author.pk, data={'confirm': True}\n+        )\n+        self.assertEqual(res.status_code, 302)\n+        self.assertRedirects(res, '/list/authors/')\n+        self.assertSequenceEqual(Author.objects.all(), [])\n+\n+    def test_delete_with_form_as_post_with_validation_error(self):\n+        res = self.client.get('/edit/author/%d/delete/form/' % self.author.pk)\n+        self.assertEqual(res.status_code, 200)\n+        self.assertEqual(res.context['object'], self.author)\n+        self.assertEqual(res.context['author'], self.author)\n+        self.assertTemplateUsed(res, 'generic_views/author_confirm_delete.html')\n+\n+        res = self.client.post('/edit/author/%d/delete/form/' % self.author.pk)\n+        self.assertEqual(res.status_code, 200)\n+        self.assertEqual(len(res.context_data['form'].errors), 2)\n+        self.assertEqual(\n+            res.context_data['form'].errors['__all__'],\n+            ['You must confirm the delete.'],\n+        )\n+        self.assertEqual(\n+            res.context_data['form'].errors['confirm'],\n+            ['This field is required.'],\n+        )\ndiff --git a/tests/generic_views/urls.py b/tests/generic_views/urls.py\n--- a/tests/generic_views/urls.py\n+++ b/tests/generic_views/urls.py\n@@ -101,6 +101,7 @@\n     ),\n     path('edit/author/<int:pk>/delete/', views.AuthorDelete.as_view()),\n     path('edit/author/<int:pk>/delete/special/', views.SpecializedAuthorDelete.as_view()),\n+    path('edit/author/<int:pk>/delete/form/', views.AuthorDeleteFormView.as_view()),\n \n     # ArchiveIndexView\n     path('dates/books/', views.BookArchive.as_view()),\ndiff --git a/tests/generic_views/views.py b/tests/generic_views/views.py\n--- a/tests/generic_views/views.py\n+++ b/tests/generic_views/views.py\n@@ -4,7 +4,7 @@\n from django.utils.decorators import method_decorator\n from django.views import generic\n \n-from .forms import AuthorForm, ContactForm\n+from .forms import AuthorForm, ConfirmDeleteForm, ContactForm\n from .models import Artist, Author, Book, BookSigning, Page\n \n \n@@ -179,6 +179,14 @@ class AuthorDelete(generic.DeleteView):\n     success_url = '/list/authors/'\n \n \n+class AuthorDeleteFormView(generic.DeleteView):\n+    model = Author\n+    form_class = ConfirmDeleteForm\n+\n+    def get_success_url(self):\n+        return reverse('authors_list')\n+\n+\n class SpecializedAuthorDelete(generic.DeleteView):\n     queryset = Author.objects.all()\n     template_name = 'generic_views/confirm_delete.html'\ndiff --git a/tests/messages_tests/models.py b/tests/messages_tests/models.py\nnew file mode 100644\n--- /dev/null\n+++ b/tests/messages_tests/models.py\n@@ -0,0 +1,5 @@\n+from django.db import models\n+\n+\n+class SomeObject(models.Model):\n+    name = models.CharField(max_length=255)\ndiff --git a/tests/messages_tests/test_mixins.py b/tests/messages_tests/test_mixins.py\n--- a/tests/messages_tests/test_mixins.py\n+++ b/tests/messages_tests/test_mixins.py\n@@ -1,12 +1,13 @@\n from django.core.signing import b64_decode\n-from django.test import SimpleTestCase, override_settings\n+from django.test import TestCase, override_settings\n from django.urls import reverse\n \n-from .urls import ContactFormViewWithMsg\n+from .models import SomeObject\n+from .urls import ContactFormViewWithMsg, DeleteFormViewWithMsg\n \n \n @override_settings(ROOT_URLCONF='messages_tests.urls')\n-class SuccessMessageMixinTests(SimpleTestCase):\n+class SuccessMessageMixinTests(TestCase):\n \n     def test_set_messages_success(self):\n         author = {'name': 'John Doe', 'slug': 'success-msg'}\n@@ -17,3 +18,9 @@ def test_set_messages_success(self):\n             req.cookies['messages'].value.split(\":\")[0].encode(),\n         ).decode()\n         self.assertIn(ContactFormViewWithMsg.success_message % author, value)\n+\n+    def test_set_messages_success_on_delete(self):\n+        object_to_delete = SomeObject.objects.create(name='MyObject')\n+        delete_url = reverse('success_msg_on_delete', args=[object_to_delete.pk])\n+        response = self.client.post(delete_url, follow=True)\n+        self.assertContains(response, DeleteFormViewWithMsg.success_message)\ndiff --git a/tests/messages_tests/urls.py b/tests/messages_tests/urls.py\n--- a/tests/messages_tests/urls.py\n+++ b/tests/messages_tests/urls.py\n@@ -6,7 +6,9 @@\n from django.template.response import TemplateResponse\n from django.urls import path, re_path, reverse\n from django.views.decorators.cache import never_cache\n-from django.views.generic.edit import FormView\n+from django.views.generic.edit import DeleteView, FormView\n+\n+from .models import SomeObject\n \n TEMPLATE = \"\"\"{% if messages %}\n <ul class=\"messages\">\n@@ -63,9 +65,16 @@ class ContactFormViewWithMsg(SuccessMessageMixin, FormView):\n     success_message = \"%(name)s was created successfully\"\n \n \n+class DeleteFormViewWithMsg(SuccessMessageMixin, DeleteView):\n+    model = SomeObject\n+    success_url = '/show/'\n+    success_message = 'Object was deleted successfully'\n+\n+\n urlpatterns = [\n     re_path('^add/(debug|info|success|warning|error)/$', add, name='add_message'),\n     path('add/msg/', ContactFormViewWithMsg.as_view(), name='add_success_msg'),\n+    path('delete/msg/<int:pk>', DeleteFormViewWithMsg.as_view(), name='success_msg_on_delete'),\n     path('show/', show, name='show_message'),\n     re_path(\n         '^template_response/add/(debug|info|success|warning|error)/$',\n",
  "problem_statement": "Allow delete to provide a success message through a mixin.\nDescription\n\t\nAdd a mixin to show a message on successful object deletion.\n",
  "hints_text": "The patch for this contribution\nYour patch sets the message before the object is deleted. What if deleting the object fails? Otherwise, this addition makes sense.\nHere is a pull request that approaches the problem from a different angle: \u200bhttps://github.com/django/django/pull/2585 Instead of adding a new mixin, the DeleteView is refactored to allow it to work with the existing SuccessMessageMixin. Thanks to @charettes for the approach and much of the code.\nThe approach seems sensible to me and the patch looks quite good. I'm going to mark this as ready for checkin so that we can get another set of eyes on this in case I've missed something. Thanks!\nI see one small issue: the comment on line \u200bhttps://github.com/django/django/pull/2585/files#diff-2b2c9cb35ddf34bc38c90e322dcc39e8L201 still seems valid to me: the documented behaviour has changed, but I don't see a versionchanged annotation, which should be there in a case like this.\nBug #21926 was a duplicate of this one.\nMy main concern with the patch that I have provided is that there are changes related to using the DELETE method for deletions, but it doesn't work entirely as expected. For example, if an application uses a form to verify that a field should be deleted. If the view were to have code that checks that a confirmation box is checked or something similar, and they used the DELETE HTTP method, then the view would not work correctly, as data is not passed through with the request in the case of DELETE. So the documentation change where I changed it to read that you can use DELETE, and a few other changes in the code may not be valid. There was a comment in the pull request that got buried I think: \"As I was updating the tests, I found that data cannot currently be sent with the DELETE method. When doing further research, I wasn't sure whether this should be allowed or not. The test client accepts a data parameter for DELETE, but the HTTP spec suggests that you shouldn't expect data, like you can for a POST: \u200bhttp://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7 If we want to I can figure out how to actually get data through the chain. Otherwise I can update the documentation to reflect the changes instead.\" I wasn't sure how to proceed: to remove the parts related to supporting the DELETE method, or to try to figure out how to get the data through the DELETE chain.\nI've updated the patch with feedback from review.\nnew pull request send with moving the conflicting tests.\nThanks for the new PR. For the record, this is \u200bhttps://github.com/django/django/pull/4256 I left a comment on GitHub regarding the code style issues.\nIs there any status update on this?\nWe are waiting for someone to update the pull request as described in comment 13.\nI will new PR\nnew PR \u200bhttps://github.com/django/django/pull/5992\nre started working on it. will send the updated pr on master tomorrow\nJust wanted to remind this is an important feature/fix. Thanks in advance\nThanks to all for their work on this. I did some minor changes to the original pull request that become inactive, and submitted a new pull request here \u200bhttps://github.com/django/django/pull/13362\nComments on PR. I think comment:9 is important: not clear adding the delete handling makes too much sense.",
  "created_at": "2021-07-13T14:08:36Z",
  "version": "4.0",
  "FAIL_TO_PASS": "[\"test_delete_with_form_as_post_with_validation_error (generic_views.test_edit.DeleteViewTests)\", \"test_set_messages_success_on_delete (messages_tests.test_mixins.SuccessMessageMixinTests)\"]",
  "PASS_TO_PASS": "[\"A form can be marked invalid in the form_valid() method (#25548).\", \"Test instance independence of initial data dict (see #16138)\", \"Test prefix can be set (see #18872)\", \"test_create (generic_views.test_edit.CreateViewTests)\", \"test_create_invalid (generic_views.test_edit.CreateViewTests)\", \"test_create_restricted (generic_views.test_edit.CreateViewTests)\", \"test_create_view_all_fields (generic_views.test_edit.CreateViewTests)\", \"test_create_view_with_restricted_fields (generic_views.test_edit.CreateViewTests)\", \"test_create_view_without_explicit_fields (generic_views.test_edit.CreateViewTests)\", \"test_create_with_interpolated_redirect (generic_views.test_edit.CreateViewTests)\", \"test_create_with_object_url (generic_views.test_edit.CreateViewTests)\", \"test_create_with_redirect (generic_views.test_edit.CreateViewTests)\", \"test_create_with_special_properties (generic_views.test_edit.CreateViewTests)\", \"test_create_without_redirect (generic_views.test_edit.CreateViewTests)\", \"test_define_both_fields_and_form_class (generic_views.test_edit.CreateViewTests)\", \"test_delete_by_delete (generic_views.test_edit.DeleteViewTests)\", \"test_delete_by_post (generic_views.test_edit.DeleteViewTests)\", \"test_delete_with_form_as_post (generic_views.test_edit.DeleteViewTests)\", \"test_delete_with_interpolated_redirect (generic_views.test_edit.DeleteViewTests)\", \"test_delete_with_redirect (generic_views.test_edit.DeleteViewTests)\", \"test_delete_with_special_properties (generic_views.test_edit.DeleteViewTests)\", \"test_delete_without_redirect (generic_views.test_edit.DeleteViewTests)\", \"test_get_context_data (generic_views.test_edit.FormMixinTests)\", \"test_get_form (generic_views.test_edit.FormMixinTests)\", \"test_get_form (generic_views.test_edit.ModelFormMixinTests)\", \"test_get_form_checks_for_object (generic_views.test_edit.ModelFormMixinTests)\", \"test_post_data (generic_views.test_edit.BasicFormTests)\", \"test_set_messages_success (messages_tests.test_mixins.SuccessMessageMixinTests)\", \"test_update_get_object (generic_views.test_edit.UpdateViewTests)\", \"test_update_invalid (generic_views.test_edit.UpdateViewTests)\", \"test_update_post (generic_views.test_edit.UpdateViewTests)\", \"test_update_with_interpolated_redirect (generic_views.test_edit.UpdateViewTests)\", \"test_update_with_object_url (generic_views.test_edit.UpdateViewTests)\", \"test_update_with_redirect (generic_views.test_edit.UpdateViewTests)\", \"test_update_with_special_properties (generic_views.test_edit.UpdateViewTests)\", \"test_update_without_redirect (generic_views.test_edit.UpdateViewTests)\"]",
  "environment_setup_commit": "475cffd1d64c690cdad16ede4d5e81985738ceb4",
  "patch_files": [
    "django/views/generic/edit.py"
  ],
  "test_patch_files": [
    "tests/generic_views/forms.py",
    "tests/generic_views/test_edit.py",
    "tests/generic_views/urls.py",
    "tests/generic_views/views.py",
    "tests/messages_tests/models.py",
    "tests/messages_tests/test_mixins.py",
    "tests/messages_tests/urls.py"
  ],
  "patch_diff_details": {
    "django/views/generic/edit.py": {
      "diffs": [
        {
          "start_line_old": 2,
          "end_line_old": 2,
          "file_pos": 1,
          "file_context_length": 1716,
          "closest_snippet_id": "/tmp/repos/django/django/views/generic/edit.py_ModelFormMixin_ModelFormMixin.get_form_class.3.2.3.1",
          "closest_snippet_line_distance": 68
        },
        {
          "start_line_old": 228,
          "end_line_old": 228,
          "file_pos": 1,
          "file_context_length": 1716,
          "pos": 1,
          "context_length": 263
        }
      ]
    }
  },
  "vectors": 3560,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/django/django/views/generic/edit.py_DeletionMixin_",
      "distance": 1.1271772384643555,
      "file_path": "django/views/generic/edit.py",
      "start_line": 202,
      "end_line": 242,
      "tokens": 263,
      "context_length": 263,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.log_deletion_ModelAdmin._get_action_description.1.1",
      "distance": 1.2306499481201172,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 844,
      "end_line": 869,
      "tokens": 211,
      "context_length": 474
    },
    {
      "position": 3,
      "id": "/tmp/repos/django/django/contrib/admin/actions.py_1_",
      "distance": 1.2653485536575317,
      "file_path": "django/contrib/admin/actions.py",
      "start_line": 1,
      "end_line": 81,
      "tokens": 616,
      "context_length": 1090
    },
    {
      "position": 4,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.get_deleted_objects_ModelAdmin._delete_view.16.1",
      "distance": 1.3151345252990723,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1849,
      "end_line": 1918,
      "tokens": 590,
      "context_length": 1680
    },
    {
      "position": 5,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.render_delete_form_ModelAdmin.render_delete_form.5.1",
      "distance": 1.3513703346252441,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1471,
      "end_line": 1490,
      "tokens": 133,
      "context_length": 1813
    },
    {
      "position": 6,
      "id": "/tmp/repos/django/django/contrib/admin/utils.py_get_deleted_objects.format_callback_get_deleted_objects.10.1",
      "distance": 1.3806452751159668,
      "file_path": "django/contrib/admin/utils.py",
      "start_line": 123,
      "end_line": 158,
      "tokens": 303,
      "context_length": 2116
    },
    {
      "position": 7,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector_Collector.__init__.17",
      "distance": 1.3838183879852295,
      "file_path": "django/db/models/deletion.py",
      "start_line": 79,
      "end_line": 97,
      "tokens": 199,
      "context_length": 2315
    },
    {
      "position": 8,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.add_Collector.add.12.1",
      "distance": 1.3840479850769043,
      "file_path": "django/db/models/deletion.py",
      "start_line": 99,
      "end_line": 121,
      "tokens": 212,
      "context_length": 2527
    },
    {
      "position": 9,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.delete_",
      "distance": 1.3874255418777466,
      "file_path": "django/db/models/deletion.py",
      "start_line": 379,
      "end_line": 448,
      "tokens": 580,
      "context_length": 3107
    },
    {
      "position": 10,
      "id": "/tmp/repos/django/django/contrib/admin/utils.py_construct_change_message_",
      "distance": 1.388683557510376,
      "file_path": "django/contrib/admin/utils.py",
      "start_line": 495,
      "end_line": 553,
      "tokens": 463,
      "context_length": 3570
    },
    {
      "position": 11,
      "id": "/tmp/repos/django/django/core/checks/messages.py_CheckMessage.__str___CheckMessage.is_silenced.2.1",
      "distance": 1.3962738513946533,
      "file_path": "django/core/checks/messages.py",
      "start_line": 27,
      "end_line": 51,
      "tokens": 259,
      "context_length": 3829
    },
    {
      "position": 12,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_BaseModelAdmin.has_delete_permission_BaseModelAdmin.has_delete_permission.4.1",
      "distance": 1.4076664447784424,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 500,
      "end_line": 513,
      "tokens": 165,
      "context_length": 3994
    },
    {
      "position": 13,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.collect_Collector.collect.protected_objects.1",
      "distance": 1.4079618453979492,
      "file_path": "django/db/models/deletion.py",
      "start_line": 214,
      "end_line": 268,
      "tokens": 519,
      "context_length": 4513
    },
    {
      "position": 14,
      "id": "/tmp/repos/django/django/contrib/admin/templatetags/admin_modify.py_submit_row_submit_row.19.1",
      "distance": 1.4101909399032593,
      "file_path": "django/contrib/admin/templatetags/admin_modify.py",
      "start_line": 48,
      "end_line": 86,
      "tokens": 391,
      "context_length": 4904
    },
    {
      "position": 15,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin._create_formsets_ModelAdmin._create_formsets.8.1",
      "distance": 1.413130521774292,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1975,
      "end_line": 2008,
      "tokens": 345,
      "context_length": 5249
    },
    {
      "position": 16,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.response_delete_ModelAdmin.response_delete.6.1",
      "distance": 1.414756178855896,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1430,
      "end_line": 1469,
      "tokens": 309,
      "context_length": 5558
    },
    {
      "position": 17,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_Command.handle.locale_dirs_Command.handle.34.4.1.1",
      "distance": 1.4159739017486572,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 363,
      "end_line": 400,
      "tokens": 272,
      "context_length": 5830
    },
    {
      "position": 18,
      "id": "/tmp/repos/django/django/utils/deprecation.py_DeprecationInstanceCheck_MiddlewareMixin.__call__.2.6.1",
      "distance": 1.4276154041290283,
      "file_path": "django/utils/deprecation.py",
      "start_line": 79,
      "end_line": 129,
      "tokens": 372,
      "context_length": 6202
    },
    {
      "position": 19,
      "id": "/tmp/repos/django/django/contrib/auth/views.py_LogoutView_LogoutView.post.2.1",
      "distance": 1.4339927434921265,
      "file_path": "django/contrib/auth/views.py",
      "start_line": 111,
      "end_line": 131,
      "tokens": 173,
      "context_length": 6375
    },
    {
      "position": 20,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_InlineModelAdmin.get_formset.DeleteProtectedModelForm_InlineModelAdmin.get_formset.18.1",
      "distance": 1.438808560371399,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 2101,
      "end_line": 2153,
      "tokens": 451,
      "context_length": 6826
    },
    {
      "position": 21,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.collect.11_Collector.collect.15.3.3.3.1",
      "distance": 1.445052146911621,
      "file_path": "django/db/models/deletion.py",
      "start_line": 269,
      "end_line": 344,
      "tokens": 800,
      "context_length": 7626
    },
    {
      "position": 22,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.message_user_ModelAdmin.message_user.3",
      "distance": 1.446313500404358,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1071,
      "end_line": 1094,
      "tokens": 234,
      "context_length": 7860
    },
    {
      "position": 23,
      "id": "/tmp/repos/django/django/contrib/auth/mixins.py_1_AccessMixin.get_redirect_field_name.2.1",
      "distance": 1.4474568367004395,
      "file_path": "django/contrib/auth/mixins.py",
      "start_line": 1,
      "end_line": 42,
      "tokens": 267,
      "context_length": 8127
    },
    {
      "position": 24,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_Command.handle_Command.handle.looks_like_locale.1",
      "distance": 1.449949860572815,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 283,
      "end_line": 362,
      "tokens": 814,
      "context_length": 8941
    },
    {
      "position": 25,
      "id": "/tmp/repos/django/django/contrib/messages/middleware.py_1_",
      "distance": 1.450753927230835,
      "file_path": "django/contrib/messages/middleware.py",
      "start_line": 1,
      "end_line": 27,
      "tokens": 174,
      "context_length": 9115
    },
    {
      "position": 26,
      "id": "/tmp/repos/django/django/contrib/admin/sites.py_AdminSite.password_change_done_AdminSite.i18n_javascript.2.1",
      "distance": 1.4521347284317017,
      "file_path": "django/contrib/admin/sites.py",
      "start_line": 342,
      "end_line": 362,
      "tokens": 182,
      "context_length": 9297
    },
    {
      "position": 27,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.can_fast_delete_Collector.can_fast_delete.8.1",
      "distance": 1.4627811908721924,
      "file_path": "django/db/models/deletion.py",
      "start_line": 165,
      "end_line": 199,
      "tokens": 325,
      "context_length": 9622
    },
    {
      "position": 28,
      "id": "/tmp/repos/django/django/utils/deprecation.py_MiddlewareMixin.__acall___",
      "distance": 1.4629145860671997,
      "file_path": "django/utils/deprecation.py",
      "start_line": 131,
      "end_line": 149,
      "tokens": 122,
      "context_length": 9744
    },
    {
      "position": 29,
      "id": "/tmp/repos/django/django/views/generic/base.py_TemplateResponseMixin_TemplateResponseMixin.get_template_names.2.2.1.1",
      "distance": 1.4638452529907227,
      "file_path": "django/views/generic/base.py",
      "start_line": 121,
      "end_line": 154,
      "tokens": 241,
      "context_length": 9985
    },
    {
      "position": 30,
      "id": "/tmp/repos/django/django/contrib/messages/api.py_1_add_message.2.3.1.1",
      "distance": 1.4661223888397217,
      "file_path": "django/contrib/messages/api.py",
      "start_line": 1,
      "end_line": 34,
      "tokens": 210,
      "context_length": 10195
    },
    {
      "position": 31,
      "id": "/tmp/repos/django/django/db/models/deletion.py_operator_get_candidate_relations_to_delete.3.1",
      "distance": 1.467170238494873,
      "file_path": "django/db/models/deletion.py",
      "start_line": 1,
      "end_line": 76,
      "tokens": 566,
      "context_length": 10761
    },
    {
      "position": 32,
      "id": "/tmp/repos/django/django/db/backends/mysql/compiler.py_SQLDeleteCompiler_SQLDeleteCompiler.as_sql.5",
      "distance": 1.4683716297149658,
      "file_path": "django/db/backends/mysql/compiler.py",
      "start_line": 18,
      "end_line": 39,
      "tokens": 219,
      "context_length": 10980
    },
    {
      "position": 33,
      "id": "/tmp/repos/django/django/contrib/contenttypes/management/commands/remove_stale_contenttypes.py_Command.handle_",
      "distance": 1.4684661626815796,
      "file_path": "django/contrib/contenttypes/management/commands/remove_stale_contenttypes.py",
      "start_line": 29,
      "end_line": 95,
      "tokens": 517,
      "context_length": 11497
    },
    {
      "position": 34,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_Command.build_potfiles_Command.remove_potfiles.1.2.1",
      "distance": 1.4705419540405273,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 426,
      "end_line": 456,
      "tokens": 263,
      "context_length": 11760
    },
    {
      "position": 35,
      "id": "/tmp/repos/django/django/utils/asyncio.py_asyncio_",
      "distance": 1.477407693862915,
      "file_path": "django/utils/asyncio.py",
      "start_line": 1,
      "end_line": 34,
      "tokens": 212,
      "context_length": 11972
    },
    {
      "position": 36,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_BuildFile.postprocess_messages_BuildFile.cleanup.2.4.1",
      "distance": 1.4789658784866333,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 117,
      "end_line": 152,
      "tokens": 270,
      "context_length": 12242
    },
    {
      "position": 37,
      "id": "/tmp/repos/django/django/contrib/admin/utils.py_get_deleted_objects_get_deleted_objects.perms_needed.1",
      "distance": 1.4822380542755127,
      "file_path": "django/contrib/admin/utils.py",
      "start_line": 105,
      "end_line": 121,
      "tokens": 135,
      "context_length": 12377
    },
    {
      "position": 38,
      "id": "/tmp/repos/django/django/core/management/commands/flush.py_Command.handle_",
      "distance": 1.4822604656219482,
      "file_path": "django/core/management/commands/flush.py",
      "start_line": 27,
      "end_line": 83,
      "tokens": 486,
      "context_length": 12863
    },
    {
      "position": 39,
      "id": "/tmp/repos/django/django/core/checks/messages.py_1_CheckMessage.__eq__.1.1",
      "distance": 1.4830234050750732,
      "file_path": "django/core/checks/messages.py",
      "start_line": 1,
      "end_line": 25,
      "tokens": 160,
      "context_length": 13023
    },
    {
      "position": 40,
      "id": "/tmp/repos/django/django/contrib/messages/api.py_get_messages_",
      "distance": 1.4833707809448242,
      "file_path": "django/contrib/messages/api.py",
      "start_line": 37,
      "end_line": 97,
      "tokens": 453,
      "context_length": 13476
    },
    {
      "position": 41,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_write_pot_file_write_pot_file.7.1",
      "distance": 1.4863873720169067,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 170,
      "end_line": 194,
      "tokens": 225,
      "context_length": 13701
    },
    {
      "position": 42,
      "id": "/tmp/repos/django/django/db/backends/base/creation.py_BaseDatabaseCreation.destroy_test_db_BaseDatabaseCreation._destroy_test_db.6.1",
      "distance": 1.486399531364441,
      "file_path": "django/db/backends/base/creation.py",
      "start_line": 259,
      "end_line": 299,
      "tokens": 342,
      "context_length": 14043
    },
    {
      "position": 43,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_Command.write_po_file_Command.write_po_file.9.3.1.2.1",
      "distance": 1.490111231803894,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 605,
      "end_line": 644,
      "tokens": 399,
      "context_length": 14442
    },
    {
      "position": 44,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin._response_post_save_ModelAdmin.response_post_save_change.2.1",
      "distance": 1.4945169687271118,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1336,
      "end_line": 1361,
      "tokens": 232,
      "context_length": 14674
    },
    {
      "position": 45,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_Command.add_arguments_Command.add_arguments.13",
      "distance": 1.4950876235961914,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 216,
      "end_line": 281,
      "tokens": 633,
      "context_length": 15307
    },
    {
      "position": 46,
      "id": "/tmp/repos/django/django/core/management/commands/makemigrations.py_Command.handle_merge_",
      "distance": 1.495649814605713,
      "file_path": "django/core/management/commands/makemigrations.py",
      "start_line": 239,
      "end_line": 326,
      "tokens": 873,
      "context_length": 16180
    },
    {
      "position": 47,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.sort_Collector.sort.self.data.1",
      "distance": 1.495688796043396,
      "file_path": "django/db/models/deletion.py",
      "start_line": 361,
      "end_line": 377,
      "tokens": 130,
      "context_length": 16310
    },
    {
      "position": 48,
      "id": "/tmp/repos/django/django/core/mail/message.py_SafeMIMEMultipart_SafeMIMEMultipart.__setitem__.2",
      "distance": 1.496760368347168,
      "file_path": "django/core/mail/message.py",
      "start_line": 177,
      "end_line": 185,
      "tokens": 115,
      "context_length": 16425
    },
    {
      "position": 49,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_Command_Command.xgettext_options.1",
      "distance": 1.500547170639038,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 197,
      "end_line": 214,
      "tokens": 176,
      "context_length": 16601
    },
    {
      "position": 50,
      "id": "/tmp/repos/django/django/contrib/auth/migrations/0007_alter_validators_add_error_messages.py_1_",
      "distance": 1.5014407634735107,
      "file_path": "django/contrib/auth/migrations/0007_alter_validators_add_error_messages.py",
      "start_line": 1,
      "end_line": 25,
      "tokens": 137,
      "context_length": 16738
    },
    {
      "position": 51,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_DeleteModel_DeleteModel.migration_name_fragment.1.1",
      "distance": 1.5018181800842285,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 250,
      "end_line": 286,
      "tokens": 254,
      "context_length": 16992
    },
    {
      "position": 52,
      "id": "/tmp/repos/django/django/core/checks/messages.py_Debug_",
      "distance": 1.5048694610595703,
      "file_path": "django/core/checks/messages.py",
      "start_line": 54,
      "end_line": 77,
      "tokens": 161,
      "context_length": 17153
    },
    {
      "position": 53,
      "id": "/tmp/repos/django/django/core/mail/message.py_EmailMessage._create_message_EmailMessage._create_attachments.2.1",
      "distance": 1.5049550533294678,
      "file_path": "django/core/mail/message.py",
      "start_line": 338,
      "end_line": 353,
      "tokens": 127,
      "context_length": 17280
    },
    {
      "position": 54,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_1_DeleteQuery.delete_batch.6.1",
      "distance": 1.5106003284454346,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 1,
      "end_line": 44,
      "tokens": 320,
      "context_length": 17600
    },
    {
      "position": 55,
      "id": "/tmp/repos/django/django/contrib/messages/storage/base.py_1_Message.level_tag.1.1",
      "distance": 1.5108368396759033,
      "file_path": "django/contrib/messages/storage/base.py",
      "start_line": 1,
      "end_line": 41,
      "tokens": 264,
      "context_length": 17864
    },
    {
      "position": 56,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.delete_Model._get_FIELD_display.4.1",
      "distance": 1.5122690200805664,
      "file_path": "django/db/models/base.py",
      "start_line": 949,
      "end_line": 966,
      "tokens": 177,
      "context_length": 18041
    },
    {
      "position": 57,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_Command.gettext_version_Command.settings_available.2.1",
      "distance": 1.5144879817962646,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 402,
      "end_line": 424,
      "tokens": 200,
      "context_length": 18241
    },
    {
      "position": 58,
      "id": "/tmp/repos/django/django/forms/models.py_BaseModelForm.save_ModelForm.1",
      "distance": 1.5165743827819824,
      "file_path": "django/forms/models.py",
      "start_line": 451,
      "end_line": 478,
      "tokens": 227,
      "context_length": 18468
    },
    {
      "position": 59,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.changelist_view.24_ModelAdmin.changelist_view.32.1",
      "distance": 1.5202630758285522,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1765,
      "end_line": 1847,
      "tokens": 750,
      "context_length": 19218
    },
    {
      "position": 60,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_Command.copy_plural_forms_",
      "distance": 1.520817518234253,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 646,
      "end_line": 676,
      "tokens": 284,
      "context_length": 19502
    },
    {
      "position": 61,
      "id": "/tmp/repos/django/django/core/mail/__init__.py_mail_admins_mail_admins.6",
      "distance": 1.5215556621551514,
      "file_path": "django/core/mail/__init__.py",
      "start_line": 90,
      "end_line": 104,
      "tokens": 175,
      "context_length": 19677
    },
    {
      "position": 62,
      "id": "/tmp/repos/django/django/core/checks/security/sessions.py_1_",
      "distance": 1.5230305194854736,
      "file_path": "django/core/checks/security/sessions.py",
      "start_line": 1,
      "end_line": 98,
      "tokens": 572,
      "context_length": 20249
    },
    {
      "position": 63,
      "id": "/tmp/repos/django/django/contrib/messages/storage/cookie.py_binascii_MessageEncoder.default.2.1",
      "distance": 1.523840069770813,
      "file_path": "django/contrib/messages/storage/cookie.py",
      "start_line": 1,
      "end_line": 25,
      "tokens": 180,
      "context_length": 20429
    },
    {
      "position": 64,
      "id": "/tmp/repos/django/django/core/exceptions.py_ValidationError_",
      "distance": 1.5245033502578735,
      "file_path": "django/core/exceptions.py",
      "start_line": 107,
      "end_line": 218,
      "tokens": 752,
      "context_length": 21181
    },
    {
      "position": 65,
      "id": "/tmp/repos/django/django/views/debug.py_SafeExceptionReporterFilter.cleanse_special_types_SafeExceptionReporterFilter.cleanse_special_types.3.1",
      "distance": 1.5248448848724365,
      "file_path": "django/views/debug.py",
      "start_line": 189,
      "end_line": 201,
      "tokens": 143,
      "context_length": 21324
    },
    {
      "position": 66,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor.delete_model_BaseDatabaseSchemaEditor.delete_model.7.1.1",
      "distance": 1.5285840034484863,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 355,
      "end_line": 369,
      "tokens": 141,
      "context_length": 21465
    },
    {
      "position": 67,
      "id": "/tmp/repos/django/django/contrib/admin/decorators.py_display_display.3.2.1.1",
      "distance": 1.5285879373550415,
      "file_path": "django/contrib/admin/decorators.py",
      "start_line": 32,
      "end_line": 71,
      "tokens": 268,
      "context_length": 21733
    },
    {
      "position": 68,
      "id": "/tmp/repos/django/django/core/management/commands/squashmigrations.py_Command.handle.29_Command.handle.40.2.1",
      "distance": 1.5291165113449097,
      "file_path": "django/core/management/commands/squashmigrations.py",
      "start_line": 136,
      "end_line": 204,
      "tokens": 654,
      "context_length": 22387
    },
    {
      "position": 69,
      "id": "/tmp/repos/django/django/contrib/postgres/aggregates/mixins.py_OrderableAggMixin.as_sql_OrderableAggMixin.as_sql.2.1",
      "distance": 1.5299850702285767,
      "file_path": "django/contrib/postgres/aggregates/mixins.py",
      "start_line": 22,
      "end_line": 34,
      "tokens": 124,
      "context_length": 22511
    },
    {
      "position": 70,
      "id": "/tmp/repos/django/django/core/management/commands/compilemessages.py_Command.handle_Command.handle.22.1",
      "distance": 1.5306323766708374,
      "file_path": "django/core/management/commands/compilemessages.py",
      "start_line": 59,
      "end_line": 116,
      "tokens": 504,
      "context_length": 23015
    },
    {
      "position": 71,
      "id": "/tmp/repos/django/django/contrib/postgres/utils.py_1_",
      "distance": 1.5306905508041382,
      "file_path": "django/contrib/postgres/utils.py",
      "start_line": 1,
      "end_line": 30,
      "tokens": 218,
      "context_length": 23233
    },
    {
      "position": 72,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLDeleteCompiler_SQLDeleteCompiler._as_sql.4.1",
      "distance": 1.5309562683105469,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1462,
      "end_line": 1494,
      "tokens": 254,
      "context_length": 23487
    },
    {
      "position": 73,
      "id": "/tmp/repos/django/django/views/debug.py_SafeExceptionReporterFilter.get_cleansed_multivaluedict_SafeExceptionReporterFilter.get_cleansed_multivaluedict.4.1",
      "distance": 1.5309845209121704,
      "file_path": "django/views/debug.py",
      "start_line": 150,
      "end_line": 162,
      "tokens": 148,
      "context_length": 23635
    },
    {
      "position": 74,
      "id": "/tmp/repos/django/django/forms/formsets.py_BaseFormSet.deleted_forms_BaseFormSet.deleted_forms.6.1",
      "distance": 1.5314382314682007,
      "file_path": "django/forms/formsets.py",
      "start_line": 228,
      "end_line": 243,
      "tokens": 176,
      "context_length": 23811
    },
    {
      "position": 75,
      "id": "/tmp/repos/django/django/core/management/commands/compilemessages.py_Command_Command.add_arguments.4",
      "distance": 1.5316081047058105,
      "file_path": "django/core/management/commands/compilemessages.py",
      "start_line": 30,
      "end_line": 57,
      "tokens": 230,
      "context_length": 24041
    },
    {
      "position": 76,
      "id": "/tmp/repos/django/django/contrib/auth/management/commands/createsuperuser.py_Command._validate_username_",
      "distance": 1.5316288471221924,
      "file_path": "django/contrib/auth/management/commands/createsuperuser.py",
      "start_line": 230,
      "end_line": 245,
      "tokens": 139,
      "context_length": 24180
    },
    {
      "position": 77,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.unique_error_message_Model.unique_error_message.4.5.3.1",
      "distance": 1.5330915451049805,
      "file_path": "django/db/models/base.py",
      "start_line": 1178,
      "end_line": 1206,
      "tokens": 213,
      "context_length": 24393
    },
    {
      "position": 78,
      "id": "/tmp/repos/django/django/contrib/auth/mixins.py_UserPassesTestMixin_",
      "distance": 1.5351910591125488,
      "file_path": "django/contrib/auth/mixins.py",
      "start_line": 107,
      "end_line": 129,
      "tokens": 146,
      "context_length": 24539
    },
    {
      "position": 79,
      "id": "/tmp/repos/django/django/contrib/staticfiles/management/commands/collectstatic.py_Command.log_Command.clear_dir.5.1",
      "distance": 1.5372958183288574,
      "file_path": "django/contrib/staticfiles/management/commands/collectstatic.py",
      "start_line": 207,
      "end_line": 242,
      "tokens": 248,
      "context_length": 24787
    },
    {
      "position": 80,
      "id": "/tmp/repos/django/django/contrib/auth/mixins.py_AccessMixin.handle_no_permission_LoginRequiredMixin.dispatch.2.1",
      "distance": 1.5378632545471191,
      "file_path": "django/contrib/auth/mixins.py",
      "start_line": 44,
      "end_line": 71,
      "tokens": 235,
      "context_length": 25022
    },
    {
      "position": 81,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_BaseModelAdmin.has_add_permission_BaseModelAdmin.has_change_permission.4.1",
      "distance": 1.5380676984786987,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 476,
      "end_line": 498,
      "tokens": 241,
      "context_length": 25263
    },
    {
      "position": 82,
      "id": "/tmp/repos/django/django/contrib/postgres/operations.py_RemoveCollation_RemoveCollation.migration_name_fragment.1.1",
      "distance": 1.5380982160568237,
      "file_path": "django/contrib/postgres/operations.py",
      "start_line": 239,
      "end_line": 259,
      "tokens": 163,
      "context_length": 25426
    },
    {
      "position": 83,
      "id": "/tmp/repos/django/django/db/backends/oracle/creation.py_DatabaseCreation._destroy_test_db_DatabaseCreation._destroy_test_db.7",
      "distance": 1.539797306060791,
      "file_path": "django/db/backends/oracle/creation.py",
      "start_line": 167,
      "end_line": 185,
      "tokens": 201,
      "context_length": 25627
    },
    {
      "position": 84,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.delete_QuerySet.delete.20.1",
      "distance": 1.5404741764068604,
      "file_path": "django/db/models/query.py",
      "start_line": 724,
      "end_line": 752,
      "tokens": 261,
      "context_length": 25888
    },
    {
      "position": 85,
      "id": "/tmp/repos/django/django/utils/deprecation.py_RenameMethodsBase_RenameMethodsBase.__new__.3.1",
      "distance": 1.5413455963134766,
      "file_path": "django/utils/deprecation.py",
      "start_line": 36,
      "end_line": 76,
      "tokens": 336,
      "context_length": 26224
    },
    {
      "position": 86,
      "id": "/tmp/repos/django/django/db/backends/oracle/creation.py_DatabaseCreation._handle_objects_preventing_db_destruction_DatabaseCreation._handle_objects_preventing_db_destruction.3",
      "distance": 1.5416009426116943,
      "file_path": "django/db/backends/oracle/creation.py",
      "start_line": 130,
      "end_line": 165,
      "tokens": 399,
      "context_length": 26623
    },
    {
      "position": 87,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.get_changelist_formset_ModelAdmin.log_change.3.1",
      "distance": 1.5416865348815918,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 788,
      "end_line": 842,
      "tokens": 414,
      "context_length": 27037
    },
    {
      "position": 88,
      "id": "/tmp/repos/django/django/contrib/admin/models.py_LogEntry.__str___LogEntry.is_deletion.1.1",
      "distance": 1.5424511432647705,
      "file_path": "django/contrib/admin/models.py",
      "start_line": 74,
      "end_line": 94,
      "tokens": 161,
      "context_length": 27198
    },
    {
      "position": 89,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin._changeform_view.context_ModelAdmin._changeform_view.22.1",
      "distance": 1.5424963235855103,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1637,
      "end_line": 1662,
      "tokens": 291,
      "context_length": 27489
    },
    {
      "position": 90,
      "id": "/tmp/repos/django/django/contrib/auth/middleware.py_RemoteUserMiddleware.clean_username_RemoteUserMiddleware._remove_invalid_user.2.3.1.1",
      "distance": 1.5433077812194824,
      "file_path": "django/contrib/auth/middleware.py",
      "start_line": 86,
      "end_line": 111,
      "tokens": 192,
      "context_length": 27681
    },
    {
      "position": 91,
      "id": "/tmp/repos/django/django/contrib/messages/storage/base.py_BaseStorage.add_BaseStorage.add.9",
      "distance": 1.543426275253296,
      "file_path": "django/contrib/messages/storage/base.py",
      "start_line": 133,
      "end_line": 149,
      "tokens": 131,
      "context_length": 27812
    },
    {
      "position": 92,
      "id": "/tmp/repos/django/django/views/generic/edit.py_ModelFormMixin_ModelFormMixin.get_form_class.3.2.3.1",
      "distance": 1.5436289310455322,
      "file_path": "django/views/generic/edit.py",
      "start_line": 70,
      "end_line": 101,
      "tokens": 269,
      "context_length": 28081,
      "file_pos": 48
    },
    {
      "position": 93,
      "id": "/tmp/repos/django/django/forms/formsets.py_BaseFormSet.full_clean_BaseFormSet.full_clean.8.5.self._non_form_errors.1",
      "distance": 1.5441112518310547,
      "file_path": "django/forms/formsets.py",
      "start_line": 330,
      "end_line": 383,
      "tokens": 456,
      "context_length": 28537
    },
    {
      "position": 94,
      "id": "/tmp/repos/django/django/contrib/messages/utils.py__",
      "distance": 1.544592022895813,
      "file_path": "django/contrib/messages/utils.py",
      "start_line": 1,
      "end_line": 13,
      "tokens": 0,
      "context_length": 28537
    },
    {
      "position": 95,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_glob_check_programs.1.1.1",
      "distance": 1.545480489730835,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 1,
      "end_line": 34,
      "tokens": 260,
      "context_length": 28797
    },
    {
      "position": 96,
      "id": "/tmp/repos/django/django/core/files/utils.py_FileProxyMixin_",
      "distance": 1.5463292598724365,
      "file_path": "django/core/files/utils.py",
      "start_line": 27,
      "end_line": 79,
      "tokens": 378,
      "context_length": 29175
    },
    {
      "position": 97,
      "id": "/tmp/repos/django/django/forms/utils.py_ErrorList.__reduce_ex___ErrorList.__reduce_ex__.info.2.1",
      "distance": 1.5483335256576538,
      "file_path": "django/forms/utils.py",
      "start_line": 144,
      "end_line": 151,
      "tokens": 132,
      "context_length": 29307
    },
    {
      "position": 98,
      "id": "/tmp/repos/django/django/contrib/auth/views.py_LogoutView.get_next_page_LogoutView.get_context_data.4.1",
      "distance": 1.5487397909164429,
      "file_path": "django/contrib/auth/views.py",
      "start_line": 133,
      "end_line": 167,
      "tokens": 269,
      "context_length": 29576
    },
    {
      "position": 99,
      "id": "/tmp/repos/django/django/core/management/commands/flush.py_1_Command.add_arguments.2",
      "distance": 1.5489380359649658,
      "file_path": "django/core/management/commands/flush.py",
      "start_line": 1,
      "end_line": 25,
      "tokens": 206,
      "context_length": 29782
    },
    {
      "position": 100,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.delete.alters_data_QuerySet.update.11.1",
      "distance": 1.549519419670105,
      "file_path": "django/db/models/query.py",
      "start_line": 754,
      "end_line": 787,
      "tokens": 274,
      "context_length": 30056
    },
    {
      "position": 101,
      "id": "/tmp/repos/django/django/contrib/admin/decorators.py_action_action.3.2.1.1",
      "distance": 1.5497353076934814,
      "file_path": "django/contrib/admin/decorators.py",
      "start_line": 1,
      "end_line": 29,
      "tokens": 181,
      "context_length": 30237
    },
    {
      "position": 102,
      "id": "/tmp/repos/django/django/forms/models.py_BaseModelFormSet.get_unique_error_message_BaseModelFormSet.get_form_error.1.1",
      "distance": 1.5501999855041504,
      "file_path": "django/forms/models.py",
      "start_line": 759,
      "end_line": 780,
      "tokens": 194,
      "context_length": 30431
    },
    {
      "position": 103,
      "id": "/tmp/repos/django/django/views/generic/base.py_logging_ContextMixin.get_context_data.3.1",
      "distance": 1.5510271787643433,
      "file_path": "django/views/generic/base.py",
      "start_line": 1,
      "end_line": 26,
      "tokens": 142,
      "context_length": 30573
    },
    {
      "position": 104,
      "id": "/tmp/repos/django/django/forms/utils.py_ErrorList_ErrorList.__getitem__.3.1",
      "distance": 1.5523207187652588,
      "file_path": "django/forms/utils.py",
      "start_line": 79,
      "end_line": 142,
      "tokens": 379,
      "context_length": 30952
    },
    {
      "position": 105,
      "id": "/tmp/repos/django/django/core/management/commands/makemigrations.py_Command.handle_Command.handle.autodetector.1",
      "distance": 1.5532336235046387,
      "file_path": "django/core/management/commands/makemigrations.py",
      "start_line": 61,
      "end_line": 152,
      "tokens": 822,
      "context_length": 31774
    },
    {
      "position": 106,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin._changeform_view_ModelAdmin._changeform_view.16.3.title.1",
      "distance": 1.5534212589263916,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1550,
      "end_line": 1636,
      "tokens": 760,
      "context_length": 32534
    },
    {
      "position": 107,
      "id": "/tmp/repos/django/django/contrib/messages/storage/__init__.py__",
      "distance": 1.5535553693771362,
      "file_path": "django/contrib/messages/storage/__init__.py",
      "start_line": 1,
      "end_line": 13,
      "tokens": 0,
      "context_length": 32534
    },
    {
      "position": 108,
      "id": "/tmp/repos/django/django/core/validators.py_EmailValidator_EmailValidator.__init__.4.self.domain_allowlist.1",
      "distance": 1.5540504455566406,
      "file_path": "django/core/validators.py",
      "start_line": 159,
      "end_line": 210,
      "tokens": 518,
      "context_length": 33052
    },
    {
      "position": 109,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_ModelAdmin.render_change_form_ModelAdmin.render_change_form.11.1",
      "distance": 1.5544087886810303,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 1137,
      "end_line": 1182,
      "tokens": 482,
      "context_length": 33534
    },
    {
      "position": 110,
      "id": "/tmp/repos/django/django/db/models/fields/mixins.py_CheckFieldDefaultMixin_",
      "distance": 1.5560014247894287,
      "file_path": "django/db/models/fields/mixins.py",
      "start_line": 31,
      "end_line": 57,
      "tokens": 173,
      "context_length": 33707
    },
    {
      "position": 111,
      "id": "/tmp/repos/django/django/utils/datastructures.py_ImmutableList_ImmutableList.reverse.1",
      "distance": 1.5572543144226074,
      "file_path": "django/utils/datastructures.py",
      "start_line": 221,
      "end_line": 255,
      "tokens": 226,
      "context_length": 33933
    },
    {
      "position": 112,
      "id": "/tmp/repos/django/django/utils/deprecation.py_asyncio_warn_about_renamed_method.__call__",
      "distance": 1.5573102235794067,
      "file_path": "django/utils/deprecation.py",
      "start_line": 1,
      "end_line": 33,
      "tokens": 209,
      "context_length": 34142
    },
    {
      "position": 113,
      "id": "/tmp/repos/django/django/utils/decorators.py_make_middleware_decorator_make_middleware_decorator",
      "distance": 1.5576249361038208,
      "file_path": "django/utils/decorators.py",
      "start_line": 114,
      "end_line": 152,
      "tokens": 316,
      "context_length": 34458
    },
    {
      "position": 114,
      "id": "/tmp/repos/django/django/contrib/messages/views.py__",
      "distance": 1.558039665222168,
      "file_path": "django/contrib/messages/views.py",
      "start_line": 1,
      "end_line": 19,
      "tokens": 0,
      "context_length": 34458
    },
    {
      "position": 115,
      "id": "/tmp/repos/django/django/contrib/auth/views.py_27_PasswordContextMixin.get_context_data.3.1",
      "distance": 1.5582406520843506,
      "file_path": "django/contrib/auth/views.py",
      "start_line": 193,
      "end_line": 209,
      "tokens": 122,
      "context_length": 34580
    },
    {
      "position": 116,
      "id": "/tmp/repos/django/django/core/mail/__init__.py_mail_managers_",
      "distance": 1.5584170818328857,
      "file_path": "django/core/mail/__init__.py",
      "start_line": 107,
      "end_line": 122,
      "tokens": 180,
      "context_length": 34760
    },
    {
      "position": 117,
      "id": "/tmp/repos/django/django/db/backends/oracle/schema.py_DatabaseSchemaEditor.delete_model_DatabaseSchemaEditor.delete_model.2",
      "distance": 1.5588467121124268,
      "file_path": "django/db/backends/oracle/schema.py",
      "start_line": 44,
      "end_line": 58,
      "tokens": 133,
      "context_length": 34893
    },
    {
      "position": 118,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.generate_deleted_proxies_MigrationAutodetector.generate_renamed_fields.3.7.1.6.1.5",
      "distance": 1.5590440034866333,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 804,
      "end_line": 854,
      "tokens": 576,
      "context_length": 35469
    },
    {
      "position": 119,
      "id": "/tmp/repos/django/django/core/management/commands/makemessages.py_BuildFile.preprocess_BuildFile.preprocess.5.1",
      "distance": 1.5592559576034546,
      "file_path": "django/core/management/commands/makemessages.py",
      "start_line": 98,
      "end_line": 115,
      "tokens": 139,
      "context_length": 35608
    },
    {
      "position": 120,
      "id": "/tmp/repos/django/django/contrib/messages/__init__.py__",
      "distance": 1.560337781906128,
      "file_path": "django/contrib/messages/__init__.py",
      "start_line": 1,
      "end_line": 3,
      "tokens": 0,
      "context_length": 35608
    },
    {
      "position": 121,
      "id": "/tmp/repos/django/django/views/debug.py_SafeExceptionReporterFilter_SafeExceptionReporterFilter.cleanse_setting.5.1",
      "distance": 1.5606545209884644,
      "file_path": "django/views/debug.py",
      "start_line": 88,
      "end_line": 120,
      "tokens": 258,
      "context_length": 35866
    },
    {
      "position": 122,
      "id": "/tmp/repos/django/django/contrib/postgres/aggregates/mixins.py_1_OrderableAggMixin.resolve_expression.2.1",
      "distance": 1.561692714691162,
      "file_path": "django/contrib/postgres/aggregates/mixins.py",
      "start_line": 1,
      "end_line": 20,
      "tokens": 182,
      "context_length": 36048
    },
    {
      "position": 123,
      "id": "/tmp/repos/django/django/forms/forms.py_BaseForm._clean_form_BaseForm.has_changed.2.1",
      "distance": 1.5619701147079468,
      "file_path": "django/forms/forms.py",
      "start_line": 408,
      "end_line": 435,
      "tokens": 190,
      "context_length": 36238
    }
  ],
  "files": [
    {
      "file_path": "django/views/generic/edit.py",
      "position": 1,
      "tokens": 1716,
      "context_length": 1716
    },
    {
      "file_path": "django/contrib/admin/options.py",
      "position": 2,
      "tokens": 18658,
      "context_length": 20374
    },
    {
      "file_path": "django/contrib/admin/actions.py",
      "position": 3,
      "tokens": 616,
      "context_length": 20990
    },
    {
      "file_path": "django/contrib/admin/utils.py",
      "position": 4,
      "tokens": 4158,
      "context_length": 25148
    },
    {
      "file_path": "django/db/models/deletion.py",
      "position": 5,
      "tokens": 3828,
      "context_length": 28976
    },
    {
      "file_path": "django/core/checks/messages.py",
      "position": 6,
      "tokens": 577,
      "context_length": 29553
    },
    {
      "file_path": "django/contrib/admin/templatetags/admin_modify.py",
      "position": 7,
      "tokens": 968,
      "context_length": 30521
    },
    {
      "file_path": "django/core/management/commands/makemessages.py",
      "position": 8,
      "tokens": 5627,
      "context_length": 36148
    },
    {
      "file_path": "django/utils/deprecation.py",
      "position": 9,
      "tokens": 1039,
      "context_length": 37187
    },
    {
      "file_path": "django/contrib/auth/views.py",
      "position": 10,
      "tokens": 2730,
      "context_length": 39917
    },
    {
      "file_path": "django/contrib/auth/mixins.py",
      "position": 11,
      "tokens": 864,
      "context_length": 40781
    },
    {
      "file_path": "django/contrib/messages/middleware.py",
      "position": 12,
      "tokens": 175,
      "context_length": 40956
    },
    {
      "file_path": "django/contrib/admin/sites.py",
      "position": 13,
      "tokens": 4429,
      "context_length": 45385
    },
    {
      "file_path": "django/views/generic/base.py",
      "position": 14,
      "tokens": 1650,
      "context_length": 47035
    },
    {
      "file_path": "django/contrib/messages/api.py",
      "position": 15,
      "tokens": 663,
      "context_length": 47698
    },
    {
      "file_path": "django/db/backends/mysql/compiler.py",
      "position": 16,
      "tokens": 594,
      "context_length": 48292
    },
    {
      "file_path": "django/contrib/contenttypes/management/commands/remove_stale_contenttypes.py",
      "position": 17,
      "tokens": 720,
      "context_length": 49012
    },
    {
      "file_path": "django/utils/asyncio.py",
      "position": 18,
      "tokens": 213,
      "context_length": 49225
    },
    {
      "file_path": "django/core/management/commands/flush.py",
      "position": 19,
      "tokens": 687,
      "context_length": 49912
    },
    {
      "file_path": "django/db/backends/base/creation.py",
      "position": 20,
      "tokens": 2788,
      "context_length": 52700
    },
    {
      "file_path": "django/core/management/commands/makemigrations.py",
      "position": 21,
      "tokens": 2839,
      "context_length": 55539
    },
    {
      "file_path": "django/core/mail/message.py",
      "position": 22,
      "tokens": 3651,
      "context_length": 59190
    },
    {
      "file_path": "django/contrib/auth/migrations/0007_alter_validators_add_error_messages.py",
      "position": 23,
      "tokens": 137,
      "context_length": 59327
    },
    {
      "file_path": "django/db/migrations/operations/models.py",
      "position": 24,
      "tokens": 6450,
      "context_length": 65777
    },
    {
      "file_path": "django/db/models/sql/subqueries.py",
      "position": 25,
      "tokens": 1201,
      "context_length": 66978
    },
    {
      "file_path": "django/contrib/messages/storage/base.py",
      "position": 26,
      "tokens": 1230,
      "context_length": 68208
    },
    {
      "file_path": "django/db/models/base.py",
      "position": 27,
      "tokens": 17320,
      "context_length": 85528
    },
    {
      "file_path": "django/forms/models.py",
      "position": 28,
      "tokens": 11774,
      "context_length": 97302
    },
    {
      "file_path": "django/core/mail/__init__.py",
      "position": 29,
      "tokens": 1120,
      "context_length": 98422
    },
    {
      "file_path": "django/core/checks/security/sessions.py",
      "position": 30,
      "tokens": 573,
      "context_length": 98995
    },
    {
      "file_path": "django/contrib/messages/storage/cookie.py",
      "position": 31,
      "tokens": 1379,
      "context_length": 100374
    },
    {
      "file_path": "django/core/exceptions.py",
      "position": 32,
      "tokens": 1189,
      "context_length": 101563
    },
    {
      "file_path": "django/views/debug.py",
      "position": 33,
      "tokens": 4753,
      "context_length": 106316
    },
    {
      "file_path": "django/db/backends/base/schema.py",
      "position": 34,
      "tokens": 12823,
      "context_length": 119139
    },
    {
      "file_path": "django/contrib/admin/decorators.py",
      "position": 35,
      "tokens": 643,
      "context_length": 119782
    },
    {
      "file_path": "django/core/management/commands/squashmigrations.py",
      "position": 36,
      "tokens": 1873,
      "context_length": 121655
    },
    {
      "file_path": "django/contrib/postgres/aggregates/mixins.py",
      "position": 37,
      "tokens": 438,
      "context_length": 122093
    },
    {
      "file_path": "django/core/management/commands/compilemessages.py",
      "position": 38,
      "tokens": 1319,
      "context_length": 123412
    },
    {
      "file_path": "django/contrib/postgres/utils.py",
      "position": 39,
      "tokens": 218,
      "context_length": 123630
    },
    {
      "file_path": "django/db/models/sql/compiler.py",
      "position": 40,
      "tokens": 14780,
      "context_length": 138410
    },
    {
      "file_path": "django/forms/formsets.py",
      "position": 41,
      "tokens": 4131,
      "context_length": 142541
    },
    {
      "file_path": "django/contrib/auth/management/commands/createsuperuser.py",
      "position": 42,
      "tokens": 2063,
      "context_length": 144604
    },
    {
      "file_path": "django/contrib/staticfiles/management/commands/collectstatic.py",
      "position": 43,
      "tokens": 2818,
      "context_length": 147422
    },
    {
      "file_path": "django/contrib/postgres/operations.py",
      "position": 44,
      "tokens": 2386,
      "context_length": 149808
    },
    {
      "file_path": "django/db/backends/oracle/creation.py",
      "position": 45,
      "tokens": 3893,
      "context_length": 153701
    },
    {
      "file_path": "django/db/models/query.py",
      "position": 46,
      "tokens": 17538,
      "context_length": 171239
    },
    {
      "file_path": "django/contrib/admin/models.py",
      "position": 47,
      "tokens": 1123,
      "context_length": 172362
    },
    {
      "file_path": "django/contrib/auth/middleware.py",
      "position": 48,
      "tokens": 1005,
      "context_length": 173367
    },
    {
      "file_path": "django/contrib/messages/utils.py",
      "position": 49,
      "tokens": 50,
      "context_length": 173417
    },
    {
      "file_path": "django/core/files/utils.py",
      "position": 50,
      "tokens": 571,
      "context_length": 173988
    },
    {
      "file_path": "django/forms/utils.py",
      "position": 51,
      "tokens": 1301,
      "context_length": 175289
    },
    {
      "file_path": "django/contrib/messages/storage/__init__.py",
      "position": 52,
      "tokens": 70,
      "context_length": 175359
    },
    {
      "file_path": "django/core/validators.py",
      "position": 53,
      "tokens": 4699,
      "context_length": 180058
    },
    {
      "file_path": "django/db/models/fields/mixins.py",
      "position": 54,
      "tokens": 343,
      "context_length": 180401
    },
    {
      "file_path": "django/utils/datastructures.py",
      "position": 55,
      "tokens": 2274,
      "context_length": 182675
    },
    {
      "file_path": "django/utils/decorators.py",
      "position": 56,
      "tokens": 1399,
      "context_length": 184074
    },
    {
      "file_path": "django/contrib/messages/views.py",
      "position": 57,
      "tokens": 96,
      "context_length": 184170
    },
    {
      "file_path": "django/db/backends/oracle/schema.py",
      "position": 58,
      "tokens": 2051,
      "context_length": 186221
    },
    {
      "file_path": "django/db/migrations/autodetector.py",
      "position": 59,
      "tokens": 11580,
      "context_length": 197801
    },
    {
      "file_path": "django/contrib/messages/__init__.py",
      "position": 60,
      "tokens": 24,
      "context_length": 197825
    },
    {
      "file_path": "django/forms/forms.py",
      "position": 61,
      "tokens": 4050,
      "context_length": 201875
    }
  ]
}