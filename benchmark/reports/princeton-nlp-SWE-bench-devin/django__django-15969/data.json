{
  "instance_id": "django__django-15969",
  "model_patch": "diff --git a/django/db/models/deletion.py b/django/db/models/deletion.py\nindex 2cb3c88444..a2869380a1 100644\n--- a/django/db/models/deletion.py\n+++ b/django/db/models/deletion.py\n@@ -65,7 +65,13 @@ def SET(value):\n \n \n def SET_NULL(collector, field, sub_objs, using):\n-    collector.add_field_update(field, None, sub_objs)\n+    # Check if the field is a ForeignKey and has a related parent id\n+    if hasattr(field, 'remote_field') and hasattr(field.remote_field, 'parent_link') and field.remote_field.parent_link:\n+        # Construct an UPDATE query using the parent ID\n+        parent_id = field.remote_field.model._meta.pk.name\n+        collector.add_query_update(field.model, {field.name: None}, {parent_id: sub_objs[0].pk})\n+    else:\n+        collector.add_field_update(field, None, sub_objs)\n \n \n def SET_DEFAULT(collector, field, sub_objs, using):\n@@ -150,6 +156,17 @@ class Collector:\n         model = objs[0].__class__\n         self.field_updates[model][field, value].update(objs)\n \n+    def add_query_update(self, model, field_value_dict, condition_dict):\n+        \"\"\"\n+        Schedule an SQL UPDATE query. 'model' is the Django model class for which\n+        the update will be executed. 'field_value_dict' is a dictionary of field\n+        names and values to be updated. 'condition_dict' is a dictionary of field\n+        names and values used to build the WHERE clause.\n+        \"\"\"\n+        # Construct the SQL UPDATE query\n+        query = sql.UpdateQuery(model)\n+        query.update_batch(condition_dict.keys(), field_value_dict, self.using)\n+\n     def add_restricted_objects(self, field, objs):\n         if objs:\n             model = objs[0].__class__\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "django/db/models/deletion.py"
  ],
  "repo": "django/django",
  "base_commit": "081871bc20cc8b28481109b8dcadc321e177e6be",
  "patch": "diff --git a/django/db/models/deletion.py b/django/db/models/deletion.py\n--- a/django/db/models/deletion.py\n+++ b/django/db/models/deletion.py\n@@ -1,9 +1,9 @@\n from collections import Counter, defaultdict\n-from functools import partial\n+from functools import partial, reduce\n from itertools import chain\n-from operator import attrgetter\n+from operator import attrgetter, or_\n \n-from django.db import IntegrityError, connections, transaction\n+from django.db import IntegrityError, connections, models, transaction\n from django.db.models import query_utils, signals, sql\n \n \n@@ -61,6 +61,7 @@ def set_on_delete(collector, field, sub_objs, using):\n             collector.add_field_update(field, value, sub_objs)\n \n     set_on_delete.deconstruct = lambda: (\"django.db.models.SET\", (value,), {})\n+    set_on_delete.lazy_sub_objs = True\n     return set_on_delete\n \n \n@@ -68,10 +69,16 @@ def SET_NULL(collector, field, sub_objs, using):\n     collector.add_field_update(field, None, sub_objs)\n \n \n+SET_NULL.lazy_sub_objs = True\n+\n+\n def SET_DEFAULT(collector, field, sub_objs, using):\n     collector.add_field_update(field, field.get_default(), sub_objs)\n \n \n+SET_DEFAULT.lazy_sub_objs = True\n+\n+\n def DO_NOTHING(collector, field, sub_objs, using):\n     pass\n \n@@ -93,8 +100,8 @@ def __init__(self, using, origin=None):\n         self.origin = origin\n         # Initially, {model: {instances}}, later values become lists.\n         self.data = defaultdict(set)\n-        # {model: {(field, value): {instances}}}\n-        self.field_updates = defaultdict(partial(defaultdict, set))\n+        # {(field, value): [instances, \u2026]}\n+        self.field_updates = defaultdict(list)\n         # {model: {field: {instances}}}\n         self.restricted_objects = defaultdict(partial(defaultdict, set))\n         # fast_deletes is a list of queryset-likes that can be deleted without\n@@ -145,10 +152,7 @@ def add_field_update(self, field, value, objs):\n         Schedule a field update. 'objs' must be a homogeneous iterable\n         collection of model instances (e.g. a QuerySet).\n         \"\"\"\n-        if not objs:\n-            return\n-        model = objs[0].__class__\n-        self.field_updates[model][field, value].update(objs)\n+        self.field_updates[field, value].append(objs)\n \n     def add_restricted_objects(self, field, objs):\n         if objs:\n@@ -312,7 +316,8 @@ def collect(\n             if keep_parents and related.model in parents:\n                 continue\n             field = related.field\n-            if field.remote_field.on_delete == DO_NOTHING:\n+            on_delete = field.remote_field.on_delete\n+            if on_delete == DO_NOTHING:\n                 continue\n             related_model = related.related_model\n             if self.can_fast_delete(related_model, from_field=field):\n@@ -340,9 +345,9 @@ def collect(\n                         )\n                     )\n                     sub_objs = sub_objs.only(*tuple(referenced_fields))\n-                if sub_objs:\n+                if getattr(on_delete, \"lazy_sub_objs\", False) or sub_objs:\n                     try:\n-                        field.remote_field.on_delete(self, field, sub_objs, self.using)\n+                        on_delete(self, field, sub_objs, self.using)\n                     except ProtectedError as error:\n                         key = \"'%s.%s'\" % (field.model.__name__, field.name)\n                         protected_objects[key] += error.protected_objects\n@@ -469,11 +474,25 @@ def delete(self):\n                     deleted_counter[qs.model._meta.label] += count\n \n             # update fields\n-            for model, instances_for_fieldvalues in self.field_updates.items():\n-                for (field, value), instances in instances_for_fieldvalues.items():\n+            for (field, value), instances_list in self.field_updates.items():\n+                updates = []\n+                objs = []\n+                for instances in instances_list:\n+                    if (\n+                        isinstance(instances, models.QuerySet)\n+                        and instances._result_cache is None\n+                    ):\n+                        updates.append(instances)\n+                    else:\n+                        objs.extend(instances)\n+                if updates:\n+                    combined_updates = reduce(or_, updates)\n+                    combined_updates.update(**{field.name: value})\n+                if objs:\n+                    model = objs[0].__class__\n                     query = sql.UpdateQuery(model)\n                     query.update_batch(\n-                        [obj.pk for obj in instances], {field.name: value}, self.using\n+                        list({obj.pk for obj in objs}), {field.name: value}, self.using\n                     )\n \n             # reverse instance collections\n@@ -497,11 +516,6 @@ def delete(self):\n                             origin=self.origin,\n                         )\n \n-        # update collected instances\n-        for instances_for_fieldvalues in self.field_updates.values():\n-            for (field, value), instances in instances_for_fieldvalues.items():\n-                for obj in instances:\n-                    setattr(obj, field.attname, value)\n         for model, instances in self.data.items():\n             for instance in instances:\n                 setattr(instance, model._meta.pk.attname, None)\n",
  "test_patch": "diff --git a/tests/delete_regress/models.py b/tests/delete_regress/models.py\n--- a/tests/delete_regress/models.py\n+++ b/tests/delete_regress/models.py\n@@ -90,6 +90,12 @@ class Location(models.Model):\n class Item(models.Model):\n     version = models.ForeignKey(Version, models.CASCADE)\n     location = models.ForeignKey(Location, models.SET_NULL, blank=True, null=True)\n+    location_value = models.ForeignKey(\n+        Location, models.SET(42), default=1, db_constraint=False, related_name=\"+\"\n+    )\n+    location_default = models.ForeignKey(\n+        Location, models.SET_DEFAULT, default=1, db_constraint=False, related_name=\"+\"\n+    )\n \n \n # Models for #16128\ndiff --git a/tests/delete_regress/tests.py b/tests/delete_regress/tests.py\n--- a/tests/delete_regress/tests.py\n+++ b/tests/delete_regress/tests.py\n@@ -399,3 +399,19 @@ def test_disallowed_delete_distinct(self):\n             Book.objects.distinct().delete()\n         with self.assertRaisesMessage(TypeError, msg):\n             Book.objects.distinct(\"id\").delete()\n+\n+\n+class SetQueryCountTests(TestCase):\n+    def test_set_querycount(self):\n+        policy = Policy.objects.create()\n+        version = Version.objects.create(policy=policy)\n+        location = Location.objects.create(version=version)\n+        Item.objects.create(\n+            version=version,\n+            location=location,\n+            location_default=location,\n+            location_value=location,\n+        )\n+        # 3 UPDATEs for SET of item values and one for DELETE locations.\n+        with self.assertNumQueries(4):\n+            location.delete()\n",
  "problem_statement": "Performance issues with `on_delete=models.SET_NULL` on large tables\nDescription\n\t\nHello,\nI have the following models configuration:\nParent model\nChild model, with a parent_id foreign key to a Parent model, set with on_delete=models.SET_NULL\nEach Parent can have a lot of children, in my case roughly 30k.\nI'm starting to encounter performance issues that make my jobs timeout, because the SQL queries simply timeout.\nI've enabled query logging, and noticed something weird (that is certainly that way on purpose, but I don't understand why).\n# Select the parent\nSELECT * FROM \"parent\" WHERE \"parent\".\"id\" = 'parent123';\n# Select all children\nSELECT * FROM \"children\" WHERE \"children\".\"parent_id\" IN ('parent123');\n# Update all children `parent_id` column to `NULL`\nUPDATE \"children\" SET \"parent_id\" = NULL WHERE \"children\".\"id\" IN ('child1', 'child2', 'child3', ..., 'child30000');\n# Finally delete the parent\nDELETE FROM \"parent\" WHERE \"parent\".\"id\" IN ('parent123');\nI would have expected the update condition to simply be WHERE \"children\".\"parent_id\" = 'parent123', but for some reason it isn't.\nIn the meantime, I'll switch to on_delete=models.CASCADE, which in my case does the trick, but I was curious about the reason why this happens in the first place.\nThanks in advance\n",
  "hints_text": "You are right that is an opportunity for an optimization when SET, SET_DEFAULT, or SET_NULL is used but I wonder if it's worth doing given db_on_delete support (see #21961) make things even better for this use case. In the meantime, I'll switch to on_delete=models.CASCADE, which in my case does the trick, but I was curious about the reason why this happens in the first place. This is likely the case because the collector is able to take \u200bthe fast delete route and avoid object fetching entirely. If you want to give a shot at a patch you'll want to have a look at Collector.collect and have it skip collection entirely when dealing with SET and friends likely by adding a branch that turns them into fast updates. \u200bOne branch that worries me is the post-deletion assignment of values to in-memory instances but I can't understand why this is even necessary given all the instances that are collected for field updates are never make their way out of the collector so I would expect it to be entirely unnecessary at least all delete and delete_regress tests pass if I entirely remove it django/db/models/deletion.py diff --git a/django/db/models/deletion.py b/django/db/models/deletion.py index 2cb3c88444..2eb8e95281 100644 a b def delete(self): 496496 using=self.using, 497497 origin=self.origin, 498498 ) 499 500 # update collected instances 501 for instances_for_fieldvalues in self.field_updates.values(): 502 for (field, value), instances in instances_for_fieldvalues.items(): 503 for obj in instances: 504 setattr(obj, field.attname, value) 505499 for model, instances in self.data.items(): 506500 for instance in instances: 507501 setattr(instance, model._meta.pk.attname, None) You'll want to make sure to avoid breaking the \u200badmin's collector subclass used to display deletion confirmation pages but from a quick look it doesn't seem to care about field updates. Tentatively accepting but I think we should revisit when #21961 lands.",
  "created_at": "2022-08-18T01:11:18Z",
  "version": "4.2",
  "FAIL_TO_PASS": "[\"test_set_querycount (delete_regress.tests.SetQueryCountTests)\"]",
  "PASS_TO_PASS": "[\"Auto-created many-to-many through tables referencing a parent model are\", \"Cascade deletion works with ForeignKey.to_field set to non-PK.\", \"Deleting a proxy-of-proxy instance should bubble through to its proxy\", \"Deleting an instance of a concrete model should also delete objects\", \"Deleting the *proxy* instance bubbles through to its non-proxy and\", \"Django cascades deletes through generic-related objects to their\", \"If a pair of proxy models are linked by an FK from one concrete parent\", \"If an M2M relationship has an explicitly-specified through model, and\", \"If the number of objects > chunk size, deletion still occurs.\", \"With a model (Researcher) that has two foreign keys pointing to the\", \"test_15776 (delete_regress.tests.DeleteCascadeTests)\", \"test_19187_values (delete_regress.tests.ProxyDeleteTest)\", \"test_disallowed_delete_distinct (delete_regress.tests.DeleteDistinct)\", \"test_meta_ordered_delete (delete_regress.tests.DeleteTests)\", \"test_self_reference_with_through_m2m_at_second_level (delete_regress.tests.DeleteTests)\", \"test_ticket_19102_annotate (delete_regress.tests.Ticket19102Tests)\", \"test_ticket_19102_defer (delete_regress.tests.Ticket19102Tests)\", \"test_ticket_19102_extra (delete_regress.tests.Ticket19102Tests)\", \"test_ticket_19102_select_related (delete_regress.tests.Ticket19102Tests)\"]",
  "environment_setup_commit": "0fbdb9784da915fce5dcc1fe82bac9b4785749e5",
  "patch_files": [
    "django/db/models/deletion.py"
  ],
  "test_patch_files": [
    "tests/delete_regress/models.py",
    "tests/delete_regress/tests.py"
  ],
  "patch_diff_details": {
    "django/db/models/deletion.py": {
      "diffs": [
        {
          "start_line_old": 2,
          "end_line_old": 6,
          "file_pos": 1,
          "file_context_length": 3932,
          "pos": 1,
          "context_length": 569
        },
        {
          "start_line_old": 64,
          "end_line_old": 64,
          "file_pos": 1,
          "file_context_length": 3932,
          "pos": 1,
          "context_length": 569
        },
        {
          "start_line_old": 71,
          "end_line_old": 71,
          "file_pos": 1,
          "file_context_length": 3932,
          "pos": 1,
          "context_length": 569
        },
        {
          "start_line_old": 96,
          "end_line_old": 97,
          "file_pos": 1,
          "file_context_length": 3932,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/deletion.py_Collector.collect.15_Collector.collect.15.3.3.3.1",
          "closest_snippet_line_distance": 276,
          "pos": 16,
          "context_length": 6005
        },
        {
          "start_line_old": 148,
          "end_line_old": 151,
          "file_pos": 1,
          "file_context_length": 3932,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/deletion.py_Collector.can_fast_delete_Collector.can_fast_delete.8.1",
          "closest_snippet_line_distance": 35
        },
        {
          "start_line_old": 315,
          "end_line_old": 315,
          "file_pos": 1,
          "file_context_length": 3932,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/deletion.py_1_get_candidate_relations_to_delete.3.1",
          "closest_snippet_line_distance": 229,
          "pos": 2,
          "context_length": 1185
        },
        {
          "start_line_old": 343,
          "end_line_old": 345,
          "file_pos": 1,
          "file_context_length": 3932,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/deletion.py_1_get_candidate_relations_to_delete.3.1",
          "closest_snippet_line_distance": 259,
          "pos": 2,
          "context_length": 1185
        },
        {
          "start_line_old": 472,
          "end_line_old": 476,
          "file_pos": 1,
          "file_context_length": 3932,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/deletion.py_Collector.collect.11_Collector.collect.14.1.sub_objs.2",
          "closest_snippet_line_distance": 106,
          "pos": 3,
          "context_length": 1786
        },
        {
          "start_line_old": 500,
          "end_line_old": 504,
          "file_pos": 1,
          "file_context_length": 3932,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/deletion.py_Collector.collect.11_Collector.collect.14.1.sub_objs.2",
          "closest_snippet_line_distance": 134,
          "pos": 3,
          "context_length": 1786
        }
      ]
    }
  },
  "vectors": 3725,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/django/django/db/models/deletion.py_1_get_candidate_relations_to_delete.3.1",
      "distance": 1.0211299657821655,
      "file_path": "django/db/models/deletion.py",
      "start_line": 1,
      "end_line": 86,
      "tokens": 569,
      "context_length": 569,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.collect.11_Collector.collect.14.1.sub_objs.2",
      "distance": 1.051213026046753,
      "file_path": "django/db/models/deletion.py",
      "start_line": 310,
      "end_line": 370,
      "tokens": 616,
      "context_length": 1185,
      "file_pos": 1
    },
    {
      "position": 3,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.delete_",
      "distance": 1.0605270862579346,
      "file_path": "django/db/models/deletion.py",
      "start_line": 431,
      "end_line": 509,
      "tokens": 601,
      "context_length": 1786,
      "file_pos": 1
    },
    {
      "position": 4,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.delete.alters_data_QuerySet._raw_delete.alters_data.1",
      "distance": 1.074275255203247,
      "file_path": "django/db/models/query.py",
      "start_line": 1148,
      "end_line": 1170,
      "tokens": 156,
      "context_length": 1942
    },
    {
      "position": 5,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_1_DeleteQuery.delete_batch.6.1",
      "distance": 1.0749155282974243,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 1,
      "end_line": 45,
      "tokens": 311,
      "context_length": 2253
    },
    {
      "position": 6,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.generate_deleted_models_MigrationAutodetector.generate_deleted_models.6.26",
      "distance": 1.0763691663742065,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 811,
      "end_line": 906,
      "tokens": 712,
      "context_length": 2965
    },
    {
      "position": 7,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._check_bulk_create_options_QuerySet._check_bulk_create_options.4.1",
      "distance": 1.077906608581543,
      "file_path": "django/db/models/query.py",
      "start_line": 684,
      "end_line": 743,
      "tokens": 479,
      "context_length": 3444
    },
    {
      "position": 8,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignKey._check_on_delete_ForeignKey._check_on_delete.2.3.1.1",
      "distance": 1.0876069068908691,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 992,
      "end_line": 1016,
      "tokens": 176,
      "context_length": 3620
    },
    {
      "position": 9,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.ain_bulk_QuerySet.delete.20.1",
      "distance": 1.0969505310058594,
      "file_path": "django/db/models/query.py",
      "start_line": 1112,
      "end_line": 1146,
      "tokens": 306,
      "context_length": 3926
    },
    {
      "position": 10,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.delete_Model._get_FIELD_display.4.1",
      "distance": 1.1083838939666748,
      "file_path": "django/db/models/base.py",
      "start_line": 1128,
      "end_line": 1147,
      "tokens": 188,
      "context_length": 4114
    },
    {
      "position": 11,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.collect.15_Collector.collect.15.3.3.3.1",
      "distance": 1.1219913959503174,
      "file_path": "django/db/models/deletion.py",
      "start_line": 372,
      "end_line": 396,
      "tokens": 273,
      "context_length": 4387,
      "file_pos": 6
    },
    {
      "position": 12,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._prepare_related_fields_for_save_Model._prepare_related_fields_for_save.5.6.2.2.1",
      "distance": 1.1309418678283691,
      "file_path": "django/db/models/base.py",
      "start_line": 1074,
      "end_line": 1126,
      "tokens": 516,
      "context_length": 4903
    },
    {
      "position": 13,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.bulk_create.27_QuerySet.abulk_create.1.1",
      "distance": 1.1339564323425293,
      "file_path": "django/db/models/query.py",
      "start_line": 795,
      "end_line": 853,
      "tokens": 499,
      "context_length": 5402
    },
    {
      "position": 14,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/schema.py_DatabaseSchemaEditor.delete_model_DatabaseSchemaEditor.delete_model.1.2.2",
      "distance": 1.1361658573150635,
      "file_path": "django/db/backends/sqlite3/schema.py",
      "start_line": 362,
      "end_line": 378,
      "tokens": 132,
      "context_length": 5534
    },
    {
      "position": 15,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLDeleteCompiler_SQLDeleteCompiler._as_sql.4.1",
      "distance": 1.1447882652282715,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1764,
      "end_line": 1796,
      "tokens": 254,
      "context_length": 5788
    },
    {
      "position": 16,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector_Collector.__init__.19",
      "distance": 1.1464591026306152,
      "file_path": "django/db/models/deletion.py",
      "start_line": 89,
      "end_line": 109,
      "tokens": 217,
      "context_length": 6005,
      "file_pos": 8
    },
    {
      "position": 17,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLUpdateCompiler.pre_sql_setup_SQLUpdateCompiler.pre_sql_setup.23",
      "distance": 1.1477657556533813,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1907,
      "end_line": 1968,
      "tokens": 588,
      "context_length": 6593
    },
    {
      "position": 18,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._delete_composed_index_BaseDatabaseSchemaEditor._delete_composed_index.7",
      "distance": 1.1481237411499023,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 563,
      "end_line": 595,
      "tokens": 268,
      "context_length": 6861
    },
    {
      "position": 19,
      "id": "/tmp/repos/django/django/db/backends/oracle/schema.py_DatabaseSchemaEditor.delete_model_DatabaseSchemaEditor.delete_model.2",
      "distance": 1.1484551429748535,
      "file_path": "django/db/backends/oracle/schema.py",
      "start_line": 52,
      "end_line": 73,
      "tokens": 146,
      "context_length": 7007
    },
    {
      "position": 20,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.save_base.alters_data_Model._save_parents.5.1",
      "distance": 1.1496191024780273,
      "file_path": "django/db/models/base.py",
      "start_line": 906,
      "end_line": 941,
      "tokens": 318,
      "context_length": 7325
    },
    {
      "position": 21,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_UpdateQuery_UpdateQuery.update_batch.2.3",
      "distance": 1.1533734798431396,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 48,
      "end_line": 78,
      "tokens": 212,
      "context_length": 7537
    },
    {
      "position": 22,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._delete_primary_key_",
      "distance": 1.15346097946167,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 1718,
      "end_line": 1755,
      "tokens": 303,
      "context_length": 7840
    },
    {
      "position": 23,
      "id": "/tmp/repos/django/django/db/models/query.py_prefetch_related_objects.13_prefetch_related_objects.13.7.2.18.8.new_obj_list.obj_list.1",
      "distance": 1.1539442539215088,
      "file_path": "django/db/models/query.py",
      "start_line": 2232,
      "end_line": 2366,
      "tokens": 1129,
      "context_length": 8969
    },
    {
      "position": 24,
      "id": "/tmp/repos/django/django/db/models/base.py_Model.save.alters_data_Model.save_base.18.1",
      "distance": 1.1582657098770142,
      "file_path": "django/db/models/base.py",
      "start_line": 838,
      "end_line": 904,
      "tokens": 475,
      "context_length": 9444
    },
    {
      "position": 25,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._perform_unique_checks_Model._perform_unique_checks.3.1",
      "distance": 1.1583356857299805,
      "file_path": "django/db/models/base.py",
      "start_line": 1298,
      "end_line": 1345,
      "tokens": 409,
      "context_length": 9853
    },
    {
      "position": 26,
      "id": "/tmp/repos/django/django/db/backends/base/features.py_BaseDatabaseFeatures.1_BaseDatabaseFeatures.minimum_database_version.147",
      "distance": 1.1637353897094727,
      "file_path": "django/db/backends/base/features.py",
      "start_line": 6,
      "end_line": 221,
      "tokens": 1745,
      "context_length": 11598
    },
    {
      "position": 27,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.split_exclude_Query.split_exclude.21.1",
      "distance": 1.1638503074645996,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1981,
      "end_line": 2048,
      "tokens": 667,
      "context_length": 12265
    },
    {
      "position": 28,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py__all_related_fields__related_non_m2m_objects.related_fields.2.2",
      "distance": 1.164698839187622,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 39,
      "end_line": 72,
      "tokens": 214,
      "context_length": 12479
    },
    {
      "position": 29,
      "id": "/tmp/repos/django/django/db/models/deletion.py_Collector.can_fast_delete_Collector.can_fast_delete.8.1",
      "distance": 1.165970802307129,
      "file_path": "django/db/models/deletion.py",
      "start_line": 183,
      "end_line": 225,
      "tokens": 337,
      "context_length": 12816,
      "file_pos": 12
    },
    {
      "position": 30,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor.alter_unique_together_BaseDatabaseSchemaEditor.alter_unique_together.7.2",
      "distance": 1.1678390502929688,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 521,
      "end_line": 540,
      "tokens": 196,
      "context_length": 13012
    },
    {
      "position": 31,
      "id": "/tmp/repos/django/django/db/migrations/questioner.py_InteractiveMigrationQuestioner.ask_not_null_alteration_InteractiveMigrationQuestioner.ask_not_null_alteration.3.1",
      "distance": 1.17250657081604,
      "file_path": "django/db/migrations/questioner.py",
      "start_line": 189,
      "end_line": 215,
      "tokens": 238,
      "context_length": 13250
    },
    {
      "position": 32,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._unique_constraint_name_BaseDatabaseSchemaEditor._delete_unique_sql.3.1",
      "distance": 1.1729350090026855,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 1614,
      "end_line": 1651,
      "tokens": 243,
      "context_length": 13493
    },
    {
      "position": 33,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor.delete_model_BaseDatabaseSchemaEditor.delete_model.7.1.1",
      "distance": 1.17616605758667,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 456,
      "end_line": 475,
      "tokens": 151,
      "context_length": 13644
    },
    {
      "position": 34,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._alter_field.23_BaseDatabaseSchemaEditor._alter_field.needs_database_default.1",
      "distance": 1.182668924331665,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 888,
      "end_line": 972,
      "tokens": 778,
      "context_length": 14422
    },
    {
      "position": 35,
      "id": "/tmp/repos/django/django/db/backends/mysql/schema.py_DatabaseSchemaEditor._delete_composed_index_DatabaseSchemaEditor._delete_composed_index.4.1",
      "distance": 1.1835726499557495,
      "file_path": "django/db/backends/mysql/schema.py",
      "start_line": 138,
      "end_line": 156,
      "tokens": 209,
      "context_length": 14631
    },
    {
      "position": 36,
      "id": "/tmp/repos/django/django/db/backends/mysql/schema.py_1_DatabaseSchemaEditor.sql_delete_check.2.1",
      "distance": 1.1838443279266357,
      "file_path": "django/db/backends/mysql/schema.py",
      "start_line": 1,
      "end_line": 42,
      "tokens": 456,
      "context_length": 15087
    },
    {
      "position": 37,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._save_table_Model._save_table.15.1",
      "distance": 1.18419349193573,
      "file_path": "django/db/models/base.py",
      "start_line": 943,
      "end_line": 1031,
      "tokens": 686,
      "context_length": 15773
    },
    {
      "position": 38,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_relationship_model_ManyToManyField._check_relationship_model.3.3.9.3.seen_from.5.1",
      "distance": 1.1868771314620972,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1450,
      "end_line": 1579,
      "tokens": 984,
      "context_length": 16757
    },
    {
      "position": 39,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._alter_field_BaseDatabaseSchemaEditor._alter_field.22",
      "distance": 1.1882271766662598,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 797,
      "end_line": 887,
      "tokens": 773,
      "context_length": 17530
    },
    {
      "position": 40,
      "id": "/tmp/repos/django/django/db/backends/oracle/operations.py_DatabaseOperations.integer_field_ranges.__foreign_key_constraints_DatabaseOperations.integer_field_ranges._foreign_key_constraints.3.1",
      "distance": 1.190903902053833,
      "file_path": "django/db/backends/oracle/operations.py",
      "start_line": 407,
      "end_line": 453,
      "tokens": 385,
      "context_length": 17915
    },
    {
      "position": 41,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_constraints_Model._check_constraints.3.1",
      "distance": 1.1916083097457886,
      "file_path": "django/db/models/base.py",
      "start_line": 2256,
      "end_line": 2447,
      "tokens": 1302,
      "context_length": 19217
    },
    {
      "position": 42,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_empty_Query.set_limits.4.1",
      "distance": 1.1919116973876953,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2050,
      "end_line": 2079,
      "tokens": 259,
      "context_length": 19476
    },
    {
      "position": 43,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_WhereNode._resolve_node_WhereNode._resolve_node.3.node.rhs.1",
      "distance": 1.191967248916626,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 253,
      "end_line": 261,
      "tokens": 115,
      "context_length": 19591
    },
    {
      "position": 44,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.clear_limits_Query.add_distinct_fields.self.distinct.1",
      "distance": 1.1933681964874268,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2081,
      "end_line": 2130,
      "tokens": 332,
      "context_length": 19923
    },
    {
      "position": 45,
      "id": "/tmp/repos/django/django/db/models/constraints.py_UniqueConstraint.remove_sql_UniqueConstraint.remove_sql.4.1",
      "distance": 1.1967699527740479,
      "file_path": "django/db/models/constraints.py",
      "start_line": 251,
      "end_line": 265,
      "tokens": 117,
      "context_length": 20040
    },
    {
      "position": 46,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/operations.py_DatabaseOperations._references_graph_DatabaseOperations.sql_flush.4.1",
      "distance": 1.1972174644470215,
      "file_path": "django/db/backends/sqlite3/operations.py",
      "start_line": 216,
      "end_line": 241,
      "tokens": 218,
      "context_length": 20258
    },
    {
      "position": 47,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._delete_index_sql_BaseDatabaseSchemaEditor._index_columns.1.1",
      "distance": 1.2000066041946411,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 1390,
      "end_line": 1406,
      "tokens": 153,
      "context_length": 20411
    },
    {
      "position": 48,
      "id": "/tmp/repos/django/django/db/models/options.py_bisect_DEFAULT_NAMES.1",
      "distance": 1.2056519985198975,
      "file_path": "django/db/models/options.py",
      "start_line": 1,
      "end_line": 57,
      "tokens": 347,
      "context_length": 20758
    },
    {
      "position": 49,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignObject._check_unique_target_ForeignObject._check_unique_target.10.5.1.1",
      "distance": 1.2075769901275635,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 604,
      "end_line": 670,
      "tokens": 497,
      "context_length": 21255
    },
    {
      "position": 50,
      "id": "/tmp/repos/django/django/db/backends/mysql/compiler.py_SQLDeleteCompiler_SQLDeleteCompiler.as_sql.5",
      "distance": 1.2080477476119995,
      "file_path": "django/db/backends/mysql/compiler.py",
      "start_line": 25,
      "end_line": 48,
      "tokens": 252,
      "context_length": 21507
    },
    {
      "position": 51,
      "id": "/tmp/repos/django/django/db/models/query.py_normalize_prefetch_lookups_prefetch_related_objects.all_lookups.1",
      "distance": 1.2081711292266846,
      "file_path": "django/db/models/query.py",
      "start_line": 2203,
      "end_line": 2231,
      "tokens": 246,
      "context_length": 21753
    },
    {
      "position": 52,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_long_column_names_Model._check_long_column_names.11.1",
      "distance": 1.2085371017456055,
      "file_path": "django/db/models/base.py",
      "start_line": 2157,
      "end_line": 2238,
      "tokens": 588,
      "context_length": 22341
    },
    {
      "position": 53,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_ignored_options_ManyToManyField._check_ignored_options.5.1",
      "distance": 1.2095017433166504,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1418,
      "end_line": 1448,
      "tokens": 172,
      "context_length": 22513
    },
    {
      "position": 54,
      "id": "/tmp/repos/django/django/db/backends/postgresql/schema.py_DatabaseSchemaEditor.sql_update_with_default._index_columns_DatabaseSchemaEditor.sql_update_with_default._delete_index_sql.2.1",
      "distance": 1.2098727226257324,
      "file_path": "django/db/backends/postgresql/schema.py",
      "start_line": 267,
      "end_line": 292,
      "tokens": 235,
      "context_length": 22748
    },
    {
      "position": 55,
      "id": "/tmp/repos/django/django/db/backends/oracle/creation.py_DatabaseCreation._handle_objects_preventing_db_destruction_DatabaseCreation._handle_objects_preventing_db_destruction.3",
      "distance": 1.2111098766326904,
      "file_path": "django/db/backends/oracle/creation.py",
      "start_line": 159,
      "end_line": 201,
      "tokens": 411,
      "context_length": 23159
    },
    {
      "position": 56,
      "id": "/tmp/repos/django/django/db/backends/oracle/operations.py_DatabaseOperations.integer_field_ranges.sql_flush_DatabaseOperations.integer_field_ranges.sql_flush.11.1",
      "distance": 1.2118706703186035,
      "file_path": "django/db/backends/oracle/operations.py",
      "start_line": 455,
      "end_line": 518,
      "tokens": 532,
      "context_length": 23691
    },
    {
      "position": 57,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_values_Query.set_values.9",
      "distance": 1.2122220993041992,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2391,
      "end_line": 2440,
      "tokens": 398,
      "context_length": 24089
    },
    {
      "position": 58,
      "id": "/tmp/repos/django/django/db/backends/postgresql/schema.py_DatabaseSchemaEditor.sql_update_with_default._alter_field_DatabaseSchemaEditor.sql_update_with_default._alter_field.3.7.2",
      "distance": 1.2126628160476685,
      "file_path": "django/db/backends/postgresql/schema.py",
      "start_line": 219,
      "end_line": 265,
      "tokens": 408,
      "context_length": 24497
    },
    {
      "position": 59,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_JoinPromoter.update_join_types_",
      "distance": 1.213381052017212,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2639,
      "end_line": 2695,
      "tokens": 823,
      "context_length": 25320
    },
    {
      "position": 60,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.join_parent_model_Query.join_parent_model.7.1",
      "distance": 1.2155776023864746,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1077,
      "end_line": 1108,
      "tokens": 307,
      "context_length": 25627
    },
    {
      "position": 61,
      "id": "/tmp/repos/django/django/db/models/__init__.py_1_",
      "distance": 1.217773675918579,
      "file_path": "django/db/models/__init__.py",
      "start_line": 1,
      "end_line": 116,
      "tokens": 682,
      "context_length": 26309
    },
    {
      "position": 62,
      "id": "/tmp/repos/django/django/db/backends/mysql/features.py_DatabaseFeatures.django_test_skips_DatabaseFeatures.django_test_skips.6.1",
      "distance": 1.2178553342819214,
      "file_path": "django/db/backends/mysql/features.py",
      "start_line": 86,
      "end_line": 160,
      "tokens": 597,
      "context_length": 26906
    },
    {
      "position": 63,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.names_to_path.3_Query.names_to_path.4.1",
      "distance": 1.2181663513183594,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1656,
      "end_line": 1754,
      "tokens": 846,
      "context_length": 27752
    },
    {
      "position": 64,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLDeleteCompiler.as_sql_SQLDeleteCompiler.as_sql.11.1",
      "distance": 1.2201482057571411,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1798,
      "end_line": 1817,
      "tokens": 212,
      "context_length": 27964
    },
    {
      "position": 65,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.generate_deleted_proxies_MigrationAutodetector.create_renamed_fields.4.7.1.6.1.5",
      "distance": 1.2203490734100342,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 908,
      "end_line": 981,
      "tokens": 623,
      "context_length": 28587
    },
    {
      "position": 66,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.bump_prefix.3_Query.bump_prefix.13",
      "distance": 1.2206001281738281,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 976,
      "end_line": 1003,
      "tokens": 272,
      "context_length": 28859
    },
    {
      "position": 67,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_reverse_many_to_one_manager.RelatedManager.add.alters_data_create_reverse_many_to_one_manager.RelatedManager.19._clear.alters_data.1",
      "distance": 1.2206393480300903,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 789,
      "end_line": 864,
      "tokens": 592,
      "context_length": 29451
    },
    {
      "position": 68,
      "id": "/tmp/repos/django/django/db/backends/postgresql/operations.py_DatabaseOperations.sequence_reset_sql_DatabaseOperations.sequence_reset_sql.5.1",
      "distance": 1.2210752964019775,
      "file_path": "django/db/backends/postgresql/operations.py",
      "start_line": 212,
      "end_line": 244,
      "tokens": 314,
      "context_length": 29765
    },
    {
      "position": 69,
      "id": "/tmp/repos/django/django/db/backends/mysql/operations.py_DatabaseOperations.on_conflict_suffix_sql_",
      "distance": 1.2213385105133057,
      "file_path": "django/db/backends/mysql/operations.py",
      "start_line": 436,
      "end_line": 465,
      "tokens": 274,
      "context_length": 30039
    },
    {
      "position": 70,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.deferred_to_data_Query.deferred_to_data.8.6.6.1",
      "distance": 1.2218650579452515,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 721,
      "end_line": 803,
      "tokens": 845,
      "context_length": 30884
    },
    {
      "position": 71,
      "id": "/tmp/repos/django/django/db/models/base.py_36_",
      "distance": 1.221899390220642,
      "file_path": "django/db/models/base.py",
      "start_line": 2450,
      "end_line": 2502,
      "tokens": 341,
      "context_length": 31225
    },
    {
      "position": 72,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.collapse_group_by_SQLCompiler.ordering_parts.collapse_group_by.5.4.1",
      "distance": 1.222724199295044,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 171,
      "end_line": 230,
      "tokens": 543,
      "context_length": 31768
    },
    {
      "position": 73,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_group_by_Query.add_select_related.self.select_related.1",
      "distance": 1.223728060722351,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2236,
      "end_line": 2280,
      "tokens": 355,
      "context_length": 32123
    },
    {
      "position": 74,
      "id": "/tmp/repos/django/django/db/models/query.py_RelatedPopulator.populate_",
      "distance": 1.2237317562103271,
      "file_path": "django/db/models/query.py",
      "start_line": 2604,
      "end_line": 2627,
      "tokens": 201,
      "context_length": 32324
    },
    {
      "position": 75,
      "id": "/tmp/repos/django/django/core/cache/backends/db.py_DatabaseCache.pickle_protocol.delete_DatabaseCache.pickle_protocol._base_delete_many.6.2.1",
      "distance": 1.2250417470932007,
      "file_path": "django/core/cache/backends/db.py",
      "start_line": 206,
      "end_line": 233,
      "tokens": 280,
      "context_length": 32604
    },
    {
      "position": 76,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/operations.py_datetime_DatabaseOperations.bulk_batch_size.2.3.1.1",
      "distance": 1.226021409034729,
      "file_path": "django/db/backends/sqlite3/operations.py",
      "start_line": 1,
      "end_line": 42,
      "tokens": 314,
      "context_length": 32918
    },
    {
      "position": 77,
      "id": "/tmp/repos/django/django/db/migrations/questioner.py_MigrationQuestioner.ask_not_null_addition_MigrationQuestioner.ask_unique_callable_default_addition.3.1",
      "distance": 1.2267522811889648,
      "file_path": "django/db/migrations/questioner.py",
      "start_line": 57,
      "end_line": 87,
      "tokens": 255,
      "context_length": 33173
    },
    {
      "position": 78,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.bulk_create_QuerySet.bulk_create.26",
      "distance": 1.2267951965332031,
      "file_path": "django/db/models/query.py",
      "start_line": 745,
      "end_line": 794,
      "tokens": 518,
      "context_length": 33691
    },
    {
      "position": 79,
      "id": "/tmp/repos/django/django/db/backends/postgresql/operations.py_DatabaseOperations.on_conflict_suffix_sql_",
      "distance": 1.2282757759094238,
      "file_path": "django/db/backends/postgresql/operations.py",
      "start_line": 338,
      "end_line": 357,
      "tokens": 150,
      "context_length": 33841
    },
    {
      "position": 80,
      "id": "/tmp/repos/django/django/contrib/gis/db/backends/spatialite/schema.py_SpatialiteSchemaEditor.delete_model_SpatialiteSchemaEditor.delete_model.6",
      "distance": 1.2297015190124512,
      "file_path": "django/contrib/gis/db/backends/spatialite/schema.py",
      "start_line": 91,
      "end_line": 110,
      "tokens": 155,
      "context_length": 33996
    },
    {
      "position": 81,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_related_selections.13_SQLCompiler.ordering_parts.get_related_selections.14.1",
      "distance": 1.2299938201904297,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1167,
      "end_line": 1272,
      "tokens": 871,
      "context_length": 34867
    },
    {
      "position": 82,
      "id": "/tmp/repos/django/django/db/models/query.py_Prefetch_Prefetch.__hash__.1.1",
      "distance": 1.2300331592559814,
      "file_path": "django/db/models/query.py",
      "start_line": 2142,
      "end_line": 2200,
      "tokens": 487,
      "context_length": 35354
    },
    {
      "position": 83,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._perform_date_checks_Model._perform_date_checks.3.1",
      "distance": 1.2304491996765137,
      "file_path": "django/db/models/base.py",
      "start_line": 1347,
      "end_line": 1376,
      "tokens": 290,
      "context_length": 35644
    },
    {
      "position": 84,
      "id": "/tmp/repos/django/django/db/models/options.py_Options._prepare_Options._prepare.2.1.4.3",
      "distance": 1.2308192253112793,
      "file_path": "django/db/models/options.py",
      "start_line": 286,
      "end_line": 328,
      "tokens": 355,
      "context_length": 35999
    },
    {
      "position": 85,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.rewrite_cols_Query.rewrite_cols.orig_exprs.5.1",
      "distance": 1.2319608926773071,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 389,
      "end_line": 441,
      "tokens": 497,
      "context_length": 36496
    },
    {
      "position": 86,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/schema.py_DatabaseSchemaEditor._remake_table.apps_DatabaseSchemaEditor._remake_table.67.restore_pk_field.primary_key.1",
      "distance": 1.232628345489502,
      "file_path": "django/db/backends/sqlite3/schema.py",
      "start_line": 265,
      "end_line": 360,
      "tokens": 807,
      "context_length": 37303
    },
    {
      "position": 87,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._alter_field.45_BaseDatabaseSchemaEditor._alter_field.67",
      "distance": 1.2344492673873901,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 973,
      "end_line": 1060,
      "tokens": 824,
      "context_length": 38127
    },
    {
      "position": 88,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.defer_QuerySet.defer.6.1",
      "distance": 1.2357995510101318,
      "file_path": "django/db/models/query.py",
      "start_line": 1695,
      "end_line": 1710,
      "tokens": 149,
      "context_length": 38276
    },
    {
      "position": 89,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_DeleteModel_DeleteModel.migration_name_fragment.1.1",
      "distance": 1.2381188869476318,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 309,
      "end_line": 341,
      "tokens": 249,
      "context_length": 38525
    }
  ],
  "files": [
    {
      "file_path": "django/db/models/deletion.py",
      "position": 1,
      "tokens": 3932,
      "context_length": 3932
    },
    {
      "file_path": "django/db/models/query.py",
      "position": 2,
      "tokens": 20450,
      "context_length": 24382
    },
    {
      "file_path": "django/db/models/sql/subqueries.py",
      "position": 3,
      "tokens": 1228,
      "context_length": 25610
    },
    {
      "file_path": "django/db/migrations/autodetector.py",
      "position": 4,
      "tokens": 13461,
      "context_length": 39071
    },
    {
      "file_path": "django/db/models/fields/related.py",
      "position": 5,
      "tokens": 14609,
      "context_length": 53680
    },
    {
      "file_path": "django/db/models/base.py",
      "position": 6,
      "tokens": 18551,
      "context_length": 72231
    },
    {
      "file_path": "django/db/backends/sqlite3/schema.py",
      "position": 7,
      "tokens": 4583,
      "context_length": 76814
    },
    {
      "file_path": "django/db/models/sql/compiler.py",
      "position": 8,
      "tokens": 16153,
      "context_length": 92967
    },
    {
      "file_path": "django/db/backends/base/schema.py",
      "position": 9,
      "tokens": 13861,
      "context_length": 106828
    },
    {
      "file_path": "django/db/backends/oracle/schema.py",
      "position": 10,
      "tokens": 2342,
      "context_length": 109170
    },
    {
      "file_path": "django/db/backends/base/features.py",
      "position": 11,
      "tokens": 3069,
      "context_length": 112239
    },
    {
      "file_path": "django/db/models/sql/query.py",
      "position": 12,
      "tokens": 23171,
      "context_length": 135410
    },
    {
      "file_path": "django/db/migrations/questioner.py",
      "position": 13,
      "tokens": 2696,
      "context_length": 138106
    },
    {
      "file_path": "django/db/backends/mysql/schema.py",
      "position": 14,
      "tokens": 1623,
      "context_length": 139729
    },
    {
      "file_path": "django/db/backends/oracle/operations.py",
      "position": 15,
      "tokens": 6220,
      "context_length": 145949
    },
    {
      "file_path": "django/db/models/sql/where.py",
      "position": 16,
      "tokens": 2511,
      "context_length": 148460
    },
    {
      "file_path": "django/db/models/constraints.py",
      "position": 17,
      "tokens": 2928,
      "context_length": 151388
    },
    {
      "file_path": "django/db/backends/sqlite3/operations.py",
      "position": 18,
      "tokens": 3487,
      "context_length": 154875
    },
    {
      "file_path": "django/db/models/options.py",
      "position": 19,
      "tokens": 7588,
      "context_length": 162463
    },
    {
      "file_path": "django/db/backends/mysql/compiler.py",
      "position": 20,
      "tokens": 636,
      "context_length": 163099
    },
    {
      "file_path": "django/db/backends/postgresql/schema.py",
      "position": 21,
      "tokens": 2447,
      "context_length": 165546
    },
    {
      "file_path": "django/db/backends/oracle/creation.py",
      "position": 22,
      "tokens": 4015,
      "context_length": 169561
    },
    {
      "file_path": "django/db/models/__init__.py",
      "position": 23,
      "tokens": 682,
      "context_length": 170243
    },
    {
      "file_path": "django/db/backends/mysql/features.py",
      "position": 24,
      "tokens": 2371,
      "context_length": 172614
    },
    {
      "file_path": "django/db/models/fields/related_descriptors.py",
      "position": 25,
      "tokens": 11242,
      "context_length": 183856
    },
    {
      "file_path": "django/db/backends/postgresql/operations.py",
      "position": 26,
      "tokens": 2989,
      "context_length": 186845
    },
    {
      "file_path": "django/db/backends/mysql/operations.py",
      "position": 27,
      "tokens": 4178,
      "context_length": 191023
    },
    {
      "file_path": "django/core/cache/backends/db.py",
      "position": 28,
      "tokens": 2144,
      "context_length": 193167
    },
    {
      "file_path": "django/contrib/gis/db/backends/spatialite/schema.py",
      "position": 29,
      "tokens": 1394,
      "context_length": 194561
    },
    {
      "file_path": "django/db/migrations/operations/models.py",
      "position": 30,
      "tokens": 7713,
      "context_length": 202274
    }
  ]
}