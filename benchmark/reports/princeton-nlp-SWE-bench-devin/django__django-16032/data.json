{
  "instance_id": "django__django-16032",
  "model_patch": "diff --git a/django/db/models/query.py b/django/db/models/query.py\nindex be0deb90b0..75c8c24c97 100644\n--- a/django/db/models/query.py\n+++ b/django/db/models/query.py\n@@ -1629,12 +1629,17 @@ class QuerySet:\n             if isinstance(annotation, FilteredRelation):\n                 clone.query.add_filtered_relation(annotation, alias)\n             else:\n-                clone.query.add_annotation(\n-                    annotation,\n-                    alias,\n-                    is_summary=False,\n-                    select=select,\n-                )\n+                # When using alias() with select=False, ensure that the resulting queryset\n+                # for the __in lookup only includes the necessary columns. This check prevents\n+                # annotations from being added to the SELECT clause of a subquery, which is\n+                # required for the __in lookup to function correctly with a single column.\n+                if select or not clone.query.is_subquery:\n+                    clone.query.add_annotation(\n+                        annotation,\n+                        alias,\n+                        is_summary=False,\n+                        select=select,\n+                    )\n         for alias, annotation in clone.query.annotations.items():\n             if alias in annotations and annotation.contains_aggregate:\n                 if clone._fields is None:\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "django/db/models/query.py"
  ],
  "repo": "django/django",
  "base_commit": "0c3981eb5094419fe200eb46c71b5376a2266166",
  "patch": "diff --git a/django/db/models/fields/related_lookups.py b/django/db/models/fields/related_lookups.py\n--- a/django/db/models/fields/related_lookups.py\n+++ b/django/db/models/fields/related_lookups.py\n@@ -93,7 +93,6 @@ def get_prep_lookup(self):\n             elif not getattr(self.rhs, \"has_select_fields\", True) and not getattr(\n                 self.lhs.field.target_field, \"primary_key\", False\n             ):\n-                self.rhs.clear_select_clause()\n                 if (\n                     getattr(self.lhs.output_field, \"primary_key\", False)\n                     and self.lhs.output_field.model == self.rhs.model\n@@ -105,7 +104,7 @@ def get_prep_lookup(self):\n                     target_field = self.lhs.field.name\n                 else:\n                     target_field = self.lhs.field.target_field.name\n-                self.rhs.add_fields([target_field], True)\n+                self.rhs.set_values([target_field])\n         return super().get_prep_lookup()\n \n     def as_sql(self, compiler, connection):\ndiff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py\n--- a/django/db/models/sql/query.py\n+++ b/django/db/models/sql/query.py\n@@ -198,6 +198,7 @@ class Query(BaseExpression):\n     select_for_update_of = ()\n     select_for_no_key_update = False\n     select_related = False\n+    has_select_fields = False\n     # Arbitrary limit for select_related to prevents infinite recursion.\n     max_depth = 5\n     # Holds the selects defined by a call to values() or values_list()\n@@ -263,12 +264,6 @@ def output_field(self):\n         elif len(self.annotation_select) == 1:\n             return next(iter(self.annotation_select.values())).output_field\n \n-    @property\n-    def has_select_fields(self):\n-        return bool(\n-            self.select or self.annotation_select_mask or self.extra_select_mask\n-        )\n-\n     @cached_property\n     def base_table(self):\n         for alias in self.alias_map:\n@@ -2384,6 +2379,7 @@ def set_values(self, fields):\n         self.select_related = False\n         self.clear_deferred_loading()\n         self.clear_select_fields()\n+        self.has_select_fields = True\n \n         if fields:\n             field_names = []\n",
  "test_patch": "diff --git a/tests/annotations/tests.py b/tests/annotations/tests.py\n--- a/tests/annotations/tests.py\n+++ b/tests/annotations/tests.py\n@@ -989,6 +989,34 @@ def test_annotation_filter_with_subquery(self):\n             publisher_books_qs, [{\"name\": \"Sams\"}, {\"name\": \"Morgan Kaufmann\"}]\n         )\n \n+    def test_annotation_and_alias_filter_in_subquery(self):\n+        awarded_publishers_qs = (\n+            Publisher.objects.filter(num_awards__gt=4)\n+            .annotate(publisher_annotate=Value(1))\n+            .alias(publisher_alias=Value(1))\n+        )\n+        qs = Publisher.objects.filter(pk__in=awarded_publishers_qs)\n+        self.assertCountEqual(qs, [self.p3, self.p4])\n+\n+    def test_annotation_and_alias_filter_related_in_subquery(self):\n+        long_books_qs = (\n+            Book.objects.filter(pages__gt=400)\n+            .annotate(book_annotate=Value(1))\n+            .alias(book_alias=Value(1))\n+        )\n+        publisher_books_qs = Publisher.objects.filter(\n+            book__in=long_books_qs,\n+        ).values(\"name\")\n+        self.assertCountEqual(\n+            publisher_books_qs,\n+            [\n+                {\"name\": \"Apress\"},\n+                {\"name\": \"Sams\"},\n+                {\"name\": \"Prentice Hall\"},\n+                {\"name\": \"Morgan Kaufmann\"},\n+            ],\n+        )\n+\n     def test_annotation_exists_aggregate_values_chaining(self):\n         qs = (\n             Book.objects.values(\"publisher\")\n",
  "problem_statement": "__in doesn't clear selected fields on the RHS when QuerySet.alias() is used after annotate().\nDescription\n\t\nHere is a test case to reproduce the bug, you can add this in tests/annotations/tests.py\n\tdef test_annotation_and_alias_filter_in_subquery(self):\n\t\tlong_books_qs = (\n\t\t\tBook.objects.filter(\n\t\t\t\tpages__gt=400,\n\t\t\t)\n\t\t\t.annotate(book_annotate=Value(1))\n\t\t\t.alias(book_alias=Value(1))\n\t\t)\n\t\tpublisher_books_qs = (\n\t\t\tPublisher.objects.filter(\n\t\t\t\tbook__in=long_books_qs\n\t\t\t)\n\t\t\t.values(\"name\")\n\t\t)\n\t\tself.assertCountEqual(\n\t\t\tpublisher_books_qs,\n\t\t\t[\n\t\t\t\t{'name': 'Apress'},\n\t\t\t\t{'name': 'Sams'},\n\t\t\t\t{'name': 'Prentice Hall'},\n\t\t\t\t{'name': 'Morgan Kaufmann'}\n\t\t\t]\n\t\t)\nYou should get this error:\ndjango.db.utils.OperationalError: sub-select returns 10 columns - expected 1\n",
  "hints_text": "This is a \u200bdocumented and expected behavior.\nUsing either .alias or .annotate works as expected without using .values to limit to 1 column. Why is that? but using both of them doesn't seem work.\nReplying to Gabriel Muj: Using either .alias or .annotate works as expected without using .values to limit to 1 column. Why is that? but using both of them doesn't seem work. We have some simplification in the __in lookup that automatically limit selected fields to the pk when Query is on the right-side and the selected fields are undefined. It looks like they don't play nice when .annotate() and .alias() are mixed. Tentatively accepted for the investigation.\nWhether or not the In lookups defaults a Query right-hand-side to .values('pk') is based of rhs.has_select_fields (\u200bsource) This dynamic property is based of self.select or self.annotation_select_mask so I suspect that there might be some bad logic in Query.add_annotation (\u200bsource) from the introduction of QuerySet.alias in f4ac167119e8897c398527c392ed117326496652. The self.set_annotation_mask(set(self.annotation_select).difference({alias})) \u200bline seems to be what causes the problem here. If annotate and alias are used then annotation_select_mask will be materialized as a mask is required to keep track of which entries in annotations must be selected and whatnot (not necessary if only using alias or annotate as the first doesn't require any selecting and the second selects all annotations) The add_annotation logic relied on to implement QuerySet.alias is not wrong per se it just happens to piggy back on the annotation masking logic that only Query.set_values relied on previously an now happens to break the heuristics in Query.has_select_fields. The proper solutions is likely to replace Query.has_select_fields by a class attribute that defaults to False and have set_values set it to True and make sure Query.clone carries the attribute over. This seems like a more durable options as that avoids trying to peek into internals to determine if a values call was performed. Gabriel, since you've already written a regression test, would you be interested in submitting a patch that takes the approach proposed above?\nhi, I am new to Django contribution, i tried to implement the solution proposed by simon, replaced the Query.has_select_fields with has_select_fields attribute with default value False and have set_values set it to true, but now i am stuck at carrying over the attribute to Query.clone , can I get a bit more explanation for the same? Edit: Replacing Query_has_select_fields with attribute and having set_values set it to true passes tests for annotations but giving 2 Failures on overall tests (queries).Failures are: FAIL: test_in_subquery (queries.tests.ToFieldTests) AssertionError: Items in the second set but not the first: <Eaten: apple at lunch> FAIL: test_nested_in_subquery (queries.tests.ToFieldTests) AssertionError: Sequences differ: <QuerySet []> != [<ReportComment: ReportComment object (1)>] Second sequence contains 1 additional elements. First extra element 0: <ReportComment: ReportComment object (1)>\nIf you're still struggling with the clone part of the patch it basically means that Query.clone must assign obj.has_select_fields = True when if self.has_select_fields This should not be necessary as it's a shallow attribute and it already gets carried over. The tests are failing because RelatedIn also needs adjustments to make sure it goes through Query.set_values instead of calling clear_select_clause and add_fields django/db/models/fields/related_lookups.py diff --git a/django/db/models/fields/related_lookups.py b/django/db/models/fields/related_lookups.py index 1a845a1f7f..afea09b5a9 100644 a b def get_prep_lookup(self): 9393 elif not getattr(self.rhs, \"has_select_fields\", True) and not getattr( 9494 self.lhs.field.target_field, \"primary_key\", False 9595 ): 96 self.rhs.clear_select_clause() 9796 if ( 9897 getattr(self.lhs.output_field, \"primary_key\", False) 9998 and self.lhs.output_field.model == self.rhs.model \u2026 \u2026 def get_prep_lookup(self): 105104 target_field = self.lhs.field.name 106105 else: 107106 target_field = self.lhs.field.target_field.name 108 self.rhs.add_fields([target_field], True) 107 self.rhs.set_values([target_field]) 109108 return super().get_prep_lookup() 110109 111110 def as_sql(self, compiler, connection):\nThanks, that worked! Opening a PR.",
  "created_at": "2022-09-06T09:54:57Z",
  "version": "4.2",
  "FAIL_TO_PASS": "[\"test_annotation_and_alias_filter_in_subquery (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_and_alias_filter_related_in_subquery (annotations.tests.NonAggregateAnnotationTestCase)\"]",
  "PASS_TO_PASS": "[\"Annotating None onto a model round-trips\", \"Annotations can reference fields in a values clause,\", \"Columns are aligned in the correct order for resolve_columns. This test\", \"Deferred attributes can be referenced by an annotation,\", \"Fields on an inherited model can be referenced by an\", \"test_aggregate_alias (annotations.tests.AliasTests)\", \"test_aggregate_over_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_aggregate_over_full_expression_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_alias_after_annotation (annotations.tests.AliasTests)\", \"test_alias_annotate_with_aggregation (annotations.tests.AliasTests)\", \"test_alias_annotation_expression (annotations.tests.AliasTests)\", \"test_alias_default_alias_expression (annotations.tests.AliasTests)\", \"test_alias_forbidden_chars (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_alias_sql_injection (annotations.tests.AliasTests)\", \"test_alias_sql_injection (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotate_exists (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotate_with_aggregation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_aggregate_with_m2o (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_exists_aggregate_values_chaining (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_filter_with_subquery (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_in_f_grouped_by_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_reverse_m2m (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_subquery_and_aggregate_values_chaining (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_subquery_outerref_transform (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_annotation_with_m2m (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_arguments_must_be_expressions (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_basic_alias (annotations.tests.AliasTests)\", \"test_basic_alias_annotation (annotations.tests.AliasTests)\", \"test_basic_alias_f_annotation (annotations.tests.AliasTests)\", \"test_basic_alias_f_transform_annotation (annotations.tests.AliasTests)\", \"test_basic_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_basic_f_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_boolean_value_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_chaining_annotation_filter_with_m2m (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_chaining_transforms (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_column_field_ordering_with_deferred (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_combined_annotation_commutative (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_combined_expression_annotation_with_aggregation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_combined_f_expression_annotation_with_aggregation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_custom_functions (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_custom_functions_can_ref_other_functions (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_custom_transform_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_dates_alias (annotations.tests.AliasTests)\", \"test_datetimes_alias (annotations.tests.AliasTests)\", \"test_decimal_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_defer_only_alias (annotations.tests.AliasTests)\", \"test_empty_expression_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_empty_queryset_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_filter_agg_with_double_f (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_filter_alias_agg_with_double_f (annotations.tests.AliasTests)\", \"test_filter_alias_with_double_f (annotations.tests.AliasTests)\", \"test_filter_alias_with_f (annotations.tests.AliasTests)\", \"test_filter_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_filter_annotation_with_double_f (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_filter_annotation_with_f (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_filter_decimal_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_filter_wrong_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_full_expression_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_full_expression_annotation_with_aggregation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_grouping_by_q_expression_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_joined_alias_annotation (annotations.tests.AliasTests)\", \"test_joined_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_joined_transformed_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_mixed_type_annotation_date_interval (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_mixed_type_annotation_numbers (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_order_by_aggregate (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_order_by_alias (annotations.tests.AliasTests)\", \"test_order_by_alias_aggregate (annotations.tests.AliasTests)\", \"test_order_by_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_overwrite_alias_with_annotation (annotations.tests.AliasTests)\", \"test_overwrite_annotation_with_alias (annotations.tests.AliasTests)\", \"test_q_expression_annotation_with_aggregation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_raw_sql_with_inherited_field (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_update_with_alias (annotations.tests.AliasTests)\", \"test_update_with_annotation (annotations.tests.NonAggregateAnnotationTestCase)\", \"test_values_alias (annotations.tests.AliasTests)\", \"test_values_with_pk_annotation (annotations.tests.NonAggregateAnnotationTestCase)\"]",
  "environment_setup_commit": "0fbdb9784da915fce5dcc1fe82bac9b4785749e5",
  "patch_files": [
    "django/db/models/fields/related_lookups.py",
    "django/db/models/sql/query.py"
  ],
  "test_patch_files": [
    "tests/annotations/tests.py"
  ],
  "patch_diff_details": {
    "django/db/models/fields/related_lookups.py": {
      "diffs": [
        {
          "start_line_old": 96,
          "end_line_old": 96,
          "file_pos": 9,
          "file_context_length": 80564,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_warnings_MultiColSource.resolve_expression.1.1",
          "closest_snippet_line_distance": 56,
          "pos": 50,
          "context_length": 16530
        },
        {
          "start_line_old": 108,
          "end_line_old": 108,
          "file_pos": 9,
          "file_context_length": 80564,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_warnings_MultiColSource.resolve_expression.1.1",
          "closest_snippet_line_distance": 68,
          "pos": 50,
          "context_length": 16530
        }
      ]
    },
    "django/db/models/sql/query.py": {
      "diffs": [
        {
          "start_line_old": 201,
          "end_line_old": 201,
          "file_pos": 2,
          "file_context_length": 43357,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_fields_Query.add_fields.4.5.1.5.2",
          "closest_snippet_line_distance": 1923,
          "pos": 42,
          "context_length": 13958
        },
        {
          "start_line_old": 266,
          "end_line_old": 271,
          "file_pos": 2,
          "file_context_length": 43357,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/sql/query.py_Query.is_nullable_Query.is_nullable.7.1",
          "closest_snippet_line_distance": 2279,
          "pos": 140,
          "context_length": 46625
        },
        {
          "start_line_old": 2387,
          "end_line_old": 2387,
          "file_pos": 2,
          "file_context_length": 43357,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_filtered_relation_Query.add_filtered_relation.6",
          "closest_snippet_line_distance": 757,
          "pos": 9,
          "context_length": 2553
        }
      ]
    }
  },
  "vectors": 3730,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._annotate_QuerySet._annotate.10.1",
      "distance": 0.7688475847244263,
      "file_path": "django/db/models/query.py",
      "start_line": 1593,
      "end_line": 1646,
      "tokens": 343,
      "context_length": 343
    },
    {
      "position": 2,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.check_alias_Query.add_annotation.5",
      "distance": 0.9002046585083008,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1102,
      "end_line": 1119,
      "tokens": 147,
      "context_length": 490,
      "file_pos": 2
    },
    {
      "position": 3,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.rewrite_cols_Query.rewrite_cols.orig_exprs.5.1",
      "distance": 0.9322590827941895,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 389,
      "end_line": 441,
      "tokens": 497,
      "context_length": 987,
      "file_pos": 2
    },
    {
      "position": 4,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.annotate_QuerySet.alias.3.1",
      "distance": 0.9347478747367859,
      "file_path": "django/db/models/query.py",
      "start_line": 1578,
      "end_line": 1591,
      "tokens": 115,
      "context_length": 1102
    },
    {
      "position": 5,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.resolve_ref_Query.resolve_ref.2.3.12.1",
      "distance": 0.9399570226669312,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1923,
      "end_line": 1971,
      "tokens": 445,
      "context_length": 1547,
      "file_pos": 2
    },
    {
      "position": 6,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_annotation_mask_Query.set_extra_mask.self._extra_select_cache.1",
      "distance": 0.9555730223655701,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2360,
      "end_line": 2381,
      "tokens": 172,
      "context_length": 1719,
      "file_pos": 2
    },
    {
      "position": 7,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_filtered_relation_Query.add_filtered_relation.6",
      "distance": 0.9750829935073853,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1601,
      "end_line": 1630,
      "tokens": 287,
      "context_length": 2006,
      "file_pos": 2
    },
    {
      "position": 8,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_SubqueryConstraint_",
      "distance": 0.9876710176467896,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 325,
      "end_line": 343,
      "tokens": 149,
      "context_length": 2155
    },
    {
      "position": 9,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_values_Query.set_values.9",
      "distance": 1.006458044052124,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2383,
      "end_line": 2432,
      "tokens": 398,
      "context_length": 2553,
      "file_pos": 3
    },
    {
      "position": 10,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.change_aliases_Query.change_aliases.self.external_aliases.1",
      "distance": 1.0106072425842285,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 897,
      "end_line": 940,
      "tokens": 445,
      "context_length": 2998,
      "file_pos": 3
    },
    {
      "position": 11,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Exists_Exists.get_group_by_cols.4.2.1",
      "distance": 1.0335495471954346,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1491,
      "end_line": 1510,
      "tokens": 159,
      "context_length": 3157
    },
    {
      "position": 12,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.bump_prefix.3_Query.bump_prefix.13",
      "distance": 1.0479267835617065,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 968,
      "end_line": 995,
      "tokens": 272,
      "context_length": 3429,
      "file_pos": 4
    },
    {
      "position": 13,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignObject.get_extra_restriction_ForeignObject.get_extra_restriction.2.1",
      "distance": 1.0496046543121338,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 805,
      "end_line": 817,
      "tokens": 113,
      "context_length": 3542
    },
    {
      "position": 14,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.using_QuerySet.ordered.3.3.1.1",
      "distance": 1.050100326538086,
      "file_path": "django/db/models/query.py",
      "start_line": 1733,
      "end_line": 1762,
      "tokens": 185,
      "context_length": 3727
    },
    {
      "position": 15,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Col_Col.get_db_converters.2.1",
      "distance": 1.0514775514602661,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1095,
      "end_line": 1132,
      "tokens": 298,
      "context_length": 4025
    },
    {
      "position": 16,
      "id": "/tmp/repos/django/django/db/models/aggregates.py_Aggregate.default_alias_Aggregate._get_repr_options.4.1",
      "distance": 1.0533822774887085,
      "file_path": "django/db/models/aggregates.py",
      "start_line": 93,
      "end_line": 136,
      "tokens": 361,
      "context_length": 4386
    },
    {
      "position": 17,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.get_initial_alias_Query.count_active_tables.2.1",
      "distance": 1.0631203651428223,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 997,
      "end_line": 1017,
      "tokens": 158,
      "context_length": 4544,
      "file_pos": 6
    },
    {
      "position": 18,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.annotation_select_Query.extra_select.2.3.1.1",
      "distance": 1.0636844635009766,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2434,
      "end_line": 2466,
      "tokens": 229,
      "context_length": 4773,
      "file_pos": 6
    },
    {
      "position": 19,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.demote_joins_Query.reset_refcounts.2.2",
      "distance": 1.0657529830932617,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 869,
      "end_line": 895,
      "tokens": 280,
      "context_length": 5053,
      "file_pos": 6
    },
    {
      "position": 20,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.build_filter.18_Query.build_filter.30.1",
      "distance": 1.066961646080017,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1427,
      "end_line": 1508,
      "tokens": 813,
      "context_length": 5866,
      "file_pos": 6
    },
    {
      "position": 21,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.resolve_expression_Query.resolve_expression.11.1",
      "distance": 1.0685110092163086,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1121,
      "end_line": 1148,
      "tokens": 247,
      "context_length": 6113,
      "file_pos": 6
    },
    {
      "position": 22,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.setup_joins.16_Query.setup_joins.17.1",
      "distance": 1.070605754852295,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1840,
      "end_line": 1870,
      "tokens": 244,
      "context_length": 6357,
      "file_pos": 6
    },
    {
      "position": 23,
      "id": "/tmp/repos/django/django/db/backends/mysql/compiler.py_1_SQLInsertCompiler.1",
      "distance": 1.0722769498825073,
      "file_path": "django/db/backends/mysql/compiler.py",
      "start_line": 1,
      "end_line": 22,
      "tokens": 142,
      "context_length": 6499
    },
    {
      "position": 24,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_FilteredRelation_",
      "distance": 1.073600172996521,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 391,
      "end_line": 431,
      "tokens": 286,
      "context_length": 6785
    },
    {
      "position": 25,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_RelatedIn.as_sql_RelatedIn.as_sql.2.1",
      "distance": 1.0785057544708252,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 111,
      "end_line": 149,
      "tokens": 324,
      "context_length": 7109,
      "file_pos": 9
    },
    {
      "position": 26,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.get_external_cols_Query.as_sql.3.5.1",
      "distance": 1.0800526142120361,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1150,
      "end_line": 1179,
      "tokens": 240,
      "context_length": 7349,
      "file_pos": 9
    },
    {
      "position": 27,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.names_to_path.3_Query.names_to_path.4.1",
      "distance": 1.0856481790542603,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1648,
      "end_line": 1746,
      "tokens": 846,
      "context_length": 8195,
      "file_pos": 9
    },
    {
      "position": 28,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_select_SQLCompiler.ordering_parts.get_select.16.1",
      "distance": 1.087308645248413,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 235,
      "end_line": 318,
      "tokens": 682,
      "context_length": 8877
    },
    {
      "position": 29,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.as_subquery_condition_SQLCompiler.ordering_parts.explain_query.6.1.2.1",
      "distance": 1.0877997875213623,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1512,
      "end_line": 1534,
      "tokens": 254,
      "context_length": 9131
    },
    {
      "position": 30,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_WhereNode.get_group_by_cols_WhereNode._resolve_leaf.2.1",
      "distance": 1.0890707969665527,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 181,
      "end_line": 251,
      "tokens": 501,
      "context_length": 9632
    },
    {
      "position": 31,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.split_exclude_Query.split_exclude.21.1",
      "distance": 1.0968049764633179,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1973,
      "end_line": 2040,
      "tokens": 667,
      "context_length": 10299,
      "file_pos": 10
    },
    {
      "position": 32,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Ref_Ref.get_group_by_cols.1.1",
      "distance": 1.099636435508728,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1135,
      "end_line": 1168,
      "tokens": 238,
      "context_length": 10537
    },
    {
      "position": 33,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.bump_prefix_Query.bump_prefix.prefix_gen.5.prefix.1",
      "distance": 1.1046428680419922,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 942,
      "end_line": 966,
      "tokens": 215,
      "context_length": 10752,
      "file_pos": 10
    },
    {
      "position": 34,
      "id": "/tmp/repos/django/django/db/models/lookups.py_In_In.process_rhs.4.1",
      "distance": 1.1066861152648926,
      "file_path": "django/db/models/lookups.py",
      "start_line": 414,
      "end_line": 452,
      "tokens": 336,
      "context_length": 11088
    },
    {
      "position": 35,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_warnings_MultiColSource.resolve_expression.1.1",
      "distance": 1.1074087619781494,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 1,
      "end_line": 40,
      "tokens": 221,
      "context_length": 11309,
      "file_pos": 11
    },
    {
      "position": 36,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.values_list_QuerySet.values_list.10.1",
      "distance": 1.10748291015625,
      "file_path": "django/db/models/query.py",
      "start_line": 1311,
      "end_line": 1347,
      "tokens": 263,
      "context_length": 11572
    },
    {
      "position": 37,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.table_alias_Query.unref_alias.2",
      "distance": 1.1079530715942383,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 797,
      "end_line": 830,
      "tokens": 300,
      "context_length": 11872,
      "file_pos": 11
    },
    {
      "position": 38,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLDeleteCompiler_SQLDeleteCompiler._as_sql.4.1",
      "distance": 1.1108191013336182,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1771,
      "end_line": 1803,
      "tokens": 254,
      "context_length": 12126
    },
    {
      "position": 39,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.clear_limits_Query.add_distinct_fields.self.distinct.1",
      "distance": 1.1155582666397095,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2073,
      "end_line": 2122,
      "tokens": 332,
      "context_length": 12458,
      "file_pos": 11
    },
    {
      "position": 40,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_fields_Query.add_fields.4.5.1.5.2",
      "distance": 1.1162787675857544,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2124,
      "end_line": 2173,
      "tokens": 369,
      "context_length": 12827,
      "file_pos": 11
    },
    {
      "position": 41,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__class_getitem___QuerySet.__or__.10.1",
      "distance": 1.118898868560791,
      "file_path": "django/db/models/query.py",
      "start_line": 448,
      "end_line": 480,
      "tokens": 249,
      "context_length": 13076
    },
    {
      "position": 42,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query_Query.output_field.1.3.1.1",
      "distance": 1.1223375797271729,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 158,
      "end_line": 264,
      "tokens": 882,
      "context_length": 13958,
      "file_pos": 11
    },
    {
      "position": 43,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py__filter_prefetch_queryset__filter_prefetch_queryset.4.1",
      "distance": 1.1270323991775513,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 92,
      "end_line": 110,
      "tokens": 196,
      "context_length": 14154
    },
    {
      "position": 44,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.combine.38_Query.combine.self.extra_order_by.1",
      "distance": 1.127600908279419,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 679,
      "end_line": 719,
      "tokens": 383,
      "context_length": 14537,
      "file_pos": 12
    },
    {
      "position": 45,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query._gen_cols_Query._gen_col_aliases.1",
      "distance": 1.1296827793121338,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1904,
      "end_line": 1921,
      "tokens": 135,
      "context_length": 14672,
      "file_pos": 12
    },
    {
      "position": 46,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.check_related_objects_Query.check_filterable.3.1.1",
      "distance": 1.1312776803970337,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1233,
      "end_line": 1267,
      "tokens": 339,
      "context_length": 15011,
      "file_pos": 12
    },
    {
      "position": 47,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Subquery_Subquery.get_group_by_cols.5.2.1",
      "distance": 1.135599136352539,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1432,
      "end_line": 1488,
      "tokens": 436,
      "context_length": 15447
    },
    {
      "position": 48,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.ain_bulk_QuerySet.delete.20.1",
      "distance": 1.13594651222229,
      "file_path": "django/db/models/query.py",
      "start_line": 1112,
      "end_line": 1146,
      "tokens": 306,
      "context_length": 15753
    },
    {
      "position": 49,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.promote_joins_Query.promote_joins.3.8.4",
      "distance": 1.1388036012649536,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 832,
      "end_line": 867,
      "tokens": 398,
      "context_length": 16151,
      "file_pos": 12
    },
    {
      "position": 50,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_RelatedIn_RelatedIn.get_prep_lookup.2.1",
      "distance": 1.140297770500183,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 75,
      "end_line": 109,
      "tokens": 379,
      "context_length": 16530,
      "file_pos": 12
    },
    {
      "position": 51,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._fetch_all_QuerySet._next_is_sticky.3.1",
      "distance": 1.1433568000793457,
      "file_path": "django/db/models/query.py",
      "start_line": 1874,
      "end_line": 1892,
      "tokens": 186,
      "context_length": 16716
    },
    {
      "position": 52,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_group_by_Query.add_select_related.self.select_related.1",
      "distance": 1.1443393230438232,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2228,
      "end_line": 2272,
      "tokens": 355,
      "context_length": 17071,
      "file_pos": 12
    },
    {
      "position": 53,
      "id": "/tmp/repos/django/django/db/models/expressions.py_When.as_sql_When.get_group_by_cols.cols.3.1",
      "distance": 1.1476521492004395,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1307,
      "end_line": 1335,
      "tokens": 266,
      "context_length": 17337
    },
    {
      "position": 54,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_1_JoinInfo.1",
      "distance": 1.1487313508987427,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1,
      "end_line": 79,
      "tokens": 576,
      "context_length": 17913,
      "file_pos": 12
    },
    {
      "position": 55,
      "id": "/tmp/repos/django/django/db/models/lookups.py_In.get_rhs_op_In.split_parameter_list_as_sql.max_in_list_size.8.1",
      "distance": 1.1492962837219238,
      "file_path": "django/db/models/lookups.py",
      "start_line": 454,
      "end_line": 487,
      "tokens": 344,
      "context_length": 18257
    },
    {
      "position": 56,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_qualify_sql_SQLCompiler.ordering_parts.get_qualify_sql.22.1",
      "distance": 1.1517224311828613,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 594,
      "end_line": 660,
      "tokens": 563,
      "context_length": 18820
    },
    {
      "position": 57,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__xor___QuerySet.__xor__.10.1",
      "distance": 1.154667615890503,
      "file_path": "django/db/models/query.py",
      "start_line": 482,
      "end_line": 499,
      "tokens": 146,
      "context_length": 18966
    },
    {
      "position": 58,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query._get_defer_select_mask_Query._get_defer_select_mask.12.1",
      "distance": 1.1606321334838867,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 721,
      "end_line": 756,
      "tokens": 362,
      "context_length": 19328,
      "file_pos": 12
    },
    {
      "position": 59,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_filter_Query.clear_where.self.where.1",
      "distance": 1.1626815795898438,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1510,
      "end_line": 1536,
      "tokens": 263,
      "context_length": 19591,
      "file_pos": 12
    },
    {
      "position": 60,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Exists.as_sql_Exists.select_format.4.2.1",
      "distance": 1.166524887084961,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1512,
      "end_line": 1539,
      "tokens": 224,
      "context_length": 19815
    },
    {
      "position": 61,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.join_parent_model_Query.join_parent_model.7.1",
      "distance": 1.1689496040344238,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1069,
      "end_line": 1100,
      "tokens": 307,
      "context_length": 20122,
      "file_pos": 12
    },
    {
      "position": 62,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_select_for_update_of_arguments.5_SQLCompiler.ordering_parts.get_select_for_update_of_arguments.10.1",
      "distance": 1.1693527698516846,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1352,
      "end_line": 1395,
      "tokens": 349,
      "context_length": 20471
    },
    {
      "position": 63,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_refs_expression_refs_expression.3.1",
      "distance": 1.1715223789215088,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 349,
      "end_line": 359,
      "tokens": 116,
      "context_length": 20587
    },
    {
      "position": 64,
      "id": "/tmp/repos/django/django/db/models/lookups.py_Lookup.rhs_is_direct_value_Lookup.__hash__.1.1",
      "distance": 1.178171992301941,
      "file_path": "django/db/models/lookups.py",
      "start_line": 128,
      "end_line": 164,
      "tokens": 270,
      "context_length": 20857
    },
    {
      "position": 65,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.join_Query.join.9.1",
      "distance": 1.1791398525238037,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1019,
      "end_line": 1067,
      "tokens": 438,
      "context_length": 21295,
      "file_pos": 12
    },
    {
      "position": 66,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.clear_deferred_loading_Query.add_deferred_loading.7.3.2.2.2.self.deferred_loading.1",
      "distance": 1.1805951595306396,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2307,
      "end_line": 2334,
      "tokens": 291,
      "context_length": 21586,
      "file_pos": 12
    },
    {
      "position": 67,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_related_selections.12_SQLCompiler.ordering_parts.get_related_selections.13.1",
      "distance": 1.181701421737671,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1171,
      "end_line": 1289,
      "tokens": 928,
      "context_length": 22514
    },
    {
      "position": 68,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.trim_joins_Query.trim_joins.4.1",
      "distance": 1.1822412014007568,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1872,
      "end_line": 1902,
      "tokens": 282,
      "context_length": 22796,
      "file_pos": 12
    },
    {
      "position": 69,
      "id": "/tmp/repos/django/django/db/models/__init__.py_1_",
      "distance": 1.1835455894470215,
      "file_path": "django/db/models/__init__.py",
      "start_line": 1,
      "end_line": 116,
      "tokens": 682,
      "context_length": 23478
    },
    {
      "position": 70,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_InsertQuery_",
      "distance": 1.1890854835510254,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 142,
      "end_line": 172,
      "tokens": 190,
      "context_length": 23668
    },
    {
      "position": 71,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_RelatedLookupMixin.as_sql_",
      "distance": 1.189894676208496,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 171,
      "end_line": 211,
      "tokens": 250,
      "context_length": 23918,
      "file_pos": 14
    },
    {
      "position": 72,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._merge_known_related_objects_QuerySet._check_ordering_first_last_queryset_aggregation.1.1",
      "distance": 1.1907449960708618,
      "file_path": "django/db/models/query.py",
      "start_line": 1906,
      "end_line": 1971,
      "tokens": 539,
      "context_length": 24457
    },
    {
      "position": 73,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.acontains_QuerySet.values.4.1",
      "distance": 1.191469669342041,
      "file_path": "django/db/models/query.py",
      "start_line": 1262,
      "end_line": 1309,
      "tokens": 357,
      "context_length": 24814
    },
    {
      "position": 74,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.has_results_Query.explain.5.1",
      "distance": 1.193966031074524,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 589,
      "end_line": 604,
      "tokens": 136,
      "context_length": 24950,
      "file_pos": 14
    },
    {
      "position": 75,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__setstate___QuerySet.__len__.2.1",
      "distance": 1.1944035291671753,
      "file_path": "django/db/models/query.py",
      "start_line": 350,
      "end_line": 377,
      "tokens": 221,
      "context_length": 25171
    },
    {
      "position": 76,
      "id": "/tmp/repos/django/django/db/models/fields/__init__.py_Field.get_col_Field.select_format.2.1",
      "distance": 1.1946423053741455,
      "file_path": "django/db/models/fields/__init__.py",
      "start_line": 470,
      "end_line": 491,
      "tokens": 169,
      "context_length": 25340
    },
    {
      "position": 77,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler_SQLCompiler.ordering_parts.setup_query.self.col_count.1",
      "distance": 1.1953023672103882,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 30,
      "end_line": 67,
      "tokens": 376,
      "context_length": 25716
    },
    {
      "position": 78,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.only_QuerySet.only.8.1",
      "distance": 1.1990611553192139,
      "file_path": "django/db/models/query.py",
      "start_line": 1712,
      "end_line": 1731,
      "tokens": 209,
      "context_length": 25925
    },
    {
      "position": 79,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._merge_sanity_check_QuerySet._merge_sanity_check.2.1",
      "distance": 1.1997897624969482,
      "file_path": "django/db/models/query.py",
      "start_line": 1894,
      "end_line": 1904,
      "tokens": 114,
      "context_length": 26039
    },
    {
      "position": 80,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.setup_joins_Query.setup_joins.15",
      "distance": 1.1999257802963257,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1748,
      "end_line": 1839,
      "tokens": 786,
      "context_length": 26825,
      "file_pos": 15
    },
    {
      "position": 81,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.union_QuerySet.union.2.5.1",
      "distance": 1.2008188962936401,
      "file_path": "django/db/models/query.py",
      "start_line": 1487,
      "end_line": 1496,
      "tokens": 126,
      "context_length": 26951
    },
    {
      "position": 82,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Case.as_sql_Case.get_group_by_cols.2.1",
      "distance": 1.2040629386901855,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1397,
      "end_line": 1429,
      "tokens": 302,
      "context_length": 27253
    },
    {
      "position": 83,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.combine_Query.combine.37",
      "distance": 1.2045481204986572,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 606,
      "end_line": 678,
      "tokens": 835,
      "context_length": 28088,
      "file_pos": 15
    },
    {
      "position": 84,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query._get_only_select_mask_Query._get_only_select_mask.5.1",
      "distance": 1.2054715156555176,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 758,
      "end_line": 773,
      "tokens": 146,
      "context_length": 28234,
      "file_pos": 15
    },
    {
      "position": 85,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.delete.alters_data_QuerySet._raw_delete.alters_data.1",
      "distance": 1.2080202102661133,
      "file_path": "django/db/models/query.py",
      "start_line": 1148,
      "end_line": 1170,
      "tokens": 156,
      "context_length": 28390
    },
    {
      "position": 86,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.aaggregate_QuerySet.acount.1.1",
      "distance": 1.2103395462036133,
      "file_path": "django/db/models/query.py",
      "start_line": 607,
      "end_line": 624,
      "tokens": 131,
      "context_length": 28521
    },
    {
      "position": 87,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ReverseOneToOneDescriptor.get_prefetch_queryset_ReverseOneToOneDescriptor.get_prefetch_queryset.11.1",
      "distance": 1.2112071514129639,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 427,
      "end_line": 450,
      "tokens": 194,
      "context_length": 28715
    },
    {
      "position": 88,
      "id": "/tmp/repos/django/django/db/models/query.py_RawQuerySet.prefetch_related_RawQuerySet.model_fields.5.1",
      "distance": 1.2127532958984375,
      "file_path": "django/db/models/query.py",
      "start_line": 2033,
      "end_line": 2139,
      "tokens": 725,
      "context_length": 29440
    },
    {
      "position": 89,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._combinator_query_QuerySet._combinator_query.clone.8.1",
      "distance": 1.2132917642593384,
      "file_path": "django/db/models/query.py",
      "start_line": 1474,
      "end_line": 1485,
      "tokens": 120,
      "context_length": 29560
    },
    {
      "position": 90,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.update.alters_data_QuerySet._update.8.1",
      "distance": 1.2148629426956177,
      "file_path": "django/db/models/query.py",
      "start_line": 1204,
      "end_line": 1225,
      "tokens": 188,
      "context_length": 29748
    },
    {
      "position": 91,
      "id": "/tmp/repos/django/django/contrib/admin/filters.py_RelatedFieldListFilter.choices_RelatedFieldListFilter.choices.3.1",
      "distance": 1.2179694175720215,
      "file_path": "django/contrib/admin/filters.py",
      "start_line": 227,
      "end_line": 250,
      "tokens": 202,
      "context_length": 29950
    },
    {
      "position": 92,
      "id": "/tmp/repos/django/django/db/models/aggregates.py_Aggregate.resolve_expression_Aggregate.resolve_expression.c.10.1",
      "distance": 1.218053936958313,
      "file_path": "django/db/models/aggregates.py",
      "start_line": 60,
      "end_line": 91,
      "tokens": 314,
      "context_length": 30264
    },
    {
      "position": 93,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.intersection_QuerySet.difference.2.2.1",
      "distance": 1.2186908721923828,
      "file_path": "django/db/models/query.py",
      "start_line": 1498,
      "end_line": 1511,
      "tokens": 126,
      "context_length": 30390
    },
    {
      "position": 94,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._check_bulk_create_options_QuerySet._check_bulk_create_options.4.1",
      "distance": 1.2188241481781006,
      "file_path": "django/db/models/query.py",
      "start_line": 684,
      "end_line": 743,
      "tokens": 479,
      "context_length": 30869
    },
    {
      "position": 95,
      "id": "/tmp/repos/django/django/db/models/query.py_RawQuerySet.resolve_model_init_order_RawQuerySet.resolve_model_init_order.7.1",
      "distance": 1.219421148300171,
      "file_path": "django/db/models/query.py",
      "start_line": 2016,
      "end_line": 2031,
      "tokens": 147,
      "context_length": 31016
    },
    {
      "position": 96,
      "id": "/tmp/repos/django/django/db/backends/ddl_references.py_IndexColumns_IndexColumns.__str__",
      "distance": 1.2196276187896729,
      "file_path": "django/db/backends/ddl_references.py",
      "start_line": 115,
      "end_line": 135,
      "tokens": 167,
      "context_length": 31183
    },
    {
      "position": 97,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_RelatedField._check_related_query_name_is_valid_RelatedField._check_related_query_name_is_valid.6.1",
      "distance": 1.2232530117034912,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 154,
      "end_line": 185,
      "tokens": 209,
      "context_length": 31392
    },
    {
      "position": 98,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_distinct_SQLCompiler.ordering_parts.get_distinct.6.1",
      "distance": 1.2239662408828735,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 927,
      "end_line": 951,
      "tokens": 211,
      "context_length": 31603
    },
    {
      "position": 99,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_1_DeleteQuery.delete_batch.6.1",
      "distance": 1.224858283996582,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 1,
      "end_line": 45,
      "tokens": 311,
      "context_length": 31914
    },
    {
      "position": 100,
      "id": "/tmp/repos/django/django/contrib/postgres/constraints.py_ExclusionConstraint.validate_",
      "distance": 1.2255833148956299,
      "file_path": "django/contrib/postgres/constraints.py",
      "start_line": 196,
      "end_line": 236,
      "tokens": 367,
      "context_length": 32281
    },
    {
      "position": 101,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.trim_start_Query.trim_start.31.1",
      "distance": 1.2266031503677368,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2468,
      "end_line": 2543,
      "tokens": 781,
      "context_length": 33062,
      "file_pos": 18
    },
    {
      "position": 102,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts._setup_joins_SQLCompiler.ordering_parts._setup_joins.5.1",
      "distance": 1.2266719341278076,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1016,
      "end_line": 1029,
      "tokens": 166,
      "context_length": 33228
    },
    {
      "position": 103,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts._order_by_pairs_SQLCompiler.ordering_parts._order_by_pairs.3.8.2.1.4.3",
      "distance": 1.228607177734375,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 320,
      "end_line": 422,
      "tokens": 723,
      "context_length": 33951
    },
    {
      "position": 104,
      "id": "/tmp/repos/django/django/contrib/gis/db/models/__init__.py_1_",
      "distance": 1.2297286987304688,
      "file_path": "django/contrib/gis/db/models/__init__.py",
      "start_line": 1,
      "end_line": 31,
      "tokens": 216,
      "context_length": 34167
    },
    {
      "position": 105,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.get_select_mask_Query.get_select_mask.8.1",
      "distance": 1.2297320365905762,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 775,
      "end_line": 795,
      "tokens": 201,
      "context_length": 34368,
      "file_pos": 19
    },
    {
      "position": 106,
      "id": "/tmp/repos/django/django/contrib/admin/filters.py_AllValuesFieldListFilter.choices_AllValuesFieldListFilter.choices.4.1",
      "distance": 1.2310341596603394,
      "file_path": "django/contrib/admin/filters.py",
      "start_line": 457,
      "end_line": 485,
      "tokens": 223,
      "context_length": 34591
    },
    {
      "position": 107,
      "id": "/tmp/repos/django/django/contrib/postgres/aggregates/general.py_BitAnd_JSONBAgg.deprecation_msg.1",
      "distance": 1.2318260669708252,
      "file_path": "django/contrib/postgres/aggregates/general.py",
      "start_line": 60,
      "end_line": 95,
      "tokens": 233,
      "context_length": 34824
    },
    {
      "position": 108,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query._add_q_Query._add_q.9.1",
      "distance": 1.2323007583618164,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1538,
      "end_line": 1570,
      "tokens": 262,
      "context_length": 35086,
      "file_pos": 20
    },
    {
      "position": 109,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.resolve_lookup_value_Query.resolve_lookup_value.2.1",
      "distance": 1.2334721088409424,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1181,
      "end_line": 1199,
      "tokens": 154,
      "context_length": 35240,
      "file_pos": 20
    },
    {
      "position": 110,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ForeignObject.get_attname_column_ForeignObject.get_extra_descriptor_filter.2.1",
      "distance": 1.2341222763061523,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 777,
      "end_line": 803,
      "tokens": 222,
      "context_length": 35462
    },
    {
      "position": 111,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_JoinPromoter.update_join_types_",
      "distance": 1.2356265783309937,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2612,
      "end_line": 2668,
      "tokens": 823,
      "context_length": 36285,
      "file_pos": 20
    },
    {
      "position": 112,
      "id": "/tmp/repos/django/django/contrib/admin/filters.py_EmptyFieldListFilter.queryset_",
      "distance": 1.2362830638885498,
      "file_path": "django/contrib/admin/filters.py",
      "start_line": 519,
      "end_line": 551,
      "tokens": 236,
      "context_length": 36521
    },
    {
      "position": 113,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.get_count_Query.exists.7.1",
      "distance": 1.2364165782928467,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 553,
      "end_line": 587,
      "tokens": 286,
      "context_length": 36807,
      "file_pos": 20
    },
    {
      "position": 114,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.order_by_QuerySet.reverse.5.1",
      "distance": 1.2381986379623413,
      "file_path": "django/db/models/query.py",
      "start_line": 1648,
      "end_line": 1693,
      "tokens": 340,
      "context_length": 37147
    },
    {
      "position": 115,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_RelatedField._check_clashes_RelatedField._check_clashes.potential_clashes_38.1",
      "distance": 1.2385153770446777,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 226,
      "end_line": 301,
      "tokens": 696,
      "context_length": 37843
    },
    {
      "position": 116,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.none_QuerySet._filter_or_exclude_inplace.1.2.1",
      "distance": 1.2390276193618774,
      "file_path": "django/db/models/query.py",
      "start_line": 1407,
      "end_line": 1455,
      "tokens": 371,
      "context_length": 38214
    },
    {
      "position": 117,
      "id": "/tmp/repos/django/django/db/models/fields/related_lookups.py_RelatedLookupMixin_RelatedLookupMixin.get_prep_lookup.2.1",
      "distance": 1.2393333911895752,
      "file_path": "django/db/models/fields/related_lookups.py",
      "start_line": 152,
      "end_line": 169,
      "tokens": 216,
      "context_length": 38430,
      "file_pos": 20
    },
    {
      "position": 118,
      "id": "/tmp/repos/django/django/db/models/lookups.py_FieldGetDbPrepValueIterableMixin.batch_process_rhs_FieldGetDbPrepValueIterableMixin.batch_process_rhs.8.1",
      "distance": 1.2396659851074219,
      "file_path": "django/db/models/lookups.py",
      "start_line": 296,
      "end_line": 309,
      "tokens": 157,
      "context_length": 38587
    },
    {
      "position": 119,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_relationship_model_ManyToManyField._check_relationship_model.3.3.9.3.seen_from.5.1",
      "distance": 1.239745855331421,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1450,
      "end_line": 1579,
      "tokens": 984,
      "context_length": 39571
    },
    {
      "position": 120,
      "id": "/tmp/repos/django/django/db/backends/postgresql/features.py_operator_",
      "distance": 1.2410870790481567,
      "file_path": "django/db/backends/postgresql/features.py",
      "start_line": 1,
      "end_line": 103,
      "tokens": 792,
      "context_length": 40363
    },
    {
      "position": 121,
      "id": "/tmp/repos/django/django/db/models/aggregates.py_Aggregate_Aggregate.set_source_expressions.2.1",
      "distance": 1.2415204048156738,
      "file_path": "django/db/models/aggregates.py",
      "start_line": 25,
      "end_line": 58,
      "tokens": 300,
      "context_length": 40663
    },
    {
      "position": 122,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.select_related_QuerySet.select_related.6.1",
      "distance": 1.2421331405639648,
      "file_path": "django/db/models/query.py",
      "start_line": 1529,
      "end_line": 1551,
      "tokens": 158,
      "context_length": 40821
    },
    {
      "position": 123,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.24_QuerySet._iterator.4.2",
      "distance": 1.2438559532165527,
      "file_path": "django/db/models/query.py",
      "start_line": 501,
      "end_line": 518,
      "tokens": 132,
      "context_length": 40953
    },
    {
      "position": 124,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.find_ordering_name_SQLCompiler.ordering_parts.find_ordering_name.11.1",
      "distance": 1.2439756393432617,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 953,
      "end_line": 1014,
      "tokens": 508,
      "context_length": 41461
    },
    {
      "position": 125,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.update_QuerySet.update.15.1",
      "distance": 1.2440690994262695,
      "file_path": "django/db/models/query.py",
      "start_line": 1172,
      "end_line": 1202,
      "tokens": 251,
      "context_length": 41712
    },
    {
      "position": 126,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.is_nullable_Query.is_nullable.7.1",
      "distance": 1.2441588640213013,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2545,
      "end_line": 2561,
      "tokens": 177,
      "context_length": 41889,
      "file_pos": 21
    },
    {
      "position": 127,
      "id": "/tmp/repos/django/django/db/models/lookups.py_Lookup.resolve_expression_Lookup.select_format.4.2.1",
      "distance": 1.245525598526001,
      "file_path": "django/db/models/lookups.py",
      "start_line": 166,
      "end_line": 186,
      "tokens": 200,
      "context_length": 42089
    },
    {
      "position": 128,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_related_selections_SQLCompiler.ordering_parts.get_related_selections.11.14",
      "distance": 1.2469770908355713,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1068,
      "end_line": 1169,
      "tokens": 743,
      "context_length": 42832
    },
    {
      "position": 129,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_select_for_update_of_arguments_SQLCompiler.ordering_parts.get_select_for_update_of_arguments._get_parent_klass_info.2.2",
      "distance": 1.2469902038574219,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1291,
      "end_line": 1314,
      "tokens": 207,
      "context_length": 43039
    },
    {
      "position": 130,
      "id": "/tmp/repos/django/django/forms/models.py_ModelChoiceField_ModelChoiceField.label_from_instance.2.1",
      "distance": 1.2471606731414795,
      "file_path": "django/forms/models.py",
      "start_line": 1421,
      "end_line": 1503,
      "tokens": 559,
      "context_length": 43598
    },
    {
      "position": 131,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_RelatedField._check_clashes.39_RelatedField._check_clashes.40.1",
      "distance": 1.2492210865020752,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 302,
      "end_line": 339,
      "tokens": 296,
      "context_length": 43894
    },
    {
      "position": 132,
      "id": "/tmp/repos/django/django/db/models/sql/datastructures.py_Join_Join.__init__.self.table_name.self.filtered_relation.1",
      "distance": 1.2495959997177124,
      "file_path": "django/db/models/sql/datastructures.py",
      "start_line": 25,
      "end_line": 68,
      "tokens": 365,
      "context_length": 44259
    },
    {
      "position": 133,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_UpdateQuery_UpdateQuery.update_batch.2.3",
      "distance": 1.2501275539398193,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 48,
      "end_line": 78,
      "tokens": 212,
      "context_length": 44471
    },
    {
      "position": 134,
      "id": "/tmp/repos/django/django/contrib/admin/views/main.py_ChangeList.apply_select_related_",
      "distance": 1.2516844272613525,
      "file_path": "django/contrib/admin/views/main.py",
      "start_line": 554,
      "end_line": 586,
      "tokens": 227,
      "context_length": 44698
    },
    {
      "position": 135,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_combinator_sql_SQLCompiler.ordering_parts.get_combinator_sql.15.1",
      "distance": 1.2518339157104492,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 520,
      "end_line": 592,
      "tokens": 642,
      "context_length": 45340
    },
    {
      "position": 136,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__iter___QuerySet.__bool__.2.1",
      "distance": 1.2526664733886719,
      "file_path": "django/db/models/query.py",
      "start_line": 379,
      "end_line": 409,
      "tokens": 246,
      "context_length": 45586
    },
    {
      "position": 137,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.quote_name_unless_alias_SQLCompiler.ordering_parts.compile.3.1",
      "distance": 1.254045009613037,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 490,
      "end_line": 518,
      "tokens": 242,
      "context_length": 45828
    },
    {
      "position": 138,
      "id": "/tmp/repos/django/django/db/models/fields/__init__.py_Field._check_deprecation_details_Field._check_deprecation_details.2.1",
      "distance": 1.2541190385818481,
      "file_path": "django/db/models/fields/__init__.py",
      "start_line": 443,
      "end_line": 468,
      "tokens": 198,
      "context_length": 46026
    },
    {
      "position": 139,
      "id": "/tmp/repos/django/django/db/models/expressions.py_OrderBy.as_oracle_OrderBy.desc.self.descending.1",
      "distance": 1.2542366981506348,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1605,
      "end_line": 1639,
      "tokens": 243,
      "context_length": 46269
    },
    {
      "position": 140,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.has_select_fields_Query.get_meta.2.1.1",
      "distance": 1.2549901008605957,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 266,
      "end_line": 317,
      "tokens": 356,
      "context_length": 46625,
      "file_pos": 24
    },
    {
      "position": 141,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_ForwardManyToOneDescriptor.get_prefetch_queryset_ForwardManyToOneDescriptor.get_object.3.1",
      "distance": 1.2568233013153076,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 153,
      "end_line": 197,
      "tokens": 418,
      "context_length": 47043
    },
    {
      "position": 142,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Value.as_sql_Value.get_group_by_cols.1.1",
      "distance": 1.257901668548584,
      "file_path": "django/db/models/expressions.py",
      "start_line": 996,
      "end_line": 1022,
      "tokens": 258,
      "context_length": 47301
    },
    {
      "position": 143,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.defer_QuerySet.defer.6.1",
      "distance": 1.2579553127288818,
      "file_path": "django/db/models/query.py",
      "start_line": 1695,
      "end_line": 1710,
      "tokens": 149,
      "context_length": 47450
    },
    {
      "position": 144,
      "id": "/tmp/repos/django/django/db/models/lookups.py_Exact.as_sql_Exact.as_sql.4.4.1",
      "distance": 1.2582685947418213,
      "file_path": "django/db/models/lookups.py",
      "start_line": 343,
      "end_line": 357,
      "tokens": 170,
      "context_length": 47620
    },
    {
      "position": 145,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_Q.check_Q.deconstruct.7.1",
      "distance": 1.2585086822509766,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 112,
      "end_line": 147,
      "tokens": 316,
      "context_length": 47936
    },
    {
      "position": 146,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.collapse_group_by_SQLCompiler.ordering_parts.collapse_group_by.5.4.1",
      "distance": 1.258642554283142,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 174,
      "end_line": 233,
      "tokens": 543,
      "context_length": 48479
    },
    {
      "position": 147,
      "id": "/tmp/repos/django/django/db/models/expressions.py_RawSQL_RawSQL.get_group_by_cols.1.1",
      "distance": 1.258699655532837,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1053,
      "end_line": 1067,
      "tokens": 120,
      "context_length": 48599
    },
    {
      "position": 148,
      "id": "/tmp/repos/django/django/db/models/fields/__init__.py_Field._check_db_index_Field._check_null_allowed_for_primary_keys.1.5.1.1",
      "distance": 1.260641098022461,
      "file_path": "django/db/models/fields/__init__.py",
      "start_line": 376,
      "end_line": 409,
      "tokens": 214,
      "context_length": 48813
    },
    {
      "position": 149,
      "id": "/tmp/repos/django/django/db/models/query.py_ValuesIterable_ValuesIterable.__iter__.7.1",
      "distance": 1.261641025543213,
      "file_path": "django/db/models/query.py",
      "start_line": 187,
      "end_line": 207,
      "tokens": 142,
      "context_length": 48955
    },
    {
      "position": 150,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.build_filtered_relation_q_Query.build_filtered_relation_q.7.1",
      "distance": 1.261837124824524,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1572,
      "end_line": 1599,
      "tokens": 220,
      "context_length": 49175,
      "file_pos": 24
    },
    {
      "position": 151,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_extra_select_SQLCompiler.ordering_parts.get_extra_select.3.1",
      "distance": 1.2618849277496338,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 480,
      "end_line": 488,
      "tokens": 133,
      "context_length": 49308
    },
    {
      "position": 152,
      "id": "/tmp/repos/django/django/db/models/fields/related_descriptors.py_create_reverse_many_to_one_manager.RelatedManager._apply_rel_filters_create_reverse_many_to_one_manager.RelatedManager._apply_rel_filters.10.1",
      "distance": 1.2622761726379395,
      "file_path": "django/db/models/fields/related_descriptors.py",
      "start_line": 674,
      "end_line": 712,
      "tokens": 350,
      "context_length": 49658
    },
    {
      "position": 153,
      "id": "/tmp/repos/django/django/db/models/query.py_1_REPR_OUTPUT_SIZE.1",
      "distance": 1.2647556066513062,
      "file_path": "django/db/models/query.py",
      "start_line": 1,
      "end_line": 39,
      "tokens": 274,
      "context_length": 49932
    },
    {
      "position": 154,
      "id": "/tmp/repos/django/django/db/models/expressions.py_ResolvedOuterRef_OuterRef.relabeled_clone.1.1",
      "distance": 1.265045404434204,
      "file_path": "django/db/models/expressions.py",
      "start_line": 830,
      "end_line": 871,
      "tokens": 297,
      "context_length": 50229
    },
    {
      "position": 155,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_select_for_update_of_arguments._get_field_choices_SQLCompiler.ordering_parts.get_select_for_update_of_arguments._get_field_choices.3.4",
      "distance": 1.2650643587112427,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1329,
      "end_line": 1350,
      "tokens": 199,
      "context_length": 50428
    },
    {
      "position": 156,
      "id": "/tmp/repos/django/django/contrib/admin/filters.py_FieldListFilter_FieldListFilter.queryset.1.2.3",
      "distance": 1.265432357788086,
      "file_path": "django/contrib/admin/filters.py",
      "start_line": 130,
      "end_line": 156,
      "tokens": 205,
      "context_length": 50633
    },
    {
      "position": 157,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_group_by_SQLCompiler.ordering_parts.get_group_by.46.1",
      "distance": 1.2656524181365967,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 85,
      "end_line": 172,
      "tokens": 902,
      "context_length": 51535
    },
    {
      "position": 158,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_field_name_clashes_Model._check_field_name_clashes.12.1",
      "distance": 1.2663886547088623,
      "file_path": "django/db/models/base.py",
      "start_line": 1705,
      "end_line": 1758,
      "tokens": 490,
      "context_length": 52025
    },
    {
      "position": 159,
      "id": "/tmp/repos/django/django/contrib/admin/views/main.py_ChangeList.get_queryset_ChangeList.get_queryset.2",
      "distance": 1.266627550125122,
      "file_path": "django/contrib/admin/views/main.py",
      "start_line": 495,
      "end_line": 552,
      "tokens": 465,
      "context_length": 52490
    },
    {
      "position": 160,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_column_name_clashes_Model._check_column_name_clashes.used_column_names.4.1",
      "distance": 1.2667326927185059,
      "file_path": "django/db/models/base.py",
      "start_line": 1760,
      "end_line": 1783,
      "tokens": 176,
      "context_length": 52666
    },
    {
      "position": 161,
      "id": "/tmp/repos/django/django/db/models/fields/related.py_ManyToManyField._check_ignored_options_ManyToManyField._check_ignored_options.5.1",
      "distance": 1.2669897079467773,
      "file_path": "django/db/models/fields/related.py",
      "start_line": 1418,
      "end_line": 1448,
      "tokens": 172,
      "context_length": 52838
    },
    {
      "position": 162,
      "id": "/tmp/repos/django/django/db/models/fields/__init__.py_Field.__lt___Field.__lt__.3.2.1",
      "distance": 1.268338918685913,
      "file_path": "django/db/models/fields/__init__.py",
      "start_line": 600,
      "end_line": 618,
      "tokens": 182,
      "context_length": 53020
    },
    {
      "position": 163,
      "id": "/tmp/repos/django/django/contrib/admin/filters.py_RelatedFieldListFilter_RelatedFieldListFilter.field_choices.2.1",
      "distance": 1.26975679397583,
      "file_path": "django/contrib/admin/filters.py",
      "start_line": 180,
      "end_line": 225,
      "tokens": 427,
      "context_length": 53447
    },
    {
      "position": 164,
      "id": "/tmp/repos/django/django/contrib/postgres/aggregates/general.py_ArrayAgg_ArrayAgg.output_field.1.1",
      "distance": 1.2697622776031494,
      "file_path": "django/contrib/postgres/aggregates/general.py",
      "start_line": 41,
      "end_line": 57,
      "tokens": 164,
      "context_length": 53611
    },
    {
      "position": 165,
      "id": "/tmp/repos/django/django/contrib/admin/filters.py_ChoicesFieldListFilter.choices_17",
      "distance": 1.2701668739318848,
      "file_path": "django/contrib/admin/filters.py",
      "start_line": 315,
      "end_line": 345,
      "tokens": 229,
      "context_length": 53840
    },
    {
      "position": 166,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_ordering_Model._check_ordering.29.1",
      "distance": 1.2706997394561768,
      "file_path": "django/db/models/base.py",
      "start_line": 2050,
      "end_line": 2155,
      "tokens": 736,
      "context_length": 54576
    },
    {
      "position": 167,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_index_together_Model._check_index_together.2.3.3.1",
      "distance": 1.2708353996276855,
      "file_path": "django/db/models/base.py",
      "start_line": 1845,
      "end_line": 1872,
      "tokens": 187,
      "context_length": 54763
    },
    {
      "position": 168,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.only_relation_agnostic_fields_MigrationAutodetector.only_relation_agnostic_fields.4.1",
      "distance": 1.271040439605713,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 90,
      "end_line": 102,
      "tokens": 119,
      "context_length": 54882
    },
    {
      "position": 169,
      "id": "/tmp/repos/django/django/db/backends/ddl_references.py_Expressions_",
      "distance": 1.2710411548614502,
      "file_path": "django/db/backends/ddl_references.py",
      "start_line": 223,
      "end_line": 255,
      "tokens": 252,
      "context_length": 55134
    },
    {
      "position": 170,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_indexes_Model._check_indexes.10.1",
      "distance": 1.2714831829071045,
      "file_path": "django/db/models/base.py",
      "start_line": 1904,
      "end_line": 1993,
      "tokens": 675,
      "context_length": 55809
    },
    {
      "position": 171,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_local_fields_Model._check_local_fields.8.1",
      "distance": 1.2716939449310303,
      "file_path": "django/db/models/base.py",
      "start_line": 1995,
      "end_line": 2048,
      "tokens": 355,
      "context_length": 56164
    },
    {
      "position": 172,
      "id": "/tmp/repos/django/django/db/models/query.py_NamedValuesListIterable_FlatValuesListIterable.__iter__.3.1",
      "distance": 1.2719471454620361,
      "file_path": "django/db/models/query.py",
      "start_line": 249,
      "end_line": 284,
      "tokens": 217,
      "context_length": 56381
    },
    {
      "position": 173,
      "id": "/tmp/repos/django/django/db/models/deletion.py_1_get_candidate_relations_to_delete.3.1",
      "distance": 1.2745399475097656,
      "file_path": "django/db/models/deletion.py",
      "start_line": 1,
      "end_line": 93,
      "tokens": 601,
      "context_length": 56982
    },
    {
      "position": 174,
      "id": "/tmp/repos/django/django/db/models/fields/reverse_related.py_ForeignObjectRel.is_hidden_ForeignObjectRel.set_field_name.self.field_name.1",
      "distance": 1.2758188247680664,
      "file_path": "django/db/models/fields/reverse_related.py",
      "start_line": 185,
      "end_line": 203,
      "tokens": 167,
      "context_length": 57149
    }
  ],
  "files": [
    {
      "file_path": "django/db/models/query.py",
      "position": 1,
      "tokens": 20450,
      "context_length": 20450
    },
    {
      "file_path": "django/db/models/sql/query.py",
      "position": 2,
      "tokens": 22907,
      "context_length": 43357
    },
    {
      "file_path": "django/db/models/sql/where.py",
      "position": 3,
      "tokens": 2511,
      "context_length": 45868
    },
    {
      "file_path": "django/db/models/expressions.py",
      "position": 4,
      "tokens": 13198,
      "context_length": 59066
    },
    {
      "file_path": "django/db/models/fields/related.py",
      "position": 5,
      "tokens": 14610,
      "context_length": 73676
    },
    {
      "file_path": "django/db/models/aggregates.py",
      "position": 6,
      "tokens": 1475,
      "context_length": 75151
    },
    {
      "file_path": "django/db/backends/mysql/compiler.py",
      "position": 7,
      "tokens": 636,
      "context_length": 75787
    },
    {
      "file_path": "django/db/models/query_utils.py",
      "position": 8,
      "tokens": 3167,
      "context_length": 78954
    },
    {
      "file_path": "django/db/models/fields/related_lookups.py",
      "position": 9,
      "tokens": 1610,
      "context_length": 80564
    },
    {
      "file_path": "django/db/models/sql/compiler.py",
      "position": 10,
      "tokens": 16157,
      "context_length": 96721
    },
    {
      "file_path": "django/db/models/lookups.py",
      "position": 11,
      "tokens": 5318,
      "context_length": 102039
    },
    {
      "file_path": "django/db/models/fields/related_descriptors.py",
      "position": 12,
      "tokens": 11296,
      "context_length": 113335
    },
    {
      "file_path": "django/db/models/__init__.py",
      "position": 13,
      "tokens": 682,
      "context_length": 114017
    },
    {
      "file_path": "django/db/models/sql/subqueries.py",
      "position": 14,
      "tokens": 1228,
      "context_length": 115245
    },
    {
      "file_path": "django/db/models/fields/__init__.py",
      "position": 15,
      "tokens": 18735,
      "context_length": 133980
    },
    {
      "file_path": "django/contrib/admin/filters.py",
      "position": 16,
      "tokens": 4269,
      "context_length": 138249
    },
    {
      "file_path": "django/db/backends/ddl_references.py",
      "position": 17,
      "tokens": 1629,
      "context_length": 139878
    },
    {
      "file_path": "django/contrib/postgres/constraints.py",
      "position": 18,
      "tokens": 1957,
      "context_length": 141835
    },
    {
      "file_path": "django/contrib/gis/db/models/__init__.py",
      "position": 19,
      "tokens": 216,
      "context_length": 142051
    },
    {
      "file_path": "django/contrib/postgres/aggregates/general.py",
      "position": 20,
      "tokens": 820,
      "context_length": 142871
    },
    {
      "file_path": "django/db/backends/postgresql/features.py",
      "position": 21,
      "tokens": 792,
      "context_length": 143663
    },
    {
      "file_path": "django/forms/models.py",
      "position": 22,
      "tokens": 12194,
      "context_length": 155857
    },
    {
      "file_path": "django/db/models/sql/datastructures.py",
      "position": 23,
      "tokens": 1493,
      "context_length": 157350
    },
    {
      "file_path": "django/contrib/admin/views/main.py",
      "position": 24,
      "tokens": 4531,
      "context_length": 161881
    },
    {
      "file_path": "django/db/models/base.py",
      "position": 25,
      "tokens": 18551,
      "context_length": 180432
    },
    {
      "file_path": "django/db/migrations/autodetector.py",
      "position": 26,
      "tokens": 13461,
      "context_length": 193893
    },
    {
      "file_path": "django/db/models/deletion.py",
      "position": 27,
      "tokens": 3982,
      "context_length": 197875
    },
    {
      "file_path": "django/db/models/fields/reverse_related.py",
      "position": 28,
      "tokens": 2532,
      "context_length": 200407
    }
  ]
}