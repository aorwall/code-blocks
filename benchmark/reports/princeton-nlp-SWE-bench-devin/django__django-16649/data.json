{
  "instance_id": "django__django-16649",
  "model_patch": "diff --git a/django/db/models/query.py b/django/db/models/query.py\nindex 56ad4d5c20..34240a5ad4 100644\n--- a/django/db/models/query.py\n+++ b/django/db/models/query.py\n@@ -1628,7 +1628,9 @@ class QuerySet(AltersData):\n                 )\n             )\n \n-        for alias, annotation in annotations.items():\n+        # Sort annotations by their alias before adding them to the QuerySet.\n+        sorted_annotations = sorted(annotations.items())\n+        for alias, annotation in sorted_annotations:\n             if alias in names:\n                 raise ValueError(\n                     \"The annotation '%s' conflicts with a field on \"\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "django/db/models/query.py"
  ],
  "repo": "django/django",
  "base_commit": "39d1e45227e060746ed461fddde80fa2b6cf0dcd",
  "patch": "diff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py\n--- a/django/db/models/sql/query.py\n+++ b/django/db/models/sql/query.py\n@@ -1087,7 +1087,12 @@ def add_annotation(self, annotation, alias, select=True):\n         if select:\n             self.append_annotation_mask([alias])\n         else:\n-            self.set_annotation_mask(set(self.annotation_select).difference({alias}))\n+            annotation_mask = (\n+                value\n+                for value in dict.fromkeys(self.annotation_select)\n+                if value != alias\n+            )\n+            self.set_annotation_mask(annotation_mask)\n         self.annotations[alias] = annotation\n \n     def resolve_expression(self, query, *args, **kwargs):\n@@ -2341,12 +2346,12 @@ def set_annotation_mask(self, names):\n         if names is None:\n             self.annotation_select_mask = None\n         else:\n-            self.annotation_select_mask = set(names)\n+            self.annotation_select_mask = list(dict.fromkeys(names))\n         self._annotation_select_cache = None\n \n     def append_annotation_mask(self, names):\n         if self.annotation_select_mask is not None:\n-            self.set_annotation_mask(self.annotation_select_mask.union(names))\n+            self.set_annotation_mask((*self.annotation_select_mask, *names))\n \n     def set_extra_mask(self, names):\n         \"\"\"\n@@ -2423,9 +2428,9 @@ def annotation_select(self):\n             return {}\n         elif self.annotation_select_mask is not None:\n             self._annotation_select_cache = {\n-                k: v\n-                for k, v in self.annotations.items()\n-                if k in self.annotation_select_mask\n+                k: self.annotations[k]\n+                for k in self.annotation_select_mask\n+                if k in self.annotations\n             }\n             return self._annotation_select_cache\n         else:\n",
  "test_patch": "diff --git a/tests/postgres_tests/test_array.py b/tests/postgres_tests/test_array.py\n--- a/tests/postgres_tests/test_array.py\n+++ b/tests/postgres_tests/test_array.py\n@@ -466,8 +466,8 @@ def test_group_by_order_by_select_index(self):\n                 ],\n             )\n         sql = ctx[0][\"sql\"]\n-        self.assertIn(\"GROUP BY 1\", sql)\n-        self.assertIn(\"ORDER BY 1\", sql)\n+        self.assertIn(\"GROUP BY 2\", sql)\n+        self.assertIn(\"ORDER BY 2\", sql)\n \n     def test_index(self):\n         self.assertSequenceEqual(\ndiff --git a/tests/queries/test_qs_combinators.py b/tests/queries/test_qs_combinators.py\n--- a/tests/queries/test_qs_combinators.py\n+++ b/tests/queries/test_qs_combinators.py\n@@ -246,7 +246,7 @@ def test_union_with_two_annotated_values_list(self):\n             )\n             .values_list(\"num\", \"count\")\n         )\n-        self.assertCountEqual(qs1.union(qs2), [(1, 0), (2, 1)])\n+        self.assertCountEqual(qs1.union(qs2), [(1, 0), (1, 2)])\n \n     def test_union_with_extra_and_values_list(self):\n         qs1 = (\n@@ -368,6 +368,20 @@ def test_union_multiple_models_with_values_list_and_order_by_extra_select(self):\n             [reserved_name.pk],\n         )\n \n+    def test_union_multiple_models_with_values_list_and_annotations(self):\n+        ReservedName.objects.create(name=\"rn1\", order=10)\n+        Celebrity.objects.create(name=\"c1\")\n+        qs1 = ReservedName.objects.annotate(row_type=Value(\"rn\")).values_list(\n+            \"name\", \"order\", \"row_type\"\n+        )\n+        qs2 = Celebrity.objects.annotate(\n+            row_type=Value(\"cb\"), order=Value(-10)\n+        ).values_list(\"name\", \"order\", \"row_type\")\n+        self.assertSequenceEqual(\n+            qs1.union(qs2).order_by(\"order\"),\n+            [(\"c1\", -10, \"cb\"), (\"rn1\", 10, \"rn\")],\n+        )\n+\n     def test_union_in_subquery(self):\n         ReservedName.objects.bulk_create(\n             [\n",
  "problem_statement": "Querysets: annotate() columns are forced into a certain position which may disrupt union()\nDescription\n\t\n(Reporting possible issue found by a user on #django)\nUsing values() to force selection of certain columns in a certain order proved useful unioning querysets with union() for the aforementioned user. The positioning of columns added with annotate() is not controllable with values() and has the potential to disrupt union() unless this fact is known and the ordering done in a certain way to accommodate it.\nI'm reporting this mainly for posterity but also as a highlight that perhaps this should be mentioned in the documentation. I'm sure there are reasons why the annotations are appended to the select but if someone feels that this is changeable then it would be a bonus outcome.\n",
  "hints_text": "(The ticket component should change to \"Documentation\" if there aren't any code changes to make here. I'm not sure.)\nProbably duplicate of #28900.\nI've stumbled upon a case in production where this limitation prevents me for making a useful query. I've been able to create a test to reproduce this problem. It works with sqlite but fails with postgres. Add this test to tests/queries/test_qs_combinators.py: from django.db.models import F, IntegerField, TextField, Value def test_union_with_two_annotated_values_on_different_models(self): qs1 = Number.objects.annotate( text_annotation=Value('Foo', TextField()) ).values('text_annotation', 'num') qs2 = ReservedName.objects.annotate( int_annotation=Value(1, IntegerField()), ).values('name', 'int_annotation') self.assertEqual(qs1.union(qs2).count(), 10) In current master (78f8b80f9b215e50618375adce4c97795dabbb84), running ./runtests.py --parallel=1 --settings=tests.test_postgres queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_two_annotated_values_on_different_models fails: Testing against Django installed in 'django/django' Creating test database for alias 'default'... Creating test database for alias 'other'... System check identified no issues (1 silenced). E ====================================================================== ERROR: test_union_with_two_annotated_values_on_different_models (queries.test_qs_combinators.QuerySetSetOperationTests) ---------------------------------------------------------------------- Traceback (most recent call last): File \"django/django/db/backends/utils.py\", line 85, in _execute return self.cursor.execute(sql, params) psycopg2.ProgrammingError: UNION types integer and character varying cannot be matched LINE 1: ..._annotation\" FROM \"queries_number\") UNION (SELECT \"queries_r... ^ The above exception was the direct cause of the following exception: Traceback (most recent call last): File \"django/tests/queries/test_qs_combinators.py\", line 140, in test_union_with_two_annotated_values_on_different_models self.assertEqual(qs1.union(qs2).count(), 10) File \"django/django/db/models/query.py\", line 382, in count return self.query.get_count(using=self.db) File \"django/django/db/models/sql/query.py\", line 494, in get_count number = obj.get_aggregation(using, ['__count'])['__count'] File \"django/django/db/models/sql/query.py\", line 479, in get_aggregation result = compiler.execute_sql(SINGLE) File \"django/django/db/models/sql/compiler.py\", line 1054, in execute_sql cursor.execute(sql, params) File \"django/django/db/backends/utils.py\", line 68, in execute return self._execute_with_wrappers(sql, params, many=False, executor=self._execute) File \"django/django/db/backends/utils.py\", line 77, in _execute_with_wrappers return executor(sql, params, many, context) File \"django/django/db/backends/utils.py\", line 85, in _execute return self.cursor.execute(sql, params) File \"django/django/db/utils.py\", line 89, in __exit__ raise dj_exc_value.with_traceback(traceback) from exc_value File \"django/django/db/backends/utils.py\", line 85, in _execute return self.cursor.execute(sql, params) django.db.utils.ProgrammingError: UNION types integer and character varying cannot be matched LINE 1: ..._annotation\" FROM \"queries_number\") UNION (SELECT \"queries_r... ^ ---------------------------------------------------------------------- Ran 1 test in 0.007s FAILED (errors=1) Destroying test database for alias 'default'... Destroying test database for alias 'other'... My tests/test_postgres.py is: DATABASES = { 'default': { 'ENGINE': 'django.db.backends.postgresql_psycopg2', 'NAME': 'django-test', 'HOST': '127.0.0.1', }, 'other': { 'ENGINE': 'django.db.backends.postgresql_psycopg2', 'NAME': 'django-test-other', } } SECRET_KEY = \"django_tests_secret_key\" # Use a fast hasher to speed up tests. PASSWORD_HASHERS = [ 'django.contrib.auth.hashers.MD5PasswordHasher', ]\nThere's a ticket with a test case in #30211. That ticket was reported as a bug, and I think this ticket should be a bug too, so I'm changing the classification for now (apologies if that's inappropriate). I think it's a bug because the documentation in my reading implies that as long as the columns match, union will work. So it really comes as a bit of a surprise that Django overrides the order in values_list(). In my particular case, I'm using union() to combine two different tables that I need to get out in sorted order, and I was trying to use annotate() + values_list() to add a NULL filler to one table as it lacks a column from the other. Also, I suppose the ORM could possibly also be a bit more efficient if it could return values_list() tuples directly from the select instead of having to rearrange them?\nActually there could be a different problem as well. We were lucky in that the ORM generated SQL where the data types of the columns do not match. But what happens when the data types of the columns match? I'm afraid you would get a query that doesn't throw an exception but is in fact subtly broken, especially if the values of the different columns happen to be similar, in which case it might take a long time for app developers to realize that the query is broken.\nI just hit this as well. The solution (workaround) seems to be using F() and Value() freely and consistently for all querysets even if it doesn't look necessary on the surface. See \u200bhttps://github.com/matthiask/feincms3-forms/commit/c112a7d613e991780f383393fd05f1c84c81a279 (It's a bit surprising that values_list doesn't produce a SQL query with the exact same ordering of values, but after thinking about it some more I'm not sure if that's really a bug or just a sharp edge of the current implementation.)\nI submitted a failing unit test for this issue which demonstrates the problem: \u200bhttps://github.com/django/django/pull/16577 This seems hard to fix. I don't expect to do any work on this in the next few months since I have found a workaround for my use case. Hopefully the test is useful to someone.",
  "created_at": "2023-03-13T14:06:31Z",
  "version": "5.0",
  "FAIL_TO_PASS": "[\"test_union_multiple_models_with_values_list_and_annotations (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_multiple_models_with_values_list_and_annotations)\", \"test_union_with_two_annotated_values_list (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_two_annotated_values_list)\"]",
  "PASS_TO_PASS": "[\"test_combining_multiple_models (queries.test_qs_combinators.QuerySetSetOperationTests.test_combining_multiple_models)\", \"test_count_difference (queries.test_qs_combinators.QuerySetSetOperationTests.test_count_difference)\", \"test_count_intersection (queries.test_qs_combinators.QuerySetSetOperationTests.test_count_intersection)\", \"test_count_union (queries.test_qs_combinators.QuerySetSetOperationTests.test_count_union)\", \"test_count_union_empty_result (queries.test_qs_combinators.QuerySetSetOperationTests.test_count_union_empty_result)\", \"test_count_union_with_select_related (queries.test_qs_combinators.QuerySetSetOperationTests.test_count_union_with_select_related)\", \"test_difference_with_empty_qs (queries.test_qs_combinators.QuerySetSetOperationTests.test_difference_with_empty_qs)\", \"test_difference_with_values (queries.test_qs_combinators.QuerySetSetOperationTests.test_difference_with_values)\", \"test_empty_qs_union_with_ordered_qs (queries.test_qs_combinators.QuerySetSetOperationTests.test_empty_qs_union_with_ordered_qs)\", \"test_exists_difference (queries.test_qs_combinators.QuerySetSetOperationTests.test_exists_difference)\", \"test_exists_intersection (queries.test_qs_combinators.QuerySetSetOperationTests.test_exists_intersection)\", \"test_exists_union (queries.test_qs_combinators.QuerySetSetOperationTests.test_exists_union)\", \"test_exists_union_empty_result (queries.test_qs_combinators.QuerySetSetOperationTests.test_exists_union_empty_result)\", \"test_get_difference (queries.test_qs_combinators.QuerySetSetOperationTests.test_get_difference)\", \"test_get_intersection (queries.test_qs_combinators.QuerySetSetOperationTests.test_get_intersection)\", \"test_get_union (queries.test_qs_combinators.QuerySetSetOperationTests.test_get_union)\", \"test_get_with_filters_unsupported_on_combined_qs (queries.test_qs_combinators.QuerySetSetOperationTests.test_get_with_filters_unsupported_on_combined_qs)\", \"test_intersection_with_empty_qs (queries.test_qs_combinators.QuerySetSetOperationTests.test_intersection_with_empty_qs)\", \"test_intersection_with_values (queries.test_qs_combinators.QuerySetSetOperationTests.test_intersection_with_values)\", \"test_limits (queries.test_qs_combinators.QuerySetSetOperationTests.test_limits)\", \"test_operator_on_combined_qs_error (queries.test_qs_combinators.QuerySetSetOperationTests.test_operator_on_combined_qs_error)\", \"test_order_by_same_type (queries.test_qs_combinators.QuerySetSetOperationTests.test_order_by_same_type)\", \"test_order_raises_on_non_selected_column (queries.test_qs_combinators.QuerySetSetOperationTests.test_order_raises_on_non_selected_column)\", \"test_ordering (queries.test_qs_combinators.QuerySetSetOperationTests.test_ordering)\", \"test_ordering_by_alias (queries.test_qs_combinators.QuerySetSetOperationTests.test_ordering_by_alias)\", \"test_ordering_by_f_expression (queries.test_qs_combinators.QuerySetSetOperationTests.test_ordering_by_f_expression)\", \"test_ordering_by_f_expression_and_alias (queries.test_qs_combinators.QuerySetSetOperationTests.test_ordering_by_f_expression_and_alias)\", \"test_qs_with_subcompound_qs (queries.test_qs_combinators.QuerySetSetOperationTests.test_qs_with_subcompound_qs)\", \"test_simple_difference (queries.test_qs_combinators.QuerySetSetOperationTests.test_simple_difference)\", \"test_simple_intersection (queries.test_qs_combinators.QuerySetSetOperationTests.test_simple_intersection)\", \"test_simple_union (queries.test_qs_combinators.QuerySetSetOperationTests.test_simple_union)\", \"test_union_distinct (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_distinct)\", \"test_union_empty_filter_slice (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_empty_filter_slice)\", \"test_union_in_subquery (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_in_subquery)\", \"test_union_in_subquery_related_outerref (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_in_subquery_related_outerref)\", \"test_union_multiple_models_with_values_list_and_order (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_multiple_models_with_values_list_and_order)\", \"test_union_multiple_models_with_values_list_and_order_by_extra_select (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_multiple_models_with_values_list_and_order_by_extra_select)\", \"test_union_nested (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_nested)\", \"test_union_none (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_none)\", \"test_union_none_slice (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_none_slice)\", \"test_union_order_with_null_first_last (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_order_with_null_first_last)\", \"test_union_slice_index (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_slice_index)\", \"test_union_with_empty_qs (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_empty_qs)\", \"test_union_with_extra_and_values_list (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_extra_and_values_list)\", \"test_union_with_first (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_first)\", \"test_union_with_select_related_and_order (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_select_related_and_order)\", \"test_union_with_values (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_values)\", \"test_union_with_values_list_and_order (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_values_list_and_order)\", \"test_union_with_values_list_and_order_on_annotation (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_values_list_and_order_on_annotation)\", \"test_union_with_values_list_on_annotated_and_unannotated (queries.test_qs_combinators.QuerySetSetOperationTests.test_union_with_values_list_on_annotated_and_unannotated)\", \"test_unsupported_operations_on_combined_qs (queries.test_qs_combinators.QuerySetSetOperationTests.test_unsupported_operations_on_combined_qs)\", \"test_unsupported_ordering_slicing_raises_db_error (queries.test_qs_combinators.QuerySetSetOperationTests.test_unsupported_ordering_slicing_raises_db_error)\"]",
  "environment_setup_commit": "4a72da71001f154ea60906a2f74898d32b7322a7",
  "patch_files": [
    "django/db/models/sql/query.py"
  ],
  "test_patch_files": [
    "tests/postgres_tests/test_array.py",
    "tests/queries/test_qs_combinators.py"
  ],
  "patch_diff_details": {
    "django/db/models/sql/query.py": {
      "diffs": [
        {
          "start_line_old": 1090,
          "end_line_old": 1090,
          "file_pos": 2,
          "file_context_length": 43128,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_values_Query.set_values.10",
          "closest_snippet_line_distance": 1272,
          "pos": 6,
          "context_length": 1304
        },
        {
          "start_line_old": 2344,
          "end_line_old": 2349,
          "file_pos": 2,
          "file_context_length": 43128,
          "pos": 2,
          "context_length": 514
        },
        {
          "start_line_old": 2426,
          "end_line_old": 2428,
          "file_pos": 2,
          "file_context_length": 43128,
          "closest_snippet_id": "/tmp/repos/django/django/db/models/sql/query.py_Query.resolve_ref_Query.resolve_ref.2.3.12.1",
          "closest_snippet_line_distance": 480,
          "pos": 8,
          "context_length": 1978
        }
      ]
    }
  },
  "vectors": 3757,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._annotate_QuerySet._annotate.10.1",
      "distance": 0.8120728731155396,
      "file_path": "django/db/models/query.py",
      "start_line": 1601,
      "end_line": 1653,
      "tokens": 342,
      "context_length": 342
    },
    {
      "position": 2,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_annotation_mask_Query.set_extra_mask.self._extra_select_cache.1",
      "distance": 1.0027077198028564,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2339,
      "end_line": 2360,
      "tokens": 172,
      "context_length": 514,
      "file_pos": 2
    },
    {
      "position": 3,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.annotate_QuerySet.alias.3.1",
      "distance": 1.008514165878296,
      "file_path": "django/db/models/query.py",
      "start_line": 1586,
      "end_line": 1599,
      "tokens": 119,
      "context_length": 633
    },
    {
      "position": 4,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.union_QuerySet.union.2.5.1",
      "distance": 1.024888038635254,
      "file_path": "django/db/models/query.py",
      "start_line": 1495,
      "end_line": 1504,
      "tokens": 130,
      "context_length": 763
    },
    {
      "position": 5,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_values_Query.set_values.10",
      "distance": 1.026695966720581,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2362,
      "end_line": 2412,
      "tokens": 406,
      "context_length": 1169,
      "file_pos": 2
    },
    {
      "position": 6,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.check_alias_Query.add_annotation.5",
      "distance": 1.035142183303833,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1076,
      "end_line": 1091,
      "tokens": 135,
      "context_length": 1304,
      "file_pos": 2
    },
    {
      "position": 7,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.resolve_ref_Query.resolve_ref.2.3.12.1",
      "distance": 1.0546411275863647,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1900,
      "end_line": 1948,
      "tokens": 445,
      "context_length": 1749,
      "file_pos": 2
    },
    {
      "position": 8,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.annotation_select_Query.extra_select.2.3.1.1",
      "distance": 1.0619418621063232,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2414,
      "end_line": 2446,
      "tokens": 229,
      "context_length": 1978,
      "file_pos": 2
    },
    {
      "position": 9,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.using_QuerySet.ordered.3.3.1.1",
      "distance": 1.0954396724700928,
      "file_path": "django/db/models/query.py",
      "start_line": 1740,
      "end_line": 1769,
      "tokens": 189,
      "context_length": 2167
    },
    {
      "position": 10,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__class_getitem___QuerySet.__or__.10.1",
      "distance": 1.0984833240509033,
      "file_path": "django/db/models/query.py",
      "start_line": 451,
      "end_line": 483,
      "tokens": 253,
      "context_length": 2420
    },
    {
      "position": 11,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.values_list_QuerySet.values_list.10.1",
      "distance": 1.1066524982452393,
      "file_path": "django/db/models/query.py",
      "start_line": 1324,
      "end_line": 1360,
      "tokens": 267,
      "context_length": 2687
    },
    {
      "position": 12,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.update.alters_data_QuerySet._update.8.1",
      "distance": 1.1090047359466553,
      "file_path": "django/db/models/query.py",
      "start_line": 1217,
      "end_line": 1238,
      "tokens": 192,
      "context_length": 2879
    },
    {
      "position": 13,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_SubqueryConstraint_",
      "distance": 1.1206086874008179,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 338,
      "end_line": 356,
      "tokens": 149,
      "context_length": 3028
    },
    {
      "position": 14,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._check_bulk_create_options_QuerySet._check_bulk_create_options.4.1",
      "distance": 1.1252713203430176,
      "file_path": "django/db/models/query.py",
      "start_line": 663,
      "end_line": 715,
      "tokens": 424,
      "context_length": 3452
    },
    {
      "position": 15,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._merge_sanity_check_QuerySet._merge_sanity_check.2.1",
      "distance": 1.12650728225708,
      "file_path": "django/db/models/query.py",
      "start_line": 1901,
      "end_line": 1911,
      "tokens": 118,
      "context_length": 3570
    },
    {
      "position": 16,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.get_aggregation.19_Query.get_aggregation.29.1",
      "distance": 1.1295151710510254,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 419,
      "end_line": 529,
      "tokens": 949,
      "context_length": 4519,
      "file_pos": 3
    },
    {
      "position": 17,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__xor___QuerySet.__xor__.10.1",
      "distance": 1.1321543455123901,
      "file_path": "django/db/models/query.py",
      "start_line": 485,
      "end_line": 502,
      "tokens": 150,
      "context_length": 4669
    },
    {
      "position": 18,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_fields_Query.add_fields.4.5.1.5.2",
      "distance": 1.1468403339385986,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2101,
      "end_line": 2150,
      "tokens": 369,
      "context_length": 5038,
      "file_pos": 3
    },
    {
      "position": 19,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_JoinPromoter.update_join_types_",
      "distance": 1.1513020992279053,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2592,
      "end_line": 2648,
      "tokens": 823,
      "context_length": 5861,
      "file_pos": 3
    },
    {
      "position": 20,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.setup_joins.16_Query.setup_joins.17.1",
      "distance": 1.1557645797729492,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1814,
      "end_line": 1844,
      "tokens": 244,
      "context_length": 6105,
      "file_pos": 3
    },
    {
      "position": 21,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_select_SQLCompiler.ordering_parts.get_select.16.1",
      "distance": 1.159976601600647,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 229,
      "end_line": 314,
      "tokens": 697,
      "context_length": 6802
    },
    {
      "position": 22,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._merge_known_related_objects_QuerySet._check_ordering_first_last_queryset_aggregation.1.1",
      "distance": 1.1601545810699463,
      "file_path": "django/db/models/query.py",
      "start_line": 1913,
      "end_line": 1978,
      "tokens": 543,
      "context_length": 7345
    },
    {
      "position": 23,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.change_aliases_Query.change_aliases.self.external_aliases.1",
      "distance": 1.1631420850753784,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 871,
      "end_line": 914,
      "tokens": 445,
      "context_length": 7790,
      "file_pos": 4
    },
    {
      "position": 24,
      "id": "/tmp/repos/django/django/db/models/query.py_RawQuerySet.resolve_model_init_order_RawQuerySet.resolve_model_init_order.7.1",
      "distance": 1.165544033050537,
      "file_path": "django/db/models/query.py",
      "start_line": 2023,
      "end_line": 2038,
      "tokens": 147,
      "context_length": 7937
    },
    {
      "position": 25,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_ordering_Model._check_ordering.29.1",
      "distance": 1.171419620513916,
      "file_path": "django/db/models/base.py",
      "start_line": 2080,
      "end_line": 2185,
      "tokens": 733,
      "context_length": 8670
    },
    {
      "position": 26,
      "id": "/tmp/repos/django/django/db/backends/postgresql/schema.py_DatabaseSchemaEditor.sql_update_with_default._alter_column_type_sql_DatabaseSchemaEditor.sql_update_with_default._alter_column_type_sql.old_db_params.14.5.1.1",
      "distance": 1.1767675876617432,
      "file_path": "django/db/backends/postgresql/schema.py",
      "start_line": 142,
      "end_line": 255,
      "tokens": 920,
      "context_length": 9590
    },
    {
      "position": 27,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.update_QuerySet.update.15.1",
      "distance": 1.1774380207061768,
      "file_path": "django/db/models/query.py",
      "start_line": 1178,
      "end_line": 1215,
      "tokens": 300,
      "context_length": 9890
    },
    {
      "position": 28,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.intersection_QuerySet.difference.2.2.1",
      "distance": 1.1786471605300903,
      "file_path": "django/db/models/query.py",
      "start_line": 1506,
      "end_line": 1519,
      "tokens": 130,
      "context_length": 10020
    },
    {
      "position": 29,
      "id": "/tmp/repos/django/django/db/models/sql/where.py_WhereNode.get_group_by_cols_WhereNode._resolve_leaf.2.1",
      "distance": 1.1793854236602783,
      "file_path": "django/db/models/sql/where.py",
      "start_line": 184,
      "end_line": 264,
      "tokens": 549,
      "context_length": 10569
    },
    {
      "position": 30,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_select_for_update_of_arguments.5_SQLCompiler.ordering_parts.get_select_for_update_of_arguments.10.1",
      "distance": 1.1804783344268799,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1436,
      "end_line": 1479,
      "tokens": 349,
      "context_length": 10918
    },
    {
      "position": 31,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_column_name_clashes_Model._check_column_name_clashes.used_column_names.4.1",
      "distance": 1.18376624584198,
      "file_path": "django/db/models/base.py",
      "start_line": 1790,
      "end_line": 1813,
      "tokens": 180,
      "context_length": 11098
    },
    {
      "position": 32,
      "id": "/tmp/repos/django/django/db/backends/postgresql/schema.py_DatabaseSchemaEditor.sql_update_with_default._alter_column_collation_sql_DatabaseSchemaEditor.sql_update_with_default._alter_column_collation_sql.4.1",
      "distance": 1.1851999759674072,
      "file_path": "django/db/backends/postgresql/schema.py",
      "start_line": 257,
      "end_line": 274,
      "tokens": 170,
      "context_length": 11268
    },
    {
      "position": 33,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts._order_by_pairs.5_SQLCompiler.ordering_parts._order_by_pairs.5.8.2.1.4.3",
      "distance": 1.188547134399414,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 341,
      "end_line": 444,
      "tokens": 772,
      "context_length": 12040
    },
    {
      "position": 34,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.defer_QuerySet.defer.6.1",
      "distance": 1.1935808658599854,
      "file_path": "django/db/models/query.py",
      "start_line": 1702,
      "end_line": 1717,
      "tokens": 153,
      "context_length": 12193
    },
    {
      "position": 35,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLUpdateCompiler.pre_sql_setup_SQLUpdateCompiler.pre_sql_setup.23",
      "distance": 1.1977463960647583,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1996,
      "end_line": 2057,
      "tokens": 588,
      "context_length": 12781
    },
    {
      "position": 36,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_UpdateQuery_UpdateQuery.update_batch.2.3",
      "distance": 1.1980221271514893,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 48,
      "end_line": 78,
      "tokens": 212,
      "context_length": 12993
    },
    {
      "position": 37,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.24_QuerySet._iterator.4.2",
      "distance": 1.199362874031067,
      "file_path": "django/db/models/query.py",
      "start_line": 504,
      "end_line": 521,
      "tokens": 136,
      "context_length": 13129
    },
    {
      "position": 38,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.combine.38_Query.combine.self.extra_order_by.1",
      "distance": 1.1996698379516602,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 653,
      "end_line": 693,
      "tokens": 383,
      "context_length": 13512,
      "file_pos": 7
    },
    {
      "position": 39,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.order_by_QuerySet.reverse.5.1",
      "distance": 1.2000949382781982,
      "file_path": "django/db/models/query.py",
      "start_line": 1655,
      "end_line": 1700,
      "tokens": 344,
      "context_length": 13856
    },
    {
      "position": 40,
      "id": "/tmp/repos/django/django/db/models/query_utils.py_FilteredRelation_",
      "distance": 1.200982928276062,
      "file_path": "django/db/models/query_utils.py",
      "start_line": 396,
      "end_line": 436,
      "tokens": 286,
      "context_length": 14142
    },
    {
      "position": 41,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts._setup_joins_SQLCompiler.ordering_parts._setup_joins.5.1",
      "distance": 1.2024309635162354,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1089,
      "end_line": 1102,
      "tokens": 166,
      "context_length": 14308
    },
    {
      "position": 42,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_AlterOrderWithRespectTo.database_forwards_AlterOrderWithRespectTo.database_forwards.2.3.4.3",
      "distance": 1.2025365829467773,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 674,
      "end_line": 698,
      "tokens": 231,
      "context_length": 14539
    },
    {
      "position": 43,
      "id": "/tmp/repos/django/django/db/models/sql/subqueries.py_UpdateQuery.add_related_update_UpdateQuery.get_related_updates.5.1",
      "distance": 1.2074772119522095,
      "file_path": "django/db/models/sql/subqueries.py",
      "start_line": 116,
      "end_line": 139,
      "tokens": 193,
      "context_length": 14732
    },
    {
      "position": 44,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.as_subquery_condition_SQLCompiler.ordering_parts.explain_query.6.1.2.1",
      "distance": 1.2127113342285156,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1596,
      "end_line": 1618,
      "tokens": 254,
      "context_length": 14986
    },
    {
      "position": 45,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_AlterOrderWithRespectTo_AlterOrderWithRespectTo.state_forwards.1",
      "distance": 1.2133113145828247,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 651,
      "end_line": 672,
      "tokens": 162,
      "context_length": 15148
    },
    {
      "position": 46,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._combinator_query_QuerySet._combinator_query.clone.8.1",
      "distance": 1.2141261100769043,
      "file_path": "django/db/models/query.py",
      "start_line": 1482,
      "end_line": 1493,
      "tokens": 124,
      "context_length": 15272
    },
    {
      "position": 47,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.build_filter.18_Query.build_filter.30.1",
      "distance": 1.2155156135559082,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1404,
      "end_line": 1479,
      "tokens": 765,
      "context_length": 16037,
      "file_pos": 9
    },
    {
      "position": 48,
      "id": "/tmp/repos/django/django/contrib/postgres/aggregates/general.py_json_BoolOr.output_field.1",
      "distance": 1.2158915996551514,
      "file_path": "django/contrib/postgres/aggregates/general.py",
      "start_line": 1,
      "end_line": 51,
      "tokens": 263,
      "context_length": 16300
    },
    {
      "position": 49,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.demote_joins_Query.reset_refcounts.2.2",
      "distance": 1.2160861492156982,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 843,
      "end_line": 869,
      "tokens": 280,
      "context_length": 16580,
      "file_pos": 10
    },
    {
      "position": 50,
      "id": "/tmp/repos/django/django/contrib/postgres/aggregates/general.py_JSONBAgg_",
      "distance": 1.216738224029541,
      "file_path": "django/contrib/postgres/aggregates/general.py",
      "start_line": 54,
      "end_line": 99,
      "tokens": 393,
      "context_length": 16973
    },
    {
      "position": 51,
      "id": "/tmp/repos/django/django/contrib/postgres/aggregates/mixins.py_1_",
      "distance": 1.2170279026031494,
      "file_path": "django/contrib/postgres/aggregates/mixins.py",
      "start_line": 1,
      "end_line": 30,
      "tokens": 268,
      "context_length": 17241
    },
    {
      "position": 52,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.__setstate___QuerySet.__len__.2.1",
      "distance": 1.2171788215637207,
      "file_path": "django/db/models/query.py",
      "start_line": 353,
      "end_line": 380,
      "tokens": 225,
      "context_length": 17466
    },
    {
      "position": 53,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_index_together_Model._check_index_together.2.3.3.1",
      "distance": 1.2177305221557617,
      "file_path": "django/db/models/base.py",
      "start_line": 1875,
      "end_line": 1902,
      "tokens": 191,
      "context_length": 17657
    },
    {
      "position": 54,
      "id": "/tmp/repos/django/django/db/backends/ddl_references.py_IndexColumns_IndexColumns.__str__",
      "distance": 1.2182793617248535,
      "file_path": "django/db/backends/ddl_references.py",
      "start_line": 115,
      "end_line": 135,
      "tokens": 167,
      "context_length": 17824
    },
    {
      "position": 55,
      "id": "/tmp/repos/django/django/db/backends/mysql/compiler.py_SQLUpdateCompiler_",
      "distance": 1.2193794250488281,
      "file_path": "django/db/backends/mysql/compiler.py",
      "start_line": 55,
      "end_line": 85,
      "tokens": 240,
      "context_length": 18064
    },
    {
      "position": 56,
      "id": "/tmp/repos/django/django/db/backends/postgresql/schema.py_DatabaseSchemaEditor.sql_update_with_default._alter_field_DatabaseSchemaEditor.sql_update_with_default._alter_field.5.2",
      "distance": 1.2211978435516357,
      "file_path": "django/db/backends/postgresql/schema.py",
      "start_line": 276,
      "end_line": 310,
      "tokens": 277,
      "context_length": 18341
    },
    {
      "position": 57,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.set_group_by_Query.set_group_by.self.group_by.1",
      "distance": 1.2215416431427002,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2204,
      "end_line": 2235,
      "tokens": 282,
      "context_length": 18623,
      "file_pos": 13
    },
    {
      "position": 58,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._alter_column_comment_sql_BaseDatabaseSchemaEditor._alter_many_to_many.6",
      "distance": 1.222603440284729,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 1313,
      "end_line": 1357,
      "tokens": 412,
      "context_length": 19035
    },
    {
      "position": 59,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet._fetch_all_QuerySet._next_is_sticky.3.1",
      "distance": 1.2227693796157837,
      "file_path": "django/db/models/query.py",
      "start_line": 1881,
      "end_line": 1899,
      "tokens": 190,
      "context_length": 19225
    },
    {
      "position": 60,
      "id": "/tmp/repos/django/django/db/models/aggregates.py_Aggregate.default_alias_Aggregate._get_repr_options.4.1",
      "distance": 1.2234303951263428,
      "file_path": "django/db/models/aggregates.py",
      "start_line": 97,
      "end_line": 144,
      "tokens": 372,
      "context_length": 19597
    },
    {
      "position": 61,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts._order_by_pairs_SQLCompiler.ordering_parts._order_by_pairs.4.1.3",
      "distance": 1.2250950336456299,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 316,
      "end_line": 339,
      "tokens": 223,
      "context_length": 19820
    },
    {
      "position": 62,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._field_should_be_altered_BaseDatabaseSchemaEditor._field_should_be_altered.11.1",
      "distance": 1.2262721061706543,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 1520,
      "end_line": 1535,
      "tokens": 206,
      "context_length": 20026
    },
    {
      "position": 63,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/schema.py_DatabaseSchemaEditor.alter_field_DatabaseSchemaEditor.alter_field.5.6.1",
      "distance": 1.226817011833191,
      "file_path": "django/db/backends/sqlite3/schema.py",
      "start_line": 122,
      "end_line": 173,
      "tokens": 527,
      "context_length": 20553
    },
    {
      "position": 64,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.names_to_path.3_Query.names_to_path.4.1",
      "distance": 1.2269365787506104,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1621,
      "end_line": 1719,
      "tokens": 846,
      "context_length": 21399,
      "file_pos": 16
    },
    {
      "position": 65,
      "id": "/tmp/repos/django/django/db/models/fields/__init__.py_Field.get_col_Field.select_format.2.1",
      "distance": 1.2270865440368652,
      "file_path": "django/db/models/fields/__init__.py",
      "start_line": 495,
      "end_line": 516,
      "tokens": 169,
      "context_length": 21568
    },
    {
      "position": 66,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler_SQLCompiler.ordering_parts.setup_query.self.col_count.1",
      "distance": 1.2274584770202637,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 39,
      "end_line": 76,
      "tokens": 376,
      "context_length": 21944
    },
    {
      "position": 67,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_select_for_update_of_arguments._get_first_selected_col_from_model_SQLCompiler.ordering_parts.get_select_for_update_of_arguments._get_first_selected_col_from_model.3.1.1.1",
      "distance": 1.2274895906448364,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1400,
      "end_line": 1411,
      "tokens": 145,
      "context_length": 22089
    },
    {
      "position": 68,
      "id": "/tmp/repos/django/django/db/models/expressions.py_Col_Col.get_db_converters.2.1",
      "distance": 1.2280858755111694,
      "file_path": "django/db/models/expressions.py",
      "start_line": 1113,
      "end_line": 1149,
      "tokens": 295,
      "context_length": 22384
    },
    {
      "position": 69,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_select_related_Query.add_extra.5.self.extra_order_by.1",
      "distance": 1.2345651388168335,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2237,
      "end_line": 2284,
      "tokens": 376,
      "context_length": 22760,
      "file_pos": 18
    },
    {
      "position": 70,
      "id": "/tmp/repos/django/django/db/backends/postgresql/schema.py_DatabaseSchemaEditor.sql_update_with_default._index_columns_DatabaseSchemaEditor.sql_update_with_default._delete_index_sql.2.1",
      "distance": 1.2350523471832275,
      "file_path": "django/db/backends/postgresql/schema.py",
      "start_line": 312,
      "end_line": 337,
      "tokens": 235,
      "context_length": 22995
    },
    {
      "position": 71,
      "id": "/tmp/repos/django/django/contrib/admin/options.py_BaseModelAdmin.get_field_queryset_BaseModelAdmin.get_field_queryset.4.1",
      "distance": 1.2354414463043213,
      "file_path": "django/contrib/admin/options.py",
      "start_line": 243,
      "end_line": 256,
      "tokens": 139,
      "context_length": 23134
    },
    {
      "position": 72,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.only_QuerySet.only.8.1",
      "distance": 1.2359983921051025,
      "file_path": "django/db/models/query.py",
      "start_line": 1719,
      "end_line": 1738,
      "tokens": 213,
      "context_length": 23347
    },
    {
      "position": 73,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_collections_PositionRef.as_sql.1.1",
      "distance": 1.2372857332229614,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1,
      "end_line": 36,
      "tokens": 249,
      "context_length": 23596
    },
    {
      "position": 74,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_filtered_relation_Query.add_filtered_relation.6",
      "distance": 1.2373886108398438,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1574,
      "end_line": 1603,
      "tokens": 287,
      "context_length": 23883,
      "file_pos": 19
    },
    {
      "position": 75,
      "id": "/tmp/repos/django/django/db/backends/sqlite3/schema.py_DatabaseSchemaEditor.add_constraint_",
      "distance": 1.2374142408370972,
      "file_path": "django/db/backends/sqlite3/schema.py",
      "start_line": 553,
      "end_line": 577,
      "tokens": 162,
      "context_length": 24045
    },
    {
      "position": 76,
      "id": "/tmp/repos/django/django/db/backends/ddl_references.py_Expressions_",
      "distance": 1.2382285594940186,
      "file_path": "django/db/backends/ddl_references.py",
      "start_line": 223,
      "end_line": 255,
      "tokens": 252,
      "context_length": 24297
    },
    {
      "position": 77,
      "id": "/tmp/repos/django/django/db/backends/postgresql/schema.py_DatabaseSchemaEditor.sql_update_with_default._using_sql_DatabaseSchemaEditor.sql_update_with_default._get_sequence_name.2.1",
      "distance": 1.2398662567138672,
      "file_path": "django/db/backends/postgresql/schema.py",
      "start_line": 121,
      "end_line": 140,
      "tokens": 234,
      "context_length": 24531
    },
    {
      "position": 78,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_qualify_sql.16_SQLCompiler.ordering_parts.as_sql",
      "distance": 1.2408452033996582,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 666,
      "end_line": 946,
      "tokens": 503,
      "context_length": 25034
    },
    {
      "position": 79,
      "id": "/tmp/repos/django/django/db/backends/base/schema.py_BaseDatabaseSchemaEditor._alter_field.23_BaseDatabaseSchemaEditor._alter_field.needs_database_default.1",
      "distance": 1.2424187660217285,
      "file_path": "django/db/backends/base/schema.py",
      "start_line": 948,
      "end_line": 1035,
      "tokens": 795,
      "context_length": 25829
    },
    {
      "position": 80,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_select_for_update_of_arguments_SQLCompiler.ordering_parts.get_select_for_update_of_arguments._get_parent_klass_info.2.2",
      "distance": 1.2434214353561401,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 1375,
      "end_line": 1398,
      "tokens": 207,
      "context_length": 26036
    },
    {
      "position": 81,
      "id": "/tmp/repos/django/django/contrib/admin/views/main.py_ChangeList._get_deterministic_ordering_ChangeList._get_deterministic_ordering.6.1",
      "distance": 1.2444570064544678,
      "file_path": "django/contrib/admin/views/main.py",
      "start_line": 410,
      "end_line": 473,
      "tokens": 513,
      "context_length": 26549
    },
    {
      "position": 82,
      "id": "/tmp/repos/django/django/db/models/base.py_Model._check_unique_together_Model._check_unique_together.2.3.3.1",
      "distance": 1.245059847831726,
      "file_path": "django/db/models/base.py",
      "start_line": 1904,
      "end_line": 1932,
      "tokens": 192,
      "context_length": 26741
    },
    {
      "position": 83,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.acontains_QuerySet.values.4.1",
      "distance": 1.2455389499664307,
      "file_path": "django/db/models/query.py",
      "start_line": 1275,
      "end_line": 1322,
      "tokens": 361,
      "context_length": 27102
    },
    {
      "position": 84,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_1_JoinInfo.1",
      "distance": 1.2457736730575562,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 1,
      "end_line": 79,
      "tokens": 576,
      "context_length": 27678,
      "file_pos": 20
    },
    {
      "position": 85,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_qualify_sql.collect_replacements_SQLCompiler.ordering_parts.get_qualify_sql.collect_replacements.1.2.5.5",
      "distance": 1.2476813793182373,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 647,
      "end_line": 664,
      "tokens": 170,
      "context_length": 27848
    },
    {
      "position": 86,
      "id": "/tmp/repos/django/django/contrib/gis/db/backends/postgis/schema.py_PostGISSchemaEditor._alter_column_type_sql_",
      "distance": 1.248792052268982,
      "file_path": "django/contrib/gis/db/backends/postgis/schema.py",
      "start_line": 53,
      "end_line": 82,
      "tokens": 227,
      "context_length": 28075
    },
    {
      "position": 87,
      "id": "/tmp/repos/django/django/db/models/sql/compiler.py_SQLCompiler.ordering_parts.get_order_by_SQLCompiler.ordering_parts.get_order_by.5.1",
      "distance": 1.2491679191589355,
      "file_path": "django/db/models/sql/compiler.py",
      "start_line": 446,
      "end_line": 505,
      "tokens": 561,
      "context_length": 28636
    },
    {
      "position": 88,
      "id": "/tmp/repos/django/django/db/models/query.py_QuerySet.delete.alters_data_QuerySet._raw_delete.alters_data.1",
      "distance": 1.2497985363006592,
      "file_path": "django/db/models/query.py",
      "start_line": 1154,
      "end_line": 1176,
      "tokens": 160,
      "context_length": 28796
    },
    {
      "position": 89,
      "id": "/tmp/repos/django/django/db/backends/mysql/schema.py_1_DatabaseSchemaEditor.sql_delete_check.2.1",
      "distance": 1.2504310607910156,
      "file_path": "django/db/backends/mysql/schema.py",
      "start_line": 1,
      "end_line": 44,
      "tokens": 484,
      "context_length": 29280
    },
    {
      "position": 90,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.add_ordering_Query.add_ordering.5.2.self.default_ordering.1",
      "distance": 1.2506368160247803,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2152,
      "end_line": 2186,
      "tokens": 288,
      "context_length": 29568,
      "file_pos": 22
    },
    {
      "position": 91,
      "id": "/tmp/repos/django/django/db/backends/mysql/operations.py_DatabaseOperations.on_conflict_suffix_sql_",
      "distance": 1.251993179321289,
      "file_path": "django/db/backends/mysql/operations.py",
      "start_line": 436,
      "end_line": 465,
      "tokens": 274,
      "context_length": 29842
    },
    {
      "position": 92,
      "id": "/tmp/repos/django/django/db/migrations/autodetector.py_MigrationAutodetector.generate_altered_fields_MigrationAutodetector.generate_altered_fields.2.old_model_name.15.3.3.2",
      "distance": 1.252112627029419,
      "file_path": "django/db/migrations/autodetector.py",
      "start_line": 1097,
      "end_line": 1214,
      "tokens": 982,
      "context_length": 30824
    },
    {
      "position": 93,
      "id": "/tmp/repos/django/django/db/models/aggregates.py_Aggregate.resolve_expression_Aggregate.resolve_expression.c.10.1",
      "distance": 1.2531564235687256,
      "file_path": "django/db/models/aggregates.py",
      "start_line": 60,
      "end_line": 95,
      "tokens": 353,
      "context_length": 31177
    },
    {
      "position": 94,
      "id": "/tmp/repos/django/django/db/models/sql/query.py_Query.clear_ordering_Query.clear_ordering.5.self.default_ordering.1",
      "distance": 1.2531626224517822,
      "file_path": "django/db/models/sql/query.py",
      "start_line": 2188,
      "end_line": 2202,
      "tokens": 132,
      "context_length": 31309,
      "file_pos": 24
    },
    {
      "position": 95,
      "id": "/tmp/repos/django/django/db/migrations/operations/models.py_AlterUniqueTogether_AlterIndexTogether.__init__.1",
      "distance": 1.2539119720458984,
      "file_path": "django/db/migrations/operations/models.py",
      "start_line": 627,
      "end_line": 648,
      "tokens": 148,
      "context_length": 31457
    },
    {
      "position": 96,
      "id": "/tmp/repos/django/django/contrib/admin/checks.py_BaseModelAdminChecks._check_prepopulated_fields_value_item_BaseModelAdminChecks._check_ordering.3.4.1.1",
      "distance": 1.2546401023864746,
      "file_path": "django/contrib/admin/checks.py",
      "start_line": 673,
      "end_line": 702,
      "tokens": 241,
      "context_length": 31698
    }
  ],
  "files": [
    {
      "file_path": "django/db/models/query.py",
      "position": 1,
      "tokens": 20490,
      "context_length": 20490
    },
    {
      "file_path": "django/db/models/sql/query.py",
      "position": 2,
      "tokens": 22638,
      "context_length": 43128
    },
    {
      "file_path": "django/db/models/sql/where.py",
      "position": 3,
      "tokens": 2582,
      "context_length": 45710
    },
    {
      "file_path": "django/db/models/sql/compiler.py",
      "position": 4,
      "tokens": 16743,
      "context_length": 62453
    },
    {
      "file_path": "django/db/models/base.py",
      "position": 5,
      "tokens": 18727,
      "context_length": 81180
    },
    {
      "file_path": "django/db/backends/postgresql/schema.py",
      "position": 6,
      "tokens": 2837,
      "context_length": 84017
    },
    {
      "file_path": "django/db/models/sql/subqueries.py",
      "position": 7,
      "tokens": 1228,
      "context_length": 85245
    },
    {
      "file_path": "django/db/models/query_utils.py",
      "position": 8,
      "tokens": 3212,
      "context_length": 88457
    },
    {
      "file_path": "django/db/migrations/operations/models.py",
      "position": 9,
      "tokens": 7880,
      "context_length": 96337
    },
    {
      "file_path": "django/contrib/postgres/aggregates/general.py",
      "position": 10,
      "tokens": 656,
      "context_length": 96993
    },
    {
      "file_path": "django/contrib/postgres/aggregates/mixins.py",
      "position": 11,
      "tokens": 268,
      "context_length": 97261
    },
    {
      "file_path": "django/db/backends/ddl_references.py",
      "position": 12,
      "tokens": 1629,
      "context_length": 98890
    },
    {
      "file_path": "django/db/backends/mysql/compiler.py",
      "position": 13,
      "tokens": 647,
      "context_length": 99537
    },
    {
      "file_path": "django/db/backends/base/schema.py",
      "position": 14,
      "tokens": 14582,
      "context_length": 114119
    },
    {
      "file_path": "django/db/models/aggregates.py",
      "position": 15,
      "tokens": 1530,
      "context_length": 115649
    },
    {
      "file_path": "django/db/backends/sqlite3/schema.py",
      "position": 16,
      "tokens": 4715,
      "context_length": 120364
    },
    {
      "file_path": "django/db/models/fields/__init__.py",
      "position": 17,
      "tokens": 19004,
      "context_length": 139368
    },
    {
      "file_path": "django/db/models/expressions.py",
      "position": 18,
      "tokens": 13264,
      "context_length": 152632
    },
    {
      "file_path": "django/contrib/admin/options.py",
      "position": 19,
      "tokens": 19310,
      "context_length": 171942
    },
    {
      "file_path": "django/contrib/admin/views/main.py",
      "position": 20,
      "tokens": 4758,
      "context_length": 176700
    },
    {
      "file_path": "django/contrib/gis/db/backends/postgis/schema.py",
      "position": 21,
      "tokens": 698,
      "context_length": 177398
    },
    {
      "file_path": "django/db/backends/mysql/schema.py",
      "position": 22,
      "tokens": 2191,
      "context_length": 179589
    },
    {
      "file_path": "django/db/backends/mysql/operations.py",
      "position": 23,
      "tokens": 4178,
      "context_length": 183767
    },
    {
      "file_path": "django/db/migrations/autodetector.py",
      "position": 24,
      "tokens": 13751,
      "context_length": 197518
    },
    {
      "file_path": "django/contrib/admin/checks.py",
      "position": 25,
      "tokens": 9526,
      "context_length": 207044
    }
  ]
}