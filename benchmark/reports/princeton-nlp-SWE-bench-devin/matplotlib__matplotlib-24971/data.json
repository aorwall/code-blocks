{
  "instance_id": "matplotlib__matplotlib-24971",
  "model_patch": "diff --git a/lib/matplotlib/_constrained_layout.py b/lib/matplotlib/_constrained_layout.py\nindex 9554a156f1..d2c9c421cb 100644\n--- a/lib/matplotlib/_constrained_layout.py\n+++ b/lib/matplotlib/_constrained_layout.py\n@@ -108,12 +108,22 @@ def do_constrained_layout(fig, h_pad, w_pad,\n                            ' \"figure\" keyword')\n         return\n \n+    print(\"Before layout calculations, compress:\", compress)\n+    print(\"Layoutgrids state:\", layoutgrids)\n+    # Before entering the loop, store the initial value of compress\n+    initial_compress = compress\n+\n     for _ in range(2):\n         # do the algorithm twice.  This has to be done because decorations\n         # change size after the first re-position (i.e. x/yticklabels get\n         # larger/smaller).  This second reposition tends to be much milder,\n         # so doing twice makes things work OK.\n \n+        if hspace is None:\n+            hspace = 0\n+        if wspace is None:\n+            wspace = 0\n+\n         # make margins for all the axes and subfigures in the\n         # figure.  Add margins for colorbars...\n         make_layout_margins(layoutgrids, fig, renderer, h_pad=h_pad,\n@@ -135,7 +145,8 @@ def do_constrained_layout(fig, h_pad, w_pad,\n         if check_no_collapsed_axes(layoutgrids, fig):\n             reposition_axes(layoutgrids, fig, renderer, h_pad=h_pad,\n                             w_pad=w_pad, hspace=hspace, wspace=wspace)\n-            if compress:\n+            # Use the stored initial_compress value to decide whether to call compress_fixed_aspect\n+            if initial_compress:\n                 layoutgrids = compress_fixed_aspect(layoutgrids, fig)\n                 layoutgrids[fig].update_variables()\n                 if check_no_collapsed_axes(layoutgrids, fig):\n@@ -146,6 +157,8 @@ def do_constrained_layout(fig, h_pad, w_pad,\n         else:\n             _api.warn_external(warn_collapsed)\n         reset_margins(layoutgrids, fig)\n+    print(\"After layout calculations, compress:\", compress)\n+    print(\"Layoutgrids state:\", layoutgrids)\n     return layoutgrids\n \n \n@@ -705,7 +718,7 @@ def reposition_colorbar(layoutgrids, cbax, renderer, *, offset=None):\n     # Colorbar gets put at extreme edge of outer bbox of the subplotspec\n     # It needs to be moved in by: 1) a pad 2) its \"margin\" 3) by\n     # any colorbars already added at this location:\n-    cbpad = colorbar_get_pad(layoutgrids, cbax)\n+    cbpad = colorbar_get_pad(layoutgrids, cax)\n     if location in ('left', 'right'):\n         # fraction and shrink are fractions of parent\n         pbcb = pb.shrunk(fraction, shrink).anchored(anchor, pb)\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "lib/matplotlib/_constrained_layout.py"
  ],
  "repo": "matplotlib/matplotlib",
  "base_commit": "a3011dfd1aaa2487cce8aa7369475533133ef777",
  "patch": "diff --git a/lib/matplotlib/_tight_bbox.py b/lib/matplotlib/_tight_bbox.py\n--- a/lib/matplotlib/_tight_bbox.py\n+++ b/lib/matplotlib/_tight_bbox.py\n@@ -17,8 +17,6 @@ def adjust_bbox(fig, bbox_inches, fixed_dpi=None):\n     \"\"\"\n     origBbox = fig.bbox\n     origBboxInches = fig.bbox_inches\n-    orig_layout = fig.get_layout_engine()\n-    fig.set_layout_engine(None)\n     _boxout = fig.transFigure._boxout\n \n     old_aspect = []\n@@ -46,7 +44,6 @@ def restore_bbox():\n \n         fig.bbox = origBbox\n         fig.bbox_inches = origBboxInches\n-        fig.set_layout_engine(orig_layout)\n         fig.transFigure._boxout = _boxout\n         fig.transFigure.invalidate()\n         fig.patch.set_bounds(0, 0, 1, 1)\n",
  "test_patch": "diff --git a/lib/matplotlib/tests/test_figure.py b/lib/matplotlib/tests/test_figure.py\n--- a/lib/matplotlib/tests/test_figure.py\n+++ b/lib/matplotlib/tests/test_figure.py\n@@ -532,6 +532,13 @@ def test_savefig_pixel_ratio(backend):\n     assert ratio1 == ratio2\n \n \n+def test_savefig_preserve_layout_engine(tmp_path):\n+    fig = plt.figure(layout='compressed')\n+    fig.savefig(tmp_path / 'foo.png', bbox_inches='tight')\n+\n+    assert fig.get_layout_engine()._compress\n+\n+\n def test_figure_repr():\n     fig = plt.figure(figsize=(10, 20), dpi=10)\n     assert repr(fig) == \"<Figure size 100x200 with 0 Axes>\"\n",
  "problem_statement": "[Bug]: compressed layout setting can be forgotten on second save\n### Bug summary\r\n\r\nI'm not sure whether this is really a bug or I'm just using an inconsistent combination of options.  Under some specific circumstances (see below) compressed layout is not applied the second time a figure is saved.\r\n\r\n### Code for reproduction\r\n\r\n```python\r\nimport matplotlib\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\n\r\narr = np.arange(100).reshape((10, 10))\r\n\r\nmatplotlib.rcParams['figure.constrained_layout.use'] = True\r\n\r\nfig, ax_dict = plt.subplot_mosaic('AB;AC', figsize=(6, 9), width_ratios=[3, 2],\r\n                                  layout='compressed')\r\n\r\nfor key in [\"B\", \"C\"]:\r\n    ax_dict[key].imshow(arr)\r\n    \r\nfig.savefig(\"test1.png\", bbox_inches=\"tight\")\r\nfig.savefig(\"test2.png\", bbox_inches=\"tight\")\r\n```\r\n\r\n\r\n### Actual outcome\r\n\r\ntest1.png\r\n![test1](https://user-images.githubusercontent.com/10599679/212073531-4841d847-29a5-45a4-aaa1-1d3b81277ddc.png)\r\n\r\ntest2.png\r\n![test2](https://user-images.githubusercontent.com/10599679/212073574-f6286243-690d-4199-b6f4-4033e5d14635.png)\r\n\r\n\r\n### Expected outcome\r\n\r\nBoth images should look like the first.\r\n\r\n### Additional information\r\n\r\nIf I do not set the `rcParams`, all is well.  If I do not set `bbox_inches=\"tight\"` in my calls to `savefig`, the images are identical (but I have too much white space top and bottom).  Maybe there is a better option than `bbox_inches=\"tight\"` when using compressed layout?\r\n\r\nFor context, my real example is a script that makes several figures.  For most of them I want constrained layout, so I set that once in the `rcParams` for convenience.  Only one figure needs \"compressed\", and I am saving twice because I want both a png and a pdf.  Fixed it in my current example by just reverting the `rcParams` setting for the one figure.\r\n\r\n### Operating system\r\n\r\nRHEL7\r\n\r\n### Matplotlib Version\r\n\r\n3.6.2 and main\r\n\r\n### Matplotlib Backend\r\n\r\nQtAgg\r\n\r\n### Python version\r\n\r\n3.9 and 3.11\r\n\r\n### Jupyter version\r\n\r\n_No response_\r\n\r\n### Installation\r\n\r\nconda\n",
  "hints_text": "Yeah we do some dancing around when we save with bbox inches - so this seems to get caught in that. I tried to track it down, but the figure-saving stack is full of context managers, and I can't see where the layout manager gets reset.  Hopefully someone more cognizant of that part of the codebase can explain.  \r\n\nThanks for looking @jklymak \ud83d\ude42\nI think it is set (temporarily) here;\r\nhttps://github.com/matplotlib/matplotlib/blob/018c5efbbec68f27cfea66ca2620702dd976d1b9/lib/matplotlib/backend_bases.py#L2356-L2357\nIt is, but I don't understand what `_cm_set` does to reset the layout engine after this.  Somehow it is dropping the old layout engine and making a new one, and the new one doesn't know that the old one was a 'compressed' engine.  \nIt calls `get_{kwarg}` and after running calls `set({kwarg}={old value})`. So here it calls `oldvalue = figure.get_layout_engine()` and `figure.set(layout_engine=oldvalue)`. Is `figure.set_layout_engine(figure.get_layout_engine())` working correctly?\nI am way out of my depth here but\r\n\r\n```python\r\nimport matplotlib.pyplot as plt\r\n\r\nplt.rcParams['figure.constrained_layout.use'] = True\r\nfig = plt.figure(layout=\"compressed\")\r\n\r\nprint(fig.get_layout_engine()._compress)\r\nfig.set_layout_engine(fig.get_layout_engine())\r\nprint(fig.get_layout_engine()._compress)\r\n\r\nfig.savefig('foo.png', bbox_inches='tight')\r\nprint(fig.get_layout_engine()._compress)\r\n```\r\n\r\n```\r\nTrue\r\nTrue\r\nFalse\r\n```\r\n\r\nWithout the `rcParams` line, `fig.get_layout_engine()` returns `None` after the `savefig`.\nI _think_ the problem is the call to `adjust_bbox`\r\nhttps://github.com/matplotlib/matplotlib/blob/018c5efbbec68f27cfea66ca2620702dd976d1b9/lib/matplotlib/backend_bases.py#L2349-L2350\r\n\r\nwhich explicity calls\r\nhttps://github.com/matplotlib/matplotlib/blob/a3011dfd1aaa2487cce8aa7369475533133ef777/lib/matplotlib/_tight_bbox.py#L21\r\n\r\nwhich will use the default constrained layout engine if the `rcParams` is set\r\nhttps://github.com/matplotlib/matplotlib/blob/a3011dfd1aaa2487cce8aa7369475533133ef777/lib/matplotlib/figure.py#L2599-L2610",
  "created_at": "2023-01-13T14:32:35Z",
  "version": "3.6",
  "FAIL_TO_PASS": "[\"lib/matplotlib/tests/test_figure.py::test_savefig_preserve_layout_engine\"]",
  "PASS_TO_PASS": "[\"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_all_nested[png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_basic[x0-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_basic[x1-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_basic[x2-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_basic[x3-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_empty[x0-None-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_empty[x1-SKIP-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_empty[x2-0-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_empty[x3-None-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_empty[x4-SKIP-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_empty[x5-0-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_extra_per_subplot_kw\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_fail[AAA\\\\nc\\\\nBBB-All\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_fail[x0-(?m)we\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_fail[x1-There\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_fail[x3-All\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_fail_list_of_str\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_hashable_keys[png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_nested[png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_nested_height_ratios\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_nested_tuple[png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_nested_user_order\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_nested_width_ratios\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_per_subplot_kw[BC-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_per_subplot_kw[multi_value1-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_per_subplot_kw_expander\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_share_all\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_single_str_input[AAA\\\\nBBB-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_single_str_input[ABC\\\\nDEF-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_single_str_input[\\\\nAAA\\\\nBBB\\\\n-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_string_parser\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_subplot_kw[None-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_subplot_kw[subplot_kw0-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_subplot_kw[subplot_kw1-png]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_user_order[abc]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_user_order[acb]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_user_order[bac]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_user_order[bca]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_user_order[cab]\", \"lib/matplotlib/tests/test_figure.py::TestSubplotMosaic::test_user_order[cba]\", \"lib/matplotlib/tests/test_figure.py::test_add_artist[pdf]\", \"lib/matplotlib/tests/test_figure.py::test_add_artist[png]\", \"lib/matplotlib/tests/test_figure.py::test_add_axes_kwargs\", \"lib/matplotlib/tests/test_figure.py::test_add_subplot_invalid\", \"lib/matplotlib/tests/test_figure.py::test_add_subplot_kwargs\", \"lib/matplotlib/tests/test_figure.py::test_add_subplot_subclass\", \"lib/matplotlib/tests/test_figure.py::test_add_subplot_twotuple\", \"lib/matplotlib/tests/test_figure.py::test_align_labels[png]\", \"lib/matplotlib/tests/test_figure.py::test_align_labels_stray_axes\", \"lib/matplotlib/tests/test_figure.py::test_alpha[png]\", \"lib/matplotlib/tests/test_figure.py::test_animated_with_canvas_change[eps]\", \"lib/matplotlib/tests/test_figure.py::test_animated_with_canvas_change[pdf]\", \"lib/matplotlib/tests/test_figure.py::test_animated_with_canvas_change[png]\", \"lib/matplotlib/tests/test_figure.py::test_autofmt_xdate[both]\", \"lib/matplotlib/tests/test_figure.py::test_autofmt_xdate[major]\", \"lib/matplotlib/tests/test_figure.py::test_autofmt_xdate[minor]\", \"lib/matplotlib/tests/test_figure.py::test_axes_removal\", \"lib/matplotlib/tests/test_figure.py::test_axes_remove\", \"lib/matplotlib/tests/test_figure.py::test_change_dpi\", \"lib/matplotlib/tests/test_figure.py::test_clf_keyword\", \"lib/matplotlib/tests/test_figure.py::test_clf_not_redefined\", \"lib/matplotlib/tests/test_figure.py::test_deepcopy\", \"lib/matplotlib/tests/test_figure.py::test_figaspect\", \"lib/matplotlib/tests/test_figure.py::test_fignum_exists\", \"lib/matplotlib/tests/test_figure.py::test_figure[pdf]\", \"lib/matplotlib/tests/test_figure.py::test_figure[png]\", \"lib/matplotlib/tests/test_figure.py::test_figure_clear[clear]\", \"lib/matplotlib/tests/test_figure.py::test_figure_clear[clf]\", \"lib/matplotlib/tests/test_figure.py::test_figure_label\", \"lib/matplotlib/tests/test_figure.py::test_figure_legend[pdf]\", \"lib/matplotlib/tests/test_figure.py::test_figure_legend[png]\", \"lib/matplotlib/tests/test_figure.py::test_figure_repr\", \"lib/matplotlib/tests/test_figure.py::test_fspath[eps]\", \"lib/matplotlib/tests/test_figure.py::test_fspath[pdf]\", \"lib/matplotlib/tests/test_figure.py::test_fspath[png]\", \"lib/matplotlib/tests/test_figure.py::test_fspath[ps]\", \"lib/matplotlib/tests/test_figure.py::test_fspath[svg]\", \"lib/matplotlib/tests/test_figure.py::test_gca\", \"lib/matplotlib/tests/test_figure.py::test_ginput\", \"lib/matplotlib/tests/test_figure.py::test_gridspec_no_mutate_input\", \"lib/matplotlib/tests/test_figure.py::test_invalid_figure_add_axes\", \"lib/matplotlib/tests/test_figure.py::test_invalid_figure_size[-1-1]\", \"lib/matplotlib/tests/test_figure.py::test_invalid_figure_size[1-nan]\", \"lib/matplotlib/tests/test_figure.py::test_invalid_figure_size[inf-1]\", \"lib/matplotlib/tests/test_figure.py::test_invalid_layouts\", \"lib/matplotlib/tests/test_figure.py::test_iterability_axes_argument\", \"lib/matplotlib/tests/test_figure.py::test_kwargs_pass\", \"lib/matplotlib/tests/test_figure.py::test_layout_change_warning[compressed]\", \"lib/matplotlib/tests/test_figure.py::test_layout_change_warning[constrained]\", \"lib/matplotlib/tests/test_figure.py::test_picking_does_not_stale\", \"lib/matplotlib/tests/test_figure.py::test_rcparams[png]\", \"lib/matplotlib/tests/test_figure.py::test_removed_axis\", \"lib/matplotlib/tests/test_figure.py::test_reused_gridspec\", \"lib/matplotlib/tests/test_figure.py::test_savefig\", \"lib/matplotlib/tests/test_figure.py::test_savefig_backend\", \"lib/matplotlib/tests/test_figure.py::test_savefig_pixel_ratio[Agg]\", \"lib/matplotlib/tests/test_figure.py::test_savefig_pixel_ratio[Cairo]\", \"lib/matplotlib/tests/test_figure.py::test_savefig_warns\", \"lib/matplotlib/tests/test_figure.py::test_set_fig_size\", \"lib/matplotlib/tests/test_figure.py::test_subfigure[png]\", \"lib/matplotlib/tests/test_figure.py::test_subfigure_double[png]\", \"lib/matplotlib/tests/test_figure.py::test_subfigure_dpi\", \"lib/matplotlib/tests/test_figure.py::test_subfigure_pdf\", \"lib/matplotlib/tests/test_figure.py::test_subfigure_scatter_size[png]\", \"lib/matplotlib/tests/test_figure.py::test_subfigure_spanning\", \"lib/matplotlib/tests/test_figure.py::test_subfigure_ss[png]\", \"lib/matplotlib/tests/test_figure.py::test_subfigure_ticks\", \"lib/matplotlib/tests/test_figure.py::test_subfigure_tightbbox\", \"lib/matplotlib/tests/test_figure.py::test_subplots_shareax_loglabels\", \"lib/matplotlib/tests/test_figure.py::test_suptitle[pdf]\", \"lib/matplotlib/tests/test_figure.py::test_suptitle[png]\", \"lib/matplotlib/tests/test_figure.py::test_suptitle_fontproperties\", \"lib/matplotlib/tests/test_figure.py::test_tightbbox\", \"lib/matplotlib/tests/test_figure.py::test_too_many_figures\", \"lib/matplotlib/tests/test_figure.py::test_unpickle_with_device_pixel_ratio\", \"lib/matplotlib/tests/test_figure.py::test_valid_layouts\", \"lib/matplotlib/tests/test_figure.py::test_waitforbuttonpress\"]",
  "environment_setup_commit": "73909bcb408886a22e2b84581d6b9e6d9907c813",
  "patch_files": [
    "lib/matplotlib/_tight_bbox.py"
  ],
  "test_patch_files": [
    "lib/matplotlib/tests/test_figure.py"
  ],
  "patch_diff_details": {
    "lib/matplotlib/_tight_bbox.py": {
      "diffs": [
        {
          "start_line_old": 20,
          "end_line_old": 21,
          "file_pos": 32,
          "file_context_length": 173101,
          "closest_snippet_id": "/tmp/repos/matplotlib/lib/matplotlib/_tight_bbox.py_adjust_bbox.restore_bbox_adjust_bbox.restore_bbox.7",
          "closest_snippet_line_distance": 18
        },
        {
          "start_line_old": 49,
          "end_line_old": 49,
          "file_pos": 32,
          "file_context_length": 173101,
          "pos": 73,
          "context_length": 41223
        }
      ]
    }
  },
  "vectors": 3959,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/constrainedlayout_guide.py_275_fig_346.1",
      "distance": 0.7594901323318481,
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 442,
      "end_line": 530,
      "tokens": 776,
      "context_length": 776
    },
    {
      "position": 2,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_compress_fixed_aspect_compress_fixed_aspect.10.1",
      "distance": 0.8020806312561035,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 263,
      "end_line": 297,
      "tokens": 327,
      "context_length": 1103
    },
    {
      "position": 3,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_do_constrained_layout.6_do_constrained_layout.7.1",
      "distance": 0.8100809454917908,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 111,
      "end_line": 149,
      "tokens": 471,
      "context_length": 1574
    },
    {
      "position": 4,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/constrainedlayout_guide.py_106_162",
      "distance": 0.8210267424583435,
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 187,
      "end_line": 269,
      "tokens": 813,
      "context_length": 2387
    },
    {
      "position": 5,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/constrainedlayout_guide.py_norm_105",
      "distance": 0.8408934473991394,
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 113,
      "end_line": 185,
      "tokens": 781,
      "context_length": 3168
    },
    {
      "position": 6,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/constrainedlayout_guide.py_ax1_347_440",
      "distance": 0.8480717539787292,
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 532,
      "end_line": 634,
      "tokens": 1013,
      "context_length": 4181
    },
    {
      "position": 7,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/constrainedlayout_guide.py_441_",
      "distance": 0.8561279773712158,
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 636,
      "end_line": 721,
      "tokens": 777,
      "context_length": 4958
    },
    {
      "position": 8,
      "id": "/tmp/repos/matplotlib/examples/scales/semilogx_demo.py_1_",
      "distance": 0.8622815608978271,
      "file_path": "examples/scales/semilogx_demo.py",
      "start_line": 1,
      "end_line": 24,
      "tokens": 104,
      "context_length": 5062
    },
    {
      "position": 9,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/constrainedlayout_guide.py_163_222",
      "distance": 0.8780417442321777,
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 270,
      "end_line": 352,
      "tokens": 804,
      "context_length": 5866
    },
    {
      "position": 10,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/tight_layout_guide.py_1_57",
      "distance": 0.89408278465271,
      "file_path": "tutorials/intermediate/tight_layout_guide.py",
      "start_line": 1,
      "end_line": 104,
      "tokens": 778,
      "context_length": 6644
    },
    {
      "position": 11,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/arranging_axes.py_np_65",
      "distance": 0.9006239175796509,
      "file_path": "tutorials/intermediate/arranging_axes.py",
      "start_line": 101,
      "end_line": 179,
      "tokens": 776,
      "context_length": 7420
    },
    {
      "position": 12,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/constrainedlayout_guide.py_fig_223_274.4",
      "distance": 0.9087721109390259,
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 354,
      "end_line": 441,
      "tokens": 772,
      "context_length": 8192
    },
    {
      "position": 13,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/demo_tight_layout.py_1_top.1",
      "distance": 0.9118143320083618,
      "file_path": "examples/subplots_axes_and_figures/demo_tight_layout.py",
      "start_line": 1,
      "end_line": 115,
      "tokens": 756,
      "context_length": 8948
    },
    {
      "position": 14,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/demo_constrained_layout.py_1_",
      "distance": 0.9123725295066833,
      "file_path": "examples/subplots_axes_and_figures/demo_constrained_layout.py",
      "start_line": 1,
      "end_line": 72,
      "tokens": 430,
      "context_length": 9378
    },
    {
      "position": 15,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/constrainedlayout_guide.py_1_arr.1",
      "distance": 0.9189479351043701,
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 1,
      "end_line": 112,
      "tokens": 829,
      "context_length": 10207
    },
    {
      "position": 16,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/tight_layout_guide.py_fig_146",
      "distance": 0.9305858016014099,
      "file_path": "tutorials/intermediate/tight_layout_guide.py",
      "start_line": 105,
      "end_line": 221,
      "tokens": 880,
      "context_length": 11087
    },
    {
      "position": 17,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_match_submerged_margins.4_match_submerged_margins.4.7.5.1",
      "distance": 0.9362757205963135,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 511,
      "end_line": 574,
      "tokens": 719,
      "context_length": 11806
    },
    {
      "position": 18,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/tight_layout_guide.py_lines_",
      "distance": 0.9451371431350708,
      "file_path": "tutorials/intermediate/tight_layout_guide.py",
      "start_line": 222,
      "end_line": 293,
      "tokens": 495,
      "context_length": 12301
    },
    {
      "position": 19,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_1__log.1",
      "distance": 0.9466977715492249,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 1,
      "end_line": 59,
      "tokens": 602,
      "context_length": 12903
    },
    {
      "position": 20,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_Figure.set_constrained_layout_Figure.set_constrained_layout.self.stale.1",
      "distance": 0.9667078852653503,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 2776,
      "end_line": 2803,
      "tokens": 266,
      "context_length": 13169
    },
    {
      "position": 21,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_match_submerged_margins_match_submerged_margins.axs.1",
      "distance": 0.9669735431671143,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 480,
      "end_line": 509,
      "tokens": 297,
      "context_length": 13466
    },
    {
      "position": 22,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_FigureBase.subplot_mosaic._do_layout.18_FigureBase.subplot_mosaic._do_layout.19.1",
      "distance": 0.970500111579895,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 2042,
      "end_line": 2081,
      "tokens": 401,
      "context_length": 13867
    },
    {
      "position": 23,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_Figure.set_tight_layout_Figure.get_constrained_layout.2.1",
      "distance": 0.9714962244033813,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 2742,
      "end_line": 2774,
      "tokens": 295,
      "context_length": 14162
    },
    {
      "position": 24,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_Figure.__init___Figure.__init__.self.transSubfigure.1",
      "distance": 0.9717819690704346,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 2357,
      "end_line": 2526,
      "tokens": 1513,
      "context_length": 15675
    },
    {
      "position": 25,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/mosaic.py_6_axd_72.1",
      "distance": 0.9765256643295288,
      "file_path": "examples/subplots_axes_and_figures/mosaic.py",
      "start_line": 56,
      "end_line": 167,
      "tokens": 789,
      "context_length": 16464
    },
    {
      "position": 26,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/demo_tight_layout.py_bottom_",
      "distance": 0.9768400192260742,
      "file_path": "examples/subplots_axes_and_figures/demo_tight_layout.py",
      "start_line": 116,
      "end_line": 135,
      "tokens": 123,
      "context_length": 16587
    },
    {
      "position": 27,
      "id": "/tmp/repos/matplotlib/examples/shapes_and_collections/fancybox_demo.py_36_",
      "distance": 0.9811665415763855,
      "file_path": "examples/shapes_and_collections/fancybox_demo.py",
      "start_line": 80,
      "end_line": 127,
      "tokens": 501,
      "context_length": 17088
    },
    {
      "position": 28,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/arranging_axes.py_spec_gs01.1",
      "distance": 0.9859154224395752,
      "file_path": "tutorials/intermediate/arranging_axes.py",
      "start_line": 265,
      "end_line": 344,
      "tokens": 760,
      "context_length": 17848
    },
    {
      "position": 29,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/subfigures.py_37_",
      "distance": 0.9862267971038818,
      "file_path": "examples/subplots_axes_and_figures/subfigures.py",
      "start_line": 84,
      "end_line": 149,
      "tokens": 667,
      "context_length": 18515
    },
    {
      "position": 30,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_make_layout_margins.3_make_layout_margins.4",
      "distance": 0.9892522096633911,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 357,
      "end_line": 421,
      "tokens": 780,
      "context_length": 19295
    },
    {
      "position": 31,
      "id": "/tmp/repos/matplotlib/tutorials/introductory/quick_start.py_x_265_351",
      "distance": 0.9951411485671997,
      "file_path": "tutorials/introductory/quick_start.py",
      "start_line": 291,
      "end_line": 388,
      "tokens": 986,
      "context_length": 20281
    },
    {
      "position": 32,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_reset_margins_reset_margins.4",
      "distance": 0.9967420101165771,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 752,
      "end_line": 766,
      "tokens": 140,
      "context_length": 20421
    },
    {
      "position": 33,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_make_layout_margins.5_make_layout_margins.5.2.7.2.1",
      "distance": 0.9986354112625122,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 422,
      "end_line": 438,
      "tokens": 233,
      "context_length": 20654
    },
    {
      "position": 34,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/pyplot.py_savefig_97.figlegend.__doc__.1",
      "distance": 1.002239465713501,
      "file_path": "lib/matplotlib/pyplot.py",
      "start_line": 993,
      "end_line": 1010,
      "tokens": 148,
      "context_length": 20802
    },
    {
      "position": 35,
      "id": "/tmp/repos/matplotlib/doc/conf.py_50_intersphinx_mapping.1",
      "distance": 1.005519151687622,
      "file_path": "doc/conf.py",
      "start_line": 111,
      "end_line": 158,
      "tokens": 481,
      "context_length": 21283
    },
    {
      "position": 36,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/pyplot.py_1__log.1",
      "distance": 1.010134220123291,
      "file_path": "lib/matplotlib/pyplot.py",
      "start_line": 1,
      "end_line": 90,
      "tokens": 675,
      "context_length": 21958
    },
    {
      "position": 37,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_constrained_layout.py_check_no_collapsed_axes_check_no_collapsed_axes.4.1",
      "distance": 1.010259985923767,
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "start_line": 243,
      "end_line": 260,
      "tokens": 153,
      "context_length": 22111
    },
    {
      "position": 38,
      "id": "/tmp/repos/matplotlib/examples/userdemo/connectionstyle_demo.py_4_",
      "distance": 1.0149612426757812,
      "file_path": "examples/userdemo/connectionstyle_demo.py",
      "start_line": 33,
      "end_line": 64,
      "tokens": 523,
      "context_length": 22634
    },
    {
      "position": 39,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/pyplot.py_figure.2_figure.10.1",
      "distance": 1.0150580406188965,
      "file_path": "lib/matplotlib/pyplot.py",
      "start_line": 776,
      "end_line": 842,
      "tokens": 679,
      "context_length": 23313
    },
    {
      "position": 40,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/backends/backend_cairo.py_FigureCanvasCairo._save_FigureCanvasCairo.print_svgz.1",
      "distance": 1.01625394821167,
      "file_path": "lib/matplotlib/backends/backend_cairo.py",
      "start_line": 447,
      "end_line": 501,
      "tokens": 496,
      "context_length": 23809
    },
    {
      "position": 41,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__RdBu_data__RdGy_data.1",
      "distance": 1.0198731422424316,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 713,
      "end_line": 739,
      "tokens": 719,
      "context_length": 24528
    },
    {
      "position": 42,
      "id": "/tmp/repos/matplotlib/tutorials/intermediate/arranging_axes.py_196_",
      "distance": 1.0214619636535645,
      "file_path": "tutorials/intermediate/arranging_axes.py",
      "start_line": 346,
      "end_line": 415,
      "tokens": 676,
      "context_length": 25204
    },
    {
      "position": 43,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__Set1_data__Set2_data.1",
      "distance": 1.0231183767318726,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 919,
      "end_line": 940,
      "tokens": 502,
      "context_length": 25706
    },
    {
      "position": 44,
      "id": "/tmp/repos/matplotlib/examples/lines_bars_and_markers/scatter_hist.py_10_",
      "distance": 1.0244718790054321,
      "file_path": "examples/lines_bars_and_markers/scatter_hist.py",
      "start_line": 57,
      "end_line": 123,
      "tokens": 702,
      "context_length": 26408
    },
    {
      "position": 45,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/pyplot.py_140_160",
      "distance": 1.0266104936599731,
      "file_path": "lib/matplotlib/pyplot.py",
      "start_line": 2273,
      "end_line": 2348,
      "tokens": 763,
      "context_length": 27171
    },
    {
      "position": 46,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/backends/backend_agg.py_FigureCanvasAgg_",
      "distance": 1.027227759361267,
      "file_path": "lib/matplotlib/backends/backend_agg.py",
      "start_line": 379,
      "end_line": 557,
      "tokens": 1430,
      "context_length": 28601
    },
    {
      "position": 47,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/mosaic.py_73_axd_131.1",
      "distance": 1.028577208518982,
      "file_path": "examples/subplots_axes_and_figures/mosaic.py",
      "start_line": 168,
      "end_line": 288,
      "tokens": 779,
      "context_length": 29380
    },
    {
      "position": 48,
      "id": "/tmp/repos/matplotlib/examples/images_contours_and_fields/image_antialiasing.py_41_",
      "distance": 1.028890609741211,
      "file_path": "examples/images_contours_and_fields/image_antialiasing.py",
      "start_line": 70,
      "end_line": 121,
      "tokens": 538,
      "context_length": 29918
    },
    {
      "position": 49,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/image.py_imsave.5_imsave.5.3.3.11",
      "distance": 1.0298800468444824,
      "file_path": "lib/matplotlib/image.py",
      "start_line": 1623,
      "end_line": 1687,
      "tokens": 745,
      "context_length": 30663
    },
    {
      "position": 50,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/backends/backend_gtk3.py_FigureCanvasGTK3.scroll_event_FigureCanvasGTK3.size_allocate.6",
      "distance": 1.0306980609893799,
      "file_path": "lib/matplotlib/backends/backend_gtk3.py",
      "start_line": 134,
      "end_line": 194,
      "tokens": 568,
      "context_length": 31231
    },
    {
      "position": 51,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/mosaic.py_132_",
      "distance": 1.0313124656677246,
      "file_path": "examples/subplots_axes_and_figures/mosaic.py",
      "start_line": 289,
      "end_line": 392,
      "tokens": 654,
      "context_length": 31885
    },
    {
      "position": 52,
      "id": "/tmp/repos/matplotlib/examples/misc/customize_rc.py_1_",
      "distance": 1.031449317932129,
      "file_path": "examples/misc/customize_rc.py",
      "start_line": 1,
      "end_line": 60,
      "tokens": 446,
      "context_length": 32331
    },
    {
      "position": 53,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__RdPu_data__RdYlBu_data.1",
      "distance": 1.033288836479187,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 741,
      "end_line": 765,
      "tokens": 637,
      "context_length": 32968
    },
    {
      "position": 54,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/testing/__init__.py_setup_setup.3.8",
      "distance": 1.0344655513763428,
      "file_path": "lib/matplotlib/testing/__init__.py",
      "start_line": 28,
      "end_line": 50,
      "tokens": 183,
      "context_length": 33151
    },
    {
      "position": 55,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/testing/conftest.py_mpl_test_settings_",
      "distance": 1.0354382991790771,
      "file_path": "lib/matplotlib/testing/conftest.py",
      "start_line": 36,
      "end_line": 99,
      "tokens": 431,
      "context_length": 33582
    },
    {
      "position": 56,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/subplots_demo.py_gs_128_",
      "distance": 1.0367848873138428,
      "file_path": "examples/subplots_axes_and_figures/subplots_demo.py",
      "start_line": 171,
      "end_line": 212,
      "tokens": 442,
      "context_length": 34024
    },
    {
      "position": 57,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_Figure.__init__.self.patch_Figure.pick.1.1",
      "distance": 1.0384927988052368,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 2528,
      "end_line": 2548,
      "tokens": 283,
      "context_length": 34307
    },
    {
      "position": 58,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__Set3_data_122",
      "distance": 1.0390777587890625,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 942,
      "end_line": 959,
      "tokens": 398,
      "context_length": 34705
    },
    {
      "position": 59,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/layout_engine.py_ConstrainedLayoutEngine.execute_ConstrainedLayoutEngine.execute.6.1",
      "distance": 1.0395780801773071,
      "file_path": "lib/matplotlib/layout_engine.py",
      "start_line": 237,
      "end_line": 254,
      "tokens": 149,
      "context_length": 34854
    },
    {
      "position": 60,
      "id": "/tmp/repos/matplotlib/examples/ticks/ticks_too_many.py_1_",
      "distance": 1.0401511192321777,
      "file_path": "examples/ticks/ticks_too_many.py",
      "start_line": 1,
      "end_line": 77,
      "tokens": 742,
      "context_length": 35596
    },
    {
      "position": 61,
      "id": "/tmp/repos/matplotlib/examples/misc/rasterization_demo.py_34_",
      "distance": 1.0409079790115356,
      "file_path": "examples/misc/rasterization_demo.py",
      "start_line": 75,
      "end_line": 95,
      "tokens": 166,
      "context_length": 35762
    },
    {
      "position": 62,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/pyplot.py_137_figimage.1.1",
      "distance": 1.0424989461898804,
      "file_path": "lib/matplotlib/pyplot.py",
      "start_line": 2260,
      "end_line": 2270,
      "tokens": 137,
      "context_length": 35899
    },
    {
      "position": 63,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/pyplot.py_subplot.2_subplot.26.1",
      "distance": 1.0425992012023926,
      "file_path": "lib/matplotlib/pyplot.py",
      "start_line": 1261,
      "end_line": 1325,
      "tokens": 676,
      "context_length": 36575
    },
    {
      "position": 64,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_FigureBase._norm_per_subplot_kw_FigureBase._normalize_grid_string.1.3.layout.2.1",
      "distance": 1.0428082942962646,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 1762,
      "end_line": 1789,
      "tokens": 203,
      "context_length": 36778
    },
    {
      "position": 65,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/backends/backend_gtk3agg.py_FigureCanvasGTK3Agg.blit_",
      "distance": 1.0434081554412842,
      "file_path": "lib/matplotlib/backends/backend_gtk3agg.py",
      "start_line": 50,
      "end_line": 75,
      "tokens": 246,
      "context_length": 37024
    },
    {
      "position": 66,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/subplots_demo.py_64_fig_127.1",
      "distance": 1.0434751510620117,
      "file_path": "examples/subplots_axes_and_figures/subplots_demo.py",
      "start_line": 87,
      "end_line": 170,
      "tokens": 785,
      "context_length": 37809
    },
    {
      "position": 67,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/testing/compare.py__clean_conversion_cache__clean_conversion_cache.baseline_images_size.6.4.3",
      "distance": 1.043703317642212,
      "file_path": "lib/matplotlib/testing/compare.py",
      "start_line": 319,
      "end_line": 339,
      "tokens": 237,
      "context_length": 38046
    },
    {
      "position": 68,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__RdYlGn_data__Reds_data.1",
      "distance": 1.0448205471038818,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 767,
      "end_line": 791,
      "tokens": 613,
      "context_length": 38659
    },
    {
      "position": 69,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__PuBuGn_data__PuOr_data.1",
      "distance": 1.0448522567749023,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 663,
      "end_line": 687,
      "tokens": 670,
      "context_length": 39329
    },
    {
      "position": 70,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/subfigures.py_1_36",
      "distance": 1.0464893579483032,
      "file_path": "examples/subplots_axes_and_figures/subfigures.py",
      "start_line": 1,
      "end_line": 83,
      "tokens": 756,
      "context_length": 40085
    },
    {
      "position": 71,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__tab20_data__tab20_data.1",
      "distance": 1.046712875366211,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 1293,
      "end_line": 1314,
      "tokens": 809,
      "context_length": 40894
    },
    {
      "position": 72,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_SubFigure.get_constrained_layout_SubFigure.get_constrained_layout_pads.2.1",
      "distance": 1.0474581718444824,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 2259,
      "end_line": 2281,
      "tokens": 174,
      "context_length": 41068
    },
    {
      "position": 73,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_tight_bbox.py_adjust_bbox.restore_bbox_adjust_bbox.restore_bbox.7",
      "distance": 1.0495229959487915,
      "file_path": "lib/matplotlib/_tight_bbox.py",
      "start_line": 38,
      "end_line": 52,
      "tokens": 155,
      "context_length": 41223,
      "file_pos": 32
    },
    {
      "position": 74,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__PRGn_data__PuBu_data.1",
      "distance": 1.0498614311218262,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 637,
      "end_line": 661,
      "tokens": 660,
      "context_length": 41883
    },
    {
      "position": 75,
      "id": "/tmp/repos/matplotlib/doc/conf.py_sphinx_gallery_conf_project.1",
      "distance": 1.0500013828277588,
      "file_path": "doc/conf.py",
      "start_line": 178,
      "end_line": 273,
      "tokens": 760,
      "context_length": 42643
    },
    {
      "position": 76,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/backends/_backend_tk.py_uuid_TK_PHOTO_COMPOSITE_SET.1",
      "distance": 1.051419734954834,
      "file_path": "lib/matplotlib/backends/_backend_tk.py",
      "start_line": 1,
      "end_line": 53,
      "tokens": 360,
      "context_length": 43003
    },
    {
      "position": 77,
      "id": "/tmp/repos/matplotlib/examples/subplots_axes_and_figures/axes_margins.py_1_",
      "distance": 1.0521421432495117,
      "file_path": "examples/subplots_axes_and_figures/axes_margins.py",
      "start_line": 1,
      "end_line": 88,
      "tokens": 770,
      "context_length": 43773
    },
    {
      "position": 78,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_tight_layout.py_get_tight_layout_figure.kwargs_",
      "distance": 1.0521727800369263,
      "file_path": "lib/matplotlib/_tight_layout.py",
      "start_line": 266,
      "end_line": 302,
      "tokens": 362,
      "context_length": 44135
    },
    {
      "position": 79,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/testing/compare.py__register_conversion_cache_cleaner_once_crop_to_same.3.4.1",
      "distance": 1.0528647899627686,
      "file_path": "lib/matplotlib/testing/compare.py",
      "start_line": 342,
      "end_line": 355,
      "tokens": 183,
      "context_length": 44318
    },
    {
      "position": 80,
      "id": "/tmp/repos/matplotlib/tutorials/introductory/lifecycle.py_101_",
      "distance": 1.0537302494049072,
      "file_path": "tutorials/introductory/lifecycle.py",
      "start_line": 189,
      "end_line": 279,
      "tokens": 816,
      "context_length": 45134
    },
    {
      "position": 81,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/__init__.py_70_87.1",
      "distance": 1.0539495944976807,
      "file_path": "lib/matplotlib/__init__.py",
      "start_line": 944,
      "end_line": 973,
      "tokens": 378,
      "context_length": 45512
    }
  ],
  "files": [
    {
      "file_path": "tutorials/intermediate/constrainedlayout_guide.py",
      "position": 1,
      "tokens": 6566,
      "context_length": 6566
    },
    {
      "file_path": "lib/matplotlib/_constrained_layout.py",
      "position": 2,
      "tokens": 7567,
      "context_length": 14133
    },
    {
      "file_path": "examples/scales/semilogx_demo.py",
      "position": 3,
      "tokens": 104,
      "context_length": 14237
    },
    {
      "file_path": "tutorials/intermediate/tight_layout_guide.py",
      "position": 4,
      "tokens": 2153,
      "context_length": 16390
    },
    {
      "file_path": "tutorials/intermediate/arranging_axes.py",
      "position": 5,
      "tokens": 3959,
      "context_length": 20349
    },
    {
      "file_path": "examples/subplots_axes_and_figures/demo_tight_layout.py",
      "position": 6,
      "tokens": 879,
      "context_length": 21228
    },
    {
      "file_path": "examples/subplots_axes_and_figures/demo_constrained_layout.py",
      "position": 7,
      "tokens": 430,
      "context_length": 21658
    },
    {
      "file_path": "lib/matplotlib/figure.py",
      "position": 8,
      "tokens": 29203,
      "context_length": 50861
    },
    {
      "file_path": "examples/subplots_axes_and_figures/mosaic.py",
      "position": 9,
      "tokens": 2671,
      "context_length": 53532
    },
    {
      "file_path": "examples/shapes_and_collections/fancybox_demo.py",
      "position": 10,
      "tokens": 1268,
      "context_length": 54800
    },
    {
      "file_path": "examples/subplots_axes_and_figures/subfigures.py",
      "position": 11,
      "tokens": 1423,
      "context_length": 56223
    },
    {
      "file_path": "tutorials/introductory/quick_start.py",
      "position": 12,
      "tokens": 5943,
      "context_length": 62166
    },
    {
      "file_path": "lib/matplotlib/pyplot.py",
      "position": 13,
      "tokens": 28477,
      "context_length": 90643
    },
    {
      "file_path": "doc/conf.py",
      "position": 14,
      "tokens": 5716,
      "context_length": 96359
    },
    {
      "file_path": "examples/userdemo/connectionstyle_demo.py",
      "position": 15,
      "tokens": 758,
      "context_length": 97117
    },
    {
      "file_path": "lib/matplotlib/backends/backend_cairo.py",
      "position": 16,
      "tokens": 4280,
      "context_length": 101397
    },
    {
      "file_path": "lib/matplotlib/_cm.py",
      "position": 17,
      "tokens": 28443,
      "context_length": 129840
    },
    {
      "file_path": "examples/lines_bars_and_markers/scatter_hist.py",
      "position": 18,
      "tokens": 1111,
      "context_length": 130951
    },
    {
      "file_path": "lib/matplotlib/backends/backend_agg.py",
      "position": 19,
      "tokens": 4793,
      "context_length": 135744
    },
    {
      "file_path": "examples/images_contours_and_fields/image_antialiasing.py",
      "position": 20,
      "tokens": 1298,
      "context_length": 137042
    },
    {
      "file_path": "lib/matplotlib/image.py",
      "position": 21,
      "tokens": 17149,
      "context_length": 154191
    },
    {
      "file_path": "lib/matplotlib/backends/backend_gtk3.py",
      "position": 22,
      "tokens": 4996,
      "context_length": 159187
    },
    {
      "file_path": "examples/misc/customize_rc.py",
      "position": 23,
      "tokens": 446,
      "context_length": 159633
    },
    {
      "file_path": "lib/matplotlib/testing/__init__.py",
      "position": 24,
      "tokens": 1115,
      "context_length": 160748
    },
    {
      "file_path": "lib/matplotlib/testing/conftest.py",
      "position": 25,
      "tokens": 730,
      "context_length": 161478
    },
    {
      "file_path": "examples/subplots_axes_and_figures/subplots_demo.py",
      "position": 26,
      "tokens": 1968,
      "context_length": 163446
    },
    {
      "file_path": "lib/matplotlib/layout_engine.py",
      "position": 27,
      "tokens": 2366,
      "context_length": 165812
    },
    {
      "file_path": "examples/ticks/ticks_too_many.py",
      "position": 28,
      "tokens": 742,
      "context_length": 166554
    },
    {
      "file_path": "examples/misc/rasterization_demo.py",
      "position": 29,
      "tokens": 928,
      "context_length": 167482
    },
    {
      "file_path": "lib/matplotlib/backends/backend_gtk3agg.py",
      "position": 30,
      "tokens": 596,
      "context_length": 168078
    },
    {
      "file_path": "lib/matplotlib/testing/compare.py",
      "position": 31,
      "tokens": 4319,
      "context_length": 172397
    },
    {
      "file_path": "lib/matplotlib/_tight_bbox.py",
      "position": 32,
      "tokens": 704,
      "context_length": 173101
    },
    {
      "file_path": "lib/matplotlib/backends/_backend_tk.py",
      "position": 33,
      "tokens": 9506,
      "context_length": 182607
    },
    {
      "file_path": "examples/subplots_axes_and_figures/axes_margins.py",
      "position": 34,
      "tokens": 770,
      "context_length": 183377
    },
    {
      "file_path": "lib/matplotlib/_tight_layout.py",
      "position": 35,
      "tokens": 2929,
      "context_length": 186306
    },
    {
      "file_path": "tutorials/introductory/lifecycle.py",
      "position": 36,
      "tokens": 2347,
      "context_length": 188653
    },
    {
      "file_path": "lib/matplotlib/__init__.py",
      "position": 37,
      "tokens": 12092,
      "context_length": 200745
    }
  ]
}