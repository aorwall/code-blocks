{
  "instance_id": "matplotlib__matplotlib-25281",
  "model_patch": "diff --git a/lib/matplotlib/legend.py b/lib/matplotlib/legend.py\nindex e06069a675..c396d5b669 100644\n--- a/lib/matplotlib/legend.py\n+++ b/lib/matplotlib/legend.py\n@@ -670,14 +670,23 @@ class Legend(Artist):\n         a.set_transform(self.get_transform())\n \n     def _set_loc(self, loc):\n-        # find_offset function will be provided to _legend_box and\n-        # _legend_box will draw itself at the location of the return\n-        # value of the find_offset.\n+        # Validation for 'loc' inputs\n+        print(f\"DEBUG: loc value passed: {loc}\")\n+        print(f\"DEBUG: valid loc codes: {self._get_loc_codes()}\")\n+        if isinstance(loc, str):\n+            if loc not in self._get_loc_codes():  # Use a method to get valid codes\n+                raise ValueError(f\"'{loc}' is not a valid string for 'loc'.\")\n+        elif not (isinstance(loc, tuple) and len(loc) == 2 and all(isinstance(item, float) for item in loc)):\n+            raise ValueError(\"The 'loc' argument must be a string or a tuple of two floats\")\n+        # Existing code to set the location\n         self._loc_used_default = False\n         self._loc_real = loc\n         self.stale = True\n         self._legend_box.set_offset(self._findoffset)\n \n+    def _get_loc_codes(self):\n+        return self.codes\n+\n     def set_ncols(self, ncols):\n         \"\"\"Set the number of columns.\"\"\"\n         self._ncols = ncols\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "lib/matplotlib/legend.py"
  ],
  "repo": "matplotlib/matplotlib",
  "base_commit": "5aee26d0a52c237c5b4fafcb843e392907ab45b3",
  "patch": "diff --git a/lib/matplotlib/legend.py b/lib/matplotlib/legend.py\n--- a/lib/matplotlib/legend.py\n+++ b/lib/matplotlib/legend.py\n@@ -23,6 +23,7 @@\n \n import itertools\n import logging\n+import numbers\n import time\n \n import numpy as np\n@@ -517,6 +518,9 @@ def val_or_rc(val, rc_name):\n             if not self.isaxes and loc in [0, 'best']:\n                 loc = 'upper right'\n \n+        type_err_message = (\"loc must be string, coordinate tuple, or\"\n+                            f\" an integer 0-10, not {loc!r}\")\n+\n         # handle outside legends:\n         self._outside_loc = None\n         if isinstance(loc, str):\n@@ -535,6 +539,19 @@ def val_or_rc(val, rc_name):\n                     loc = locs[0] + ' ' + locs[1]\n             # check that loc is in acceptable strings\n             loc = _api.check_getitem(self.codes, loc=loc)\n+        elif np.iterable(loc):\n+            # coerce iterable into tuple\n+            loc = tuple(loc)\n+            # validate the tuple represents Real coordinates\n+            if len(loc) != 2 or not all(isinstance(e, numbers.Real) for e in loc):\n+                raise ValueError(type_err_message)\n+        elif isinstance(loc, int):\n+            # validate the integer represents a string numeric value\n+            if loc < 0 or loc > 10:\n+                raise ValueError(type_err_message)\n+        else:\n+            # all other cases are invalid values of loc\n+            raise ValueError(type_err_message)\n \n         if self.isaxes and self._outside_loc:\n             raise ValueError(\n",
  "test_patch": "diff --git a/lib/matplotlib/tests/test_legend.py b/lib/matplotlib/tests/test_legend.py\n--- a/lib/matplotlib/tests/test_legend.py\n+++ b/lib/matplotlib/tests/test_legend.py\n@@ -1219,3 +1219,79 @@ def test_ncol_ncols(fig_test, fig_ref):\n     ncols = 3\n     fig_test.legend(strings, ncol=ncols)\n     fig_ref.legend(strings, ncols=ncols)\n+\n+\n+def test_loc_invalid_tuple_exception():\n+    # check that exception is raised if the loc arg\n+    # of legend is not a 2-tuple of numbers\n+    fig, ax = plt.subplots()\n+    with pytest.raises(ValueError, match=('loc must be string, coordinate '\n+                       'tuple, or an integer 0-10, not \\\\(1.1,\\\\)')):\n+        ax.legend(loc=(1.1, ))\n+\n+    with pytest.raises(ValueError, match=('loc must be string, coordinate '\n+                       'tuple, or an integer 0-10, not \\\\(0.481, 0.4227, 0.4523\\\\)')):\n+        ax.legend(loc=(0.481, 0.4227, 0.4523))\n+\n+    with pytest.raises(ValueError, match=('loc must be string, coordinate '\n+                       'tuple, or an integer 0-10, not \\\\(0.481, \\'go blue\\'\\\\)')):\n+        ax.legend(loc=(0.481, \"go blue\"))\n+\n+\n+def test_loc_valid_tuple():\n+    fig, ax = plt.subplots()\n+    ax.legend(loc=(0.481, 0.442))\n+    ax.legend(loc=(1, 2))\n+\n+\n+def test_loc_valid_list():\n+    fig, ax = plt.subplots()\n+    ax.legend(loc=[0.481, 0.442])\n+    ax.legend(loc=[1, 2])\n+\n+\n+def test_loc_invalid_list_exception():\n+    fig, ax = plt.subplots()\n+    with pytest.raises(ValueError, match=('loc must be string, coordinate '\n+                       'tuple, or an integer 0-10, not \\\\[1.1, 2.2, 3.3\\\\]')):\n+        ax.legend(loc=[1.1, 2.2, 3.3])\n+\n+\n+def test_loc_invalid_type():\n+    fig, ax = plt.subplots()\n+    with pytest.raises(ValueError, match=(\"loc must be string, coordinate \"\n+                       \"tuple, or an integer 0-10, not {'not': True}\")):\n+        ax.legend(loc={'not': True})\n+\n+\n+def test_loc_validation_numeric_value():\n+    fig, ax = plt.subplots()\n+    ax.legend(loc=0)\n+    ax.legend(loc=1)\n+    ax.legend(loc=5)\n+    ax.legend(loc=10)\n+    with pytest.raises(ValueError, match=('loc must be string, coordinate '\n+                       'tuple, or an integer 0-10, not 11')):\n+        ax.legend(loc=11)\n+\n+    with pytest.raises(ValueError, match=('loc must be string, coordinate '\n+                       'tuple, or an integer 0-10, not -1')):\n+        ax.legend(loc=-1)\n+\n+\n+def test_loc_validation_string_value():\n+    fig, ax = plt.subplots()\n+    ax.legend(loc='best')\n+    ax.legend(loc='upper right')\n+    ax.legend(loc='best')\n+    ax.legend(loc='upper right')\n+    ax.legend(loc='upper left')\n+    ax.legend(loc='lower left')\n+    ax.legend(loc='lower right')\n+    ax.legend(loc='right')\n+    ax.legend(loc='center left')\n+    ax.legend(loc='center right')\n+    ax.legend(loc='lower center')\n+    ax.legend(loc='upper center')\n+    with pytest.raises(ValueError, match=\"'wrong' is not a valid value for\"):\n+        ax.legend(loc='wrong')\n",
  "problem_statement": "[Bug]: Validation not performed for `loc` argument to `legend`\n### Bug summary\n\nWhen passing non-str `loc` values to `legend`, validation is not performed. So even for invalid inputs, errors are raised only when we call `show()`\n\n### Code for reproduction\n\n```python\n>>> import matplotlib.pyplot as plt\r\n>>> import matplotlib as mpl\r\n>>> xs, ys = [1,2,3], [2,3,1]\r\n>>> fig, ax = plt.subplots(3)\r\n>>> ax[0].scatter(xs, ys, label='loc-tuple-arg')\r\n<matplotlib.collections.PathCollection object at 0x0000019D4099ED60>\r\n>>> ax[0].legend(loc=(1.1, .5, 1.1, \"abc\"))\r\n<matplotlib.legend.Legend object at 0x0000019D4099EF10>\r\n>>> plt.show()\n```\n\n\n### Actual outcome\n\n```\r\nException in Tkinter callback\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\tkinter\\__init__.py\", line 1892, in __call__\r\n    return self.func(*args)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\tkinter\\__init__.py\", line 814, in callit\r\n    func(*args)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\backends\\_backend_tk.py\", line 251, in idle_draw\r\n    self.draw()\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\backends\\backend_tkagg.py\", line 10, in draw\r\n    super().draw()\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\backends\\backend_agg.py\", line 405, in draw\r\n    self.figure.draw(self.renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\artist.py\", line 74, in draw_wrapper\r\n    result = draw(artist, renderer, *args, **kwargs)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\figure.py\", line 3071, in draw\r\n    mimage._draw_list_compositing_images(\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\image.py\", line 131, in _draw_list_compositing_images\r\n    a.draw(renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\axes\\_base.py\", line 3107, in draw\r\n    mimage._draw_list_compositing_images(\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\image.py\", line 131, in _draw_list_compositing_images\r\n    a.draw(renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\legend.py\", line 641, in draw\r\n    bbox = self._legend_box.get_window_extent(renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\offsetbox.py\", line 354, in get_window_extent\r\n    px, py = self.get_offset(w, h, xd, yd, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\offsetbox.py\", line 291, in get_offset\r\n    return (self._offset(width, height, xdescent, ydescent, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\legend.py\", line 617, in _findoffset\r\n    fx, fy = self._loc\r\nValueError: too many values to unpack (expected 2)\r\nException in Tkinter callback\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\tkinter\\__init__.py\", line 1892, in __call__\r\n    return self.func(*args)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\tkinter\\__init__.py\", line 814, in callit\r\n    func(*args)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\backends\\_backend_tk.py\", line 251, in idle_draw\r\n    self.draw()\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\backends\\backend_tkagg.py\", line 10, in draw\r\n    super().draw()\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\backends\\backend_agg.py\", line 405, in draw\r\n    self.figure.draw(self.renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\artist.py\", line 74, in draw_wrapper\r\n    result = draw(artist, renderer, *args, **kwargs)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\figure.py\", line 3071, in draw\r\n    mimage._draw_list_compositing_images(\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\image.py\", line 131, in _draw_list_compositing_images\r\n    a.draw(renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\axes\\_base.py\", line 3107, in draw\r\n    mimage._draw_list_compositing_images(\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\image.py\", line 131, in _draw_list_compositing_images\r\n    a.draw(renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\legend.py\", line 641, in draw\r\n    bbox = self._legend_box.get_window_extent(renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\offsetbox.py\", line 354, in get_window_extent\r\n    px, py = self.get_offset(w, h, xd, yd, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\offsetbox.py\", line 291, in get_offset\r\n    return (self._offset(width, height, xdescent, ydescent, renderer)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\legend.py\", line 617, in _findoffset\r\n    fx, fy = self._loc\r\nValueError: too many values to unpack (expected 2)\r\n```\n\n### Expected outcome\n\nErrors should be raised when invalid arguments are passed to `loc`. Similar to what we get when we pass an invalid string value as shown:\r\n```\r\n>>> ax[0].legend(loc=\"abcd\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\axes\\_axes.py\", line 307, in legend\r\n    self.legend_ = mlegend.Legend(self, handles, labels, **kwargs)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\_api\\deprecation.py\", line 454, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\legend.py\", line 470, in __init__\r\n    loc = _api.check_getitem(self.codes, loc=loc)\r\n  File \"C:\\Users\\Me\\anaconda3\\envs\\MPL\\lib\\site-packages\\matplotlib\\_api\\__init__.py\", line 190, in check_getitem\r\n    raise ValueError(\r\nValueError: 'abcd' is not a valid value for loc; supported values are 'best', 'upper right', 'upper left', 'lower left', 'lower right', 'right', 'center left', 'center right', 'lower center', 'upper center', 'center'\r\n```\n\n### Additional information\n\n- Do you know why this bug is happening?\r\nhttps://github.com/matplotlib/matplotlib/blob/ab7917a89dc56165d695fa4b90200f2cacafcd59/lib/matplotlib/legend.py#L608-L615\r\n\r\nNo validation is done when setting values for `_loc_real`. We do check strings on line 473, which is why we don't face this issue there.\n\n### Operating system\n\nWindows\n\n### Matplotlib Version\n\n3.6.2\n\n### Matplotlib Backend\n\n'TkAgg'\n\n### Python version\n\n3.9.7\n\n### Jupyter version\n\n_No response_\n\n### Installation\n\npip\n",
  "hints_text": "The work here is to :\r\n\r\n - sort out what the validation _should be_ (read the code where the above traceback starts)\r\n - add logic to `Legend.__init__` to validate loc\r\n - add tests\r\n - update docstring to legend (in both `Legend` and `Axes.legend`)\r\n\r\nThis is a good first issue because it should only require understanding a narrow section of the code and no API design (it is already broken for these inputs, we just want it to break _better_).\nHi. can i try this?\n@sod-lol Please do!  We do not really assign issues or require you to get permission before you start working on an issue.\n@tacaswell hello sir can you give me some resources to work on this issue\n@tacaswell i want to work on this,please assign this issue to me\n@Gairick52 there is already a PR for this....\n@iofall  Hello sir,i want to work on this issue,please assign this to me\n> @iofall Hello sir,i want to work on this issue,please assign this to me\r\n\r\nOnly maintainers can assign people to issues. Also, there is already a PR linked to this issue. You can try finding other issues to work on or provide any inputs if you have to the already linked PR.\n@iofall please share me beginner's  developer's guide\n> @iofall please share me beginner's developer's guide\r\n\r\nHere is the link to the contributing guide - https://matplotlib.org/devdocs/devel/contributing.html",
  "created_at": "2023-02-22T05:06:30Z",
  "version": "3.7",
  "FAIL_TO_PASS": "[\"lib/matplotlib/tests/test_legend.py::test_loc_invalid_list_exception\", \"lib/matplotlib/tests/test_legend.py::test_loc_invalid_tuple_exception\", \"lib/matplotlib/tests/test_legend.py::test_loc_invalid_type\", \"lib/matplotlib/tests/test_legend.py::test_loc_validation_numeric_value\"]",
  "PASS_TO_PASS": "[\"lib/matplotlib/tests/test_legend.py::TestLegendFigureFunction::test_legend_handle_label\", \"lib/matplotlib/tests/test_legend.py::TestLegendFigureFunction::test_legend_kw_args\", \"lib/matplotlib/tests/test_legend.py::TestLegendFigureFunction::test_legend_label_arg\", \"lib/matplotlib/tests/test_legend.py::TestLegendFigureFunction::test_legend_label_three_args\", \"lib/matplotlib/tests/test_legend.py::TestLegendFigureFunction::test_legend_label_three_args_pluskw\", \"lib/matplotlib/tests/test_legend.py::TestLegendFigureFunction::test_legend_no_args\", \"lib/matplotlib/tests/test_legend.py::TestLegendFigureFunction::test_warn_args_kwargs\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_handler_map\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_kwargs_handles_labels\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_kwargs_handles_only\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_kwargs_labels_only\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_no_args\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_positional_handles_labels\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_positional_handles_only\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_positional_labels_only\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_legend_three_args\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_parasite\", \"lib/matplotlib/tests/test_legend.py::TestLegendFunction::test_warn_mixed_args_and_kwargs\", \"lib/matplotlib/tests/test_legend.py::test_alpha_handles\", \"lib/matplotlib/tests/test_legend.py::test_alpha_rcparam[png]\", \"lib/matplotlib/tests/test_legend.py::test_alpha_rgba[png]\", \"lib/matplotlib/tests/test_legend.py::test_cross_figure_patch_legend\", \"lib/matplotlib/tests/test_legend.py::test_empty_bar_chart_with_legend\", \"lib/matplotlib/tests/test_legend.py::test_fancy[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_fancy[png]\", \"lib/matplotlib/tests/test_legend.py::test_figure_legend_outside\", \"lib/matplotlib/tests/test_legend.py::test_framealpha[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_framealpha[png]\", \"lib/matplotlib/tests/test_legend.py::test_get_set_draggable\", \"lib/matplotlib/tests/test_legend.py::test_handler_numpoints\", \"lib/matplotlib/tests/test_legend.py::test_handlerline2d\", \"lib/matplotlib/tests/test_legend.py::test_hatching[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_hatching[png]\", \"lib/matplotlib/tests/test_legend.py::test_labels_first[png]\", \"lib/matplotlib/tests/test_legend.py::test_legend_alignment[center]\", \"lib/matplotlib/tests/test_legend.py::test_legend_alignment[left]\", \"lib/matplotlib/tests/test_legend.py::test_legend_alignment[right]\", \"lib/matplotlib/tests/test_legend.py::test_legend_auto1[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_legend_auto1[png]\", \"lib/matplotlib/tests/test_legend.py::test_legend_auto2[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_legend_auto2[png]\", \"lib/matplotlib/tests/test_legend.py::test_legend_auto3[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_legend_auto3[png]\", \"lib/matplotlib/tests/test_legend.py::test_legend_auto4\", \"lib/matplotlib/tests/test_legend.py::test_legend_auto5\", \"lib/matplotlib/tests/test_legend.py::test_legend_draggable[False]\", \"lib/matplotlib/tests/test_legend.py::test_legend_draggable[True]\", \"lib/matplotlib/tests/test_legend.py::test_legend_expand[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_legend_expand[png]\", \"lib/matplotlib/tests/test_legend.py::test_legend_face_edgecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_label_with_leading_underscore\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_linecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_list\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_markeredgecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_markerfacecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_rcparam_linecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_rcparam_markeredgecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_rcparam_markeredgecolor_short\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_rcparam_markerfacecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_rcparam_markerfacecolor_short\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_rcparam_single[color2]\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_rcparam_single[none]\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_rcparam_single[red]\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_single[color2]\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_single[none]\", \"lib/matplotlib/tests/test_legend.py::test_legend_labelcolor_single[red]\", \"lib/matplotlib/tests/test_legend.py::test_legend_markers_from_line2d\", \"lib/matplotlib/tests/test_legend.py::test_legend_ordereddict\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_linecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_linecolor_cmap\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_linecolor_iterable\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_markeredgecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_markeredgecolor_cmap\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_markeredgecolor_iterable\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_markerfacecolor\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_markerfacecolor_iterable\", \"lib/matplotlib/tests/test_legend.py::test_legend_pathcollection_labelcolor_markfacecolor_cmap\", \"lib/matplotlib/tests/test_legend.py::test_legend_proper_window_extent\", \"lib/matplotlib/tests/test_legend.py::test_legend_remove\", \"lib/matplotlib/tests/test_legend.py::test_legend_repeatcheckok\", \"lib/matplotlib/tests/test_legend.py::test_legend_set_alignment[center]\", \"lib/matplotlib/tests/test_legend.py::test_legend_set_alignment[left]\", \"lib/matplotlib/tests/test_legend.py::test_legend_set_alignment[right]\", \"lib/matplotlib/tests/test_legend.py::test_legend_stackplot[png]\", \"lib/matplotlib/tests/test_legend.py::test_legend_text_axes\", \"lib/matplotlib/tests/test_legend.py::test_legend_title_empty\", \"lib/matplotlib/tests/test_legend.py::test_legend_title_fontprop_fontsize\", \"lib/matplotlib/tests/test_legend.py::test_linecollection_scaled_dashes\", \"lib/matplotlib/tests/test_legend.py::test_loc_valid_list\", \"lib/matplotlib/tests/test_legend.py::test_loc_valid_tuple\", \"lib/matplotlib/tests/test_legend.py::test_loc_validation_string_value\", \"lib/matplotlib/tests/test_legend.py::test_multiple_keys[png]\", \"lib/matplotlib/tests/test_legend.py::test_nanscatter\", \"lib/matplotlib/tests/test_legend.py::test_ncol_ncols[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_ncol_ncols[png]\", \"lib/matplotlib/tests/test_legend.py::test_no_warn_big_data_when_loc_specified\", \"lib/matplotlib/tests/test_legend.py::test_not_covering_scatter[png]\", \"lib/matplotlib/tests/test_legend.py::test_not_covering_scatter_transform[png]\", \"lib/matplotlib/tests/test_legend.py::test_plot_multiple_input_multiple_label[label_array0]\", \"lib/matplotlib/tests/test_legend.py::test_plot_multiple_input_multiple_label[label_array1]\", \"lib/matplotlib/tests/test_legend.py::test_plot_multiple_input_multiple_label[label_array2]\", \"lib/matplotlib/tests/test_legend.py::test_plot_multiple_input_single_label[1]\", \"lib/matplotlib/tests/test_legend.py::test_plot_multiple_input_single_label[int]\", \"lib/matplotlib/tests/test_legend.py::test_plot_multiple_input_single_label[one]\", \"lib/matplotlib/tests/test_legend.py::test_plot_multiple_label_incorrect_length_exception\", \"lib/matplotlib/tests/test_legend.py::test_plot_single_input_multiple_label[label_array0]\", \"lib/matplotlib/tests/test_legend.py::test_plot_single_input_multiple_label[label_array1]\", \"lib/matplotlib/tests/test_legend.py::test_plot_single_input_multiple_label[label_array2]\", \"lib/matplotlib/tests/test_legend.py::test_rc[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_rc[png]\", \"lib/matplotlib/tests/test_legend.py::test_reverse_legend_display[png]\", \"lib/matplotlib/tests/test_legend.py::test_reverse_legend_handles_and_labels\", \"lib/matplotlib/tests/test_legend.py::test_setting_alpha_keeps_polycollection_color\", \"lib/matplotlib/tests/test_legend.py::test_shadow_framealpha\", \"lib/matplotlib/tests/test_legend.py::test_subfigure_legend\", \"lib/matplotlib/tests/test_legend.py::test_text_nohandler_warning\", \"lib/matplotlib/tests/test_legend.py::test_various_labels[pdf]\", \"lib/matplotlib/tests/test_legend.py::test_various_labels[png]\", \"lib/matplotlib/tests/test_legend.py::test_warn_big_data_best_loc\", \"lib/matplotlib/tests/test_legend.py::test_window_extent_cached_renderer\"]",
  "environment_setup_commit": "0849036fd992a2dd133a0cffc3f84f58ccf1840f",
  "patch_files": [
    "lib/matplotlib/legend.py"
  ],
  "test_patch_files": [
    "lib/matplotlib/tests/test_legend.py"
  ],
  "patch_diff_details": {
    "lib/matplotlib/legend.py": {
      "diffs": [
        {
          "start_line_old": 26,
          "end_line_old": 26,
          "file_pos": 1,
          "file_context_length": 11534,
          "closest_snippet_id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend._findoffset_Legend._findoffset.3.1",
          "closest_snippet_line_distance": 664,
          "pos": 27,
          "context_length": 16848
        },
        {
          "start_line_old": 520,
          "end_line_old": 520,
          "file_pos": 1,
          "file_context_length": 11534,
          "closest_snippet_id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py__loc_doc_base_30",
          "closest_snippet_line_distance": 190,
          "pos": 4,
          "context_length": 3702
        },
        {
          "start_line_old": 538,
          "end_line_old": 538,
          "file_pos": 1,
          "file_context_length": 11534,
          "closest_snippet_id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py__loc_doc_base_30",
          "closest_snippet_line_distance": 208,
          "pos": 4,
          "context_length": 3702
        }
      ]
    }
  },
  "vectors": 3848,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py__loc_doc_base_30",
      "distance": 0.7420331239700317,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 255,
      "end_line": 330,
      "tokens": 761,
      "context_length": 761,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/intermediate/legend_guide.py_32_81",
      "distance": 0.7862987518310547,
      "file_path": "galleries/tutorials/intermediate/legend_guide.py",
      "start_line": 124,
      "end_line": 200,
      "tokens": 789,
      "context_length": 1550
    },
    {
      "position": 3,
      "id": "/tmp/repos/matplotlib/galleries/examples/ticks/tick-locators.py_6_",
      "distance": 0.798751711845398,
      "file_path": "galleries/examples/ticks/tick-locators.py",
      "start_line": 32,
      "end_line": 94,
      "tokens": 642,
      "context_length": 2192
    },
    {
      "position": 4,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend.__init__.49_Legend.__init__.80.1.2.labelcolor.1",
      "distance": 0.8103016018867493,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 514,
      "end_line": 622,
      "tokens": 1510,
      "context_length": 3702,
      "file_pos": 3
    },
    {
      "position": 5,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/intermediate/legend_guide.py_1_31",
      "distance": 0.8122067451477051,
      "file_path": "galleries/tutorials/intermediate/legend_guide.py",
      "start_line": 1,
      "end_line": 122,
      "tokens": 892,
      "context_length": 4594
    },
    {
      "position": 6,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/pyplot.py_223_loglog.1.1",
      "distance": 0.8320412039756775,
      "file_path": "lib/matplotlib/pyplot.py",
      "start_line": 2706,
      "end_line": 2721,
      "tokens": 169,
      "context_length": 4763
    },
    {
      "position": 7,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend._get_anchored_bbox_Legend._get_anchored_bbox.2.1",
      "distance": 0.8490691184997559,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 1094,
      "end_line": 1111,
      "tokens": 179,
      "context_length": 4942,
      "file_pos": 4
    },
    {
      "position": 8,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/intermediate/legend_guide.py_82_143",
      "distance": 0.8523390293121338,
      "file_path": "galleries/tutorials/intermediate/legend_guide.py",
      "start_line": 201,
      "end_line": 277,
      "tokens": 791,
      "context_length": 5733
    },
    {
      "position": 9,
      "id": "/tmp/repos/matplotlib/galleries/examples/ticks/date_formatters_locators.py_9_",
      "distance": 0.8692458868026733,
      "file_path": "galleries/examples/ticks/date_formatters_locators.py",
      "start_line": 60,
      "end_line": 94,
      "tokens": 304,
      "context_length": 6037
    },
    {
      "position": 10,
      "id": "/tmp/repos/matplotlib/galleries/examples/text_labels_and_annotations/legend_demo.py_1_43",
      "distance": 0.8712477684020996,
      "file_path": "galleries/examples/text_labels_and_annotations/legend_demo.py",
      "start_line": 1,
      "end_line": 76,
      "tokens": 737,
      "context_length": 6774
    },
    {
      "position": 11,
      "id": "/tmp/repos/matplotlib/galleries/examples/text_labels_and_annotations/figlegend_demo.py_1_",
      "distance": 0.8730098009109497,
      "file_path": "galleries/examples/text_labels_and_annotations/figlegend_demo.py",
      "start_line": 1,
      "end_line": 54,
      "tokens": 511,
      "context_length": 7285
    },
    {
      "position": 12,
      "id": "/tmp/repos/matplotlib/galleries/examples/text_labels_and_annotations/legend_demo.py_44_71",
      "distance": 0.8759002685546875,
      "file_path": "galleries/examples/text_labels_and_annotations/legend_demo.py",
      "start_line": 77,
      "end_line": 117,
      "tokens": 569,
      "context_length": 7854
    },
    {
      "position": 13,
      "id": "/tmp/repos/matplotlib/lib/mpl_toolkits/axisartist/grid_finder.py_FixedLocator_FormatterPrettyPrint.__call__.1.1",
      "distance": 0.8761197924613953,
      "file_path": "lib/mpl_toolkits/axisartist/grid_finder.py",
      "start_line": 296,
      "end_line": 315,
      "tokens": 170,
      "context_length": 8024
    },
    {
      "position": 14,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend_handler.py_HandlerErrorbar.create_artists_HandlerErrorbar.create_artists.2",
      "distance": 0.8800138235092163,
      "file_path": "lib/matplotlib/legend_handler.py",
      "start_line": 543,
      "end_line": 625,
      "tokens": 762,
      "context_length": 8786
    },
    {
      "position": 15,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/axis.py_Tick._apply_params_Tick._get_text2_transform.1",
      "distance": 0.8828356266021729,
      "file_path": "lib/matplotlib/axis.py",
      "start_line": 342,
      "end_line": 397,
      "tokens": 600,
      "context_length": 9386
    },
    {
      "position": 16,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/text/text_intro.py_150_209",
      "distance": 0.8979678153991699,
      "file_path": "galleries/tutorials/text/text_intro.py",
      "start_line": 264,
      "end_line": 331,
      "tokens": 832,
      "context_length": 10218
    },
    {
      "position": 17,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/text/annotations.py_342_407",
      "distance": 0.9003641605377197,
      "file_path": "galleries/tutorials/text/annotations.py",
      "start_line": 480,
      "end_line": 567,
      "tokens": 877,
      "context_length": 11095
    },
    {
      "position": 18,
      "id": "/tmp/repos/matplotlib/galleries/examples/lines_bars_and_markers/scatter_with_legend.py_legend2_55_",
      "distance": 0.9008350968360901,
      "file_path": "galleries/examples/lines_bars_and_markers/scatter_with_legend.py",
      "start_line": 97,
      "end_line": 112,
      "tokens": 103,
      "context_length": 11198
    },
    {
      "position": 19,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/text/annotations.py_296_341",
      "distance": 0.901004433631897,
      "file_path": "galleries/tutorials/text/annotations.py",
      "start_line": 393,
      "end_line": 479,
      "tokens": 923,
      "context_length": 12121
    },
    {
      "position": 20,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend_Legend.__init__.self._outside_loc.1",
      "distance": 0.9016066789627075,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 333,
      "end_line": 513,
      "tokens": 1569,
      "context_length": 13690,
      "file_pos": 13
    },
    {
      "position": 21,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/intermediate/legend_guide.py_144_174",
      "distance": 0.9055359363555908,
      "file_path": "galleries/tutorials/intermediate/legend_guide.py",
      "start_line": 279,
      "end_line": 331,
      "tokens": 450,
      "context_length": 14140
    },
    {
      "position": 22,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend.draw_Legend.draw.2.self.stale.1",
      "distance": 0.9090579152107239,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 707,
      "end_line": 736,
      "tokens": 238,
      "context_length": 14378,
      "file_pos": 13
    },
    {
      "position": 23,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/intermediate/constrainedlayout_guide.py_92_152",
      "distance": 0.9122772216796875,
      "file_path": "galleries/tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 179,
      "end_line": 263,
      "tokens": 863,
      "context_length": 15241
    },
    {
      "position": 24,
      "id": "/tmp/repos/matplotlib/galleries/examples/lines_bars_and_markers/scatter_with_legend.py_1_kw.1",
      "distance": 0.9131985902786255,
      "file_path": "galleries/examples/lines_bars_and_markers/scatter_with_legend.py",
      "start_line": 1,
      "end_line": 96,
      "tokens": 827,
      "context_length": 16068
    },
    {
      "position": 25,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend._findoffset_Legend._findoffset.3.1",
      "distance": 0.9213863611221313,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 690,
      "end_line": 705,
      "tokens": 189,
      "context_length": 16257,
      "file_pos": 14
    },
    {
      "position": 26,
      "id": "/tmp/repos/matplotlib/galleries/examples/userdemo/simple_legend01.py_1_",
      "distance": 0.9242041110992432,
      "file_path": "galleries/examples/userdemo/simple_legend01.py",
      "start_line": 1,
      "end_line": 26,
      "tokens": 198,
      "context_length": 16455
    },
    {
      "position": 27,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_1_legend_handler",
      "distance": 0.9260112047195435,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 1,
      "end_line": 50,
      "tokens": 393,
      "context_length": 16848,
      "file_pos": 15
    },
    {
      "position": 28,
      "id": "/tmp/repos/matplotlib/galleries/examples/shapes_and_collections/artist_reference.py_plt_",
      "distance": 0.927136242389679,
      "file_path": "galleries/examples/shapes_and_collections/artist_reference.py",
      "start_line": 16,
      "end_line": 79,
      "tokens": 748,
      "context_length": 17596
    },
    {
      "position": 29,
      "id": "/tmp/repos/matplotlib/lib/mpl_toolkits/axes_grid1/inset_locator.py_AnchoredLocatorBase_AnchoredLocatorBase.__call__.6.1",
      "distance": 0.927550196647644,
      "file_path": "lib/mpl_toolkits/axes_grid1/inset_locator.py",
      "start_line": 60,
      "end_line": 77,
      "tokens": 184,
      "context_length": 17780
    },
    {
      "position": 30,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_FigureBase.legend.2_FigureBase.legend.11.1",
      "distance": 0.9299533367156982,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 1114,
      "end_line": 1136,
      "tokens": 242,
      "context_length": 18022
    },
    {
      "position": 31,
      "id": "/tmp/repos/matplotlib/galleries/examples/text_labels_and_annotations/legend_demo.py_x_76_",
      "distance": 0.9323581457138062,
      "file_path": "galleries/examples/text_labels_and_annotations/legend_demo.py",
      "start_line": 165,
      "end_line": 183,
      "tokens": 195,
      "context_length": 18217
    },
    {
      "position": 32,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend.legendHandles_Legend._loc.1",
      "distance": 0.9331475496292114,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 658,
      "end_line": 688,
      "tokens": 229,
      "context_length": 18446,
      "file_pos": 18
    },
    {
      "position": 33,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend.__init__.81_Legend.__init__.81.5.1",
      "distance": 0.9340038895606995,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 623,
      "end_line": 656,
      "tokens": 726,
      "context_length": 19172,
      "file_pos": 18
    },
    {
      "position": 34,
      "id": "/tmp/repos/matplotlib/lib/mpl_toolkits/axisartist/axis_artist.py_Ticks.draw_Ticks.draw.10",
      "distance": 0.9351346492767334,
      "file_path": "lib/mpl_toolkits/axisartist/axis_artist.py",
      "start_line": 176,
      "end_line": 200,
      "tokens": 198,
      "context_length": 19370
    },
    {
      "position": 35,
      "id": "/tmp/repos/matplotlib/galleries/examples/ticks/tick-formatters.py_5_",
      "distance": 0.9361895322799683,
      "file_path": "galleries/examples/ticks/tick-formatters.py",
      "start_line": 37,
      "end_line": 137,
      "tokens": 970,
      "context_length": 20340
    },
    {
      "position": 36,
      "id": "/tmp/repos/matplotlib/galleries/examples/text_labels_and_annotations/line_with_text.py_8_",
      "distance": 0.9364942908287048,
      "file_path": "galleries/examples/text_labels_and_annotations/line_with_text.py",
      "start_line": 52,
      "end_line": 88,
      "tokens": 260,
      "context_length": 20600
    },
    {
      "position": 37,
      "id": "/tmp/repos/matplotlib/galleries/examples/ticks/tick-locators.py_1_setup.10",
      "distance": 0.9367369413375854,
      "file_path": "galleries/examples/ticks/tick-locators.py",
      "start_line": 1,
      "end_line": 29,
      "tokens": 211,
      "context_length": 20811
    },
    {
      "position": 38,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/intermediate/tight_layout_guide.py_fig_146",
      "distance": 0.9427850246429443,
      "file_path": "galleries/tutorials/intermediate/tight_layout_guide.py",
      "start_line": 105,
      "end_line": 221,
      "tokens": 886,
      "context_length": 21697
    },
    {
      "position": 39,
      "id": "/tmp/repos/matplotlib/galleries/examples/event_handling/legend_picking.py_1_",
      "distance": 0.9448089003562927,
      "file_path": "galleries/examples/event_handling/legend_picking.py",
      "start_line": 1,
      "end_line": 51,
      "tokens": 401,
      "context_length": 22098
    },
    {
      "position": 40,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/toolkits/axisartist.py_1_",
      "distance": 0.9451627135276794,
      "file_path": "galleries/tutorials/toolkits/axisartist.py",
      "start_line": 1,
      "end_line": 561,
      "tokens": 4700,
      "context_length": 26798
    },
    {
      "position": 41,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend._find_best_position_Legend._find_best_position.12.1",
      "distance": 0.9453146457672119,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 1113,
      "end_line": 1157,
      "tokens": 411,
      "context_length": 27209,
      "file_pos": 24
    },
    {
      "position": 42,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend.py_Legend._auto_legend_data_Legend._auto_legend_data.8.1",
      "distance": 0.9456923007965088,
      "file_path": "lib/matplotlib/legend.py",
      "start_line": 907,
      "end_line": 940,
      "tokens": 242,
      "context_length": 27451,
      "file_pos": 24
    },
    {
      "position": 43,
      "id": "/tmp/repos/matplotlib/galleries/examples/specialty_plots/leftventricle_bullseye.py_6_",
      "distance": 0.9472657442092896,
      "file_path": "galleries/examples/specialty_plots/leftventricle_bullseye.py",
      "start_line": 94,
      "end_line": 155,
      "tokens": 697,
      "context_length": 28148
    },
    {
      "position": 44,
      "id": "/tmp/repos/matplotlib/lib/mpl_toolkits/axisartist/floating_axes.py_FixedAxisArtistHelper.get_tick_iterators_FixedAxisArtistHelper.get_line.4.1",
      "distance": 0.9473776817321777,
      "file_path": "lib/mpl_toolkits/axisartist/floating_axes.py",
      "start_line": 53,
      "end_line": 113,
      "tokens": 725,
      "context_length": 28873
    },
    {
      "position": 45,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/legend_handler.py_HandlerTuple.create_artists_HandlerTuple.create_artists.handler_map.8.1",
      "distance": 0.9481434226036072,
      "file_path": "lib/matplotlib/legend_handler.py",
      "start_line": 740,
      "end_line": 769,
      "tokens": 239,
      "context_length": 29112
    },
    {
      "position": 46,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/intermediate/tight_layout_guide.py_lines_",
      "distance": 0.9499969482421875,
      "file_path": "galleries/tutorials/intermediate/tight_layout_guide.py",
      "start_line": 222,
      "end_line": 293,
      "tokens": 499,
      "context_length": 29611
    },
    {
      "position": 47,
      "id": "/tmp/repos/matplotlib/galleries/examples/ticks/ticks_too_many.py_1_",
      "distance": 0.9502330422401428,
      "file_path": "galleries/examples/ticks/ticks_too_many.py",
      "start_line": 1,
      "end_line": 77,
      "tokens": 744,
      "context_length": 30355
    },
    {
      "position": 48,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/text/text_intro.py_210_",
      "distance": 0.9507300853729248,
      "file_path": "galleries/tutorials/text/text_intro.py",
      "start_line": 332,
      "end_line": 425,
      "tokens": 764,
      "context_length": 31119
    },
    {
      "position": 49,
      "id": "/tmp/repos/matplotlib/galleries/examples/ticks/major_minor_demo.py_1_",
      "distance": 0.9520683884620667,
      "file_path": "galleries/examples/ticks/major_minor_demo.py",
      "start_line": 1,
      "end_line": 97,
      "tokens": 828,
      "context_length": 31947
    },
    {
      "position": 50,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/axis.py_XTick._apply_tickdir_XTick.get_view_interval.2.1",
      "distance": 0.9538285732269287,
      "file_path": "lib/matplotlib/axis.py",
      "start_line": 435,
      "end_line": 458,
      "tokens": 220,
      "context_length": 32167
    },
    {
      "position": 51,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar.locator_Colorbar.filled.1",
      "distance": 0.9556482434272766,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 443,
      "end_line": 491,
      "tokens": 351,
      "context_length": 32518
    },
    {
      "position": 52,
      "id": "/tmp/repos/matplotlib/lib/mpl_toolkits/axisartist/grid_helper_curvelinear.py_FloatingAxisArtistHelper.get_tick_iterators_FloatingAxisArtistHelper.get_line.3.1",
      "distance": 0.9585386514663696,
      "file_path": "lib/mpl_toolkits/axisartist/grid_helper_curvelinear.py",
      "start_line": 172,
      "end_line": 226,
      "tokens": 649,
      "context_length": 33167
    },
    {
      "position": 53,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/axis.py_Tick.__init___Tick.__init__.36",
      "distance": 0.9598996639251709,
      "file_path": "lib/matplotlib/axis.py",
      "start_line": 58,
      "end_line": 189,
      "tokens": 1063,
      "context_length": 34230
    },
    {
      "position": 54,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/offsetbox.py_AnchoredOffsetbox_AnchoredOffsetbox.__init__.self.patch.1",
      "distance": 0.9610565900802612,
      "file_path": "lib/matplotlib/offsetbox.py",
      "start_line": 907,
      "end_line": 995,
      "tokens": 742,
      "context_length": 34972
    },
    {
      "position": 55,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/axis.py_YTick._apply_tickdir_YTick.get_view_interval.2.1",
      "distance": 0.9637028574943542,
      "file_path": "lib/matplotlib/axis.py",
      "start_line": 496,
      "end_line": 519,
      "tokens": 220,
      "context_length": 35192
    },
    {
      "position": 56,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/backends/backend_wx.py_functools__create_wxapp.4.1",
      "distance": 0.9647247791290283,
      "file_path": "lib/matplotlib/backends/backend_wx.py",
      "start_line": 10,
      "end_line": 60,
      "tokens": 343,
      "context_length": 35535
    },
    {
      "position": 57,
      "id": "/tmp/repos/matplotlib/galleries/tutorials/intermediate/constrainedlayout_guide.py_ax1_334_440",
      "distance": 0.9696308374404907,
      "file_path": "galleries/tutorials/intermediate/constrainedlayout_guide.py",
      "start_line": 524,
      "end_line": 643,
      "tokens": 1131,
      "context_length": 36666
    },
    {
      "position": 58,
      "id": "/tmp/repos/matplotlib/galleries/examples/userdemo/simple_legend02.py_1_",
      "distance": 0.9699125289916992,
      "file_path": "galleries/examples/userdemo/simple_legend02.py",
      "start_line": 1,
      "end_line": 24,
      "tokens": 136,
      "context_length": 36802
    },
    {
      "position": 59,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/axes/_axes.py_functools__log.1",
      "distance": 0.9699764251708984,
      "file_path": "lib/matplotlib/axes/_axes.py",
      "start_line": 1,
      "end_line": 39,
      "tokens": 286,
      "context_length": 37088
    }
  ],
  "files": [
    {
      "file_path": "lib/matplotlib/legend.py",
      "position": 1,
      "tokens": 11534,
      "context_length": 11534
    },
    {
      "file_path": "galleries/tutorials/intermediate/legend_guide.py",
      "position": 2,
      "tokens": 3116,
      "context_length": 14650
    },
    {
      "file_path": "galleries/examples/ticks/tick-locators.py",
      "position": 3,
      "tokens": 853,
      "context_length": 15503
    },
    {
      "file_path": "lib/matplotlib/pyplot.py",
      "position": 4,
      "tokens": 28710,
      "context_length": 44213
    },
    {
      "file_path": "galleries/examples/ticks/date_formatters_locators.py",
      "position": 5,
      "tokens": 980,
      "context_length": 45193
    },
    {
      "file_path": "galleries/examples/text_labels_and_annotations/legend_demo.py",
      "position": 6,
      "tokens": 1906,
      "context_length": 47099
    },
    {
      "file_path": "galleries/examples/text_labels_and_annotations/figlegend_demo.py",
      "position": 7,
      "tokens": 511,
      "context_length": 47610
    },
    {
      "file_path": "lib/mpl_toolkits/axisartist/grid_finder.py",
      "position": 8,
      "tokens": 2917,
      "context_length": 50527
    },
    {
      "file_path": "lib/matplotlib/legend_handler.py",
      "position": 9,
      "tokens": 6610,
      "context_length": 57137
    },
    {
      "file_path": "lib/matplotlib/axis.py",
      "position": 10,
      "tokens": 21548,
      "context_length": 78685
    },
    {
      "file_path": "galleries/tutorials/text/text_intro.py",
      "position": 11,
      "tokens": 3881,
      "context_length": 82566
    },
    {
      "file_path": "galleries/tutorials/text/annotations.py",
      "position": 12,
      "tokens": 7389,
      "context_length": 89955
    },
    {
      "file_path": "galleries/examples/lines_bars_and_markers/scatter_with_legend.py",
      "position": 13,
      "tokens": 930,
      "context_length": 90885
    },
    {
      "file_path": "galleries/tutorials/intermediate/constrainedlayout_guide.py",
      "position": 14,
      "tokens": 6694,
      "context_length": 97579
    },
    {
      "file_path": "galleries/examples/userdemo/simple_legend01.py",
      "position": 15,
      "tokens": 198,
      "context_length": 97777
    },
    {
      "file_path": "galleries/examples/shapes_and_collections/artist_reference.py",
      "position": 16,
      "tokens": 840,
      "context_length": 98617
    },
    {
      "file_path": "lib/mpl_toolkits/axes_grid1/inset_locator.py",
      "position": 17,
      "tokens": 5147,
      "context_length": 103764
    },
    {
      "file_path": "lib/matplotlib/figure.py",
      "position": 18,
      "tokens": 29539,
      "context_length": 133303
    },
    {
      "file_path": "lib/mpl_toolkits/axisartist/axis_artist.py",
      "position": 19,
      "tokens": 8247,
      "context_length": 141550
    },
    {
      "file_path": "galleries/examples/ticks/tick-formatters.py",
      "position": 20,
      "tokens": 1229,
      "context_length": 142779
    },
    {
      "file_path": "galleries/examples/text_labels_and_annotations/line_with_text.py",
      "position": 21,
      "tokens": 592,
      "context_length": 143371
    },
    {
      "file_path": "galleries/tutorials/intermediate/tight_layout_guide.py",
      "position": 22,
      "tokens": 2168,
      "context_length": 145539
    },
    {
      "file_path": "galleries/examples/event_handling/legend_picking.py",
      "position": 23,
      "tokens": 401,
      "context_length": 145940
    },
    {
      "file_path": "galleries/tutorials/toolkits/axisartist.py",
      "position": 24,
      "tokens": 4700,
      "context_length": 150640
    },
    {
      "file_path": "galleries/examples/specialty_plots/leftventricle_bullseye.py",
      "position": 25,
      "tokens": 1605,
      "context_length": 152245
    },
    {
      "file_path": "lib/mpl_toolkits/axisartist/floating_axes.py",
      "position": 26,
      "tokens": 2683,
      "context_length": 154928
    },
    {
      "file_path": "galleries/examples/ticks/ticks_too_many.py",
      "position": 27,
      "tokens": 744,
      "context_length": 155672
    },
    {
      "file_path": "galleries/examples/ticks/major_minor_demo.py",
      "position": 28,
      "tokens": 828,
      "context_length": 156500
    },
    {
      "file_path": "lib/matplotlib/colorbar.py",
      "position": 29,
      "tokens": 14311,
      "context_length": 170811
    },
    {
      "file_path": "lib/mpl_toolkits/axisartist/grid_helper_curvelinear.py",
      "position": 30,
      "tokens": 3174,
      "context_length": 173985
    },
    {
      "file_path": "lib/matplotlib/offsetbox.py",
      "position": 31,
      "tokens": 12326,
      "context_length": 186311
    },
    {
      "file_path": "lib/matplotlib/backends/backend_wx.py",
      "position": 32,
      "tokens": 12115,
      "context_length": 198426
    },
    {
      "file_path": "galleries/examples/userdemo/simple_legend02.py",
      "position": 33,
      "tokens": 136,
      "context_length": 198562
    },
    {
      "file_path": "lib/matplotlib/axes/_axes.py",
      "position": 34,
      "tokens": 74449,
      "context_length": 273011
    }
  ]
}