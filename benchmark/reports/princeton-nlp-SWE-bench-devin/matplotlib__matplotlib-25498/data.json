{
  "instance_id": "matplotlib__matplotlib-25498",
  "model_patch": "diff --git a/lib/matplotlib/colorbar.py b/lib/matplotlib/colorbar.py\nindex d3d53e3d98..a02ca28d89 100644\n--- a/lib/matplotlib/colorbar.py\n+++ b/lib/matplotlib/colorbar.py\n@@ -1100,15 +1100,15 @@ class Colorbar:\n         if self._extend_upper():\n             b = np.hstack((b, b[-1] + 1))\n \n-        # transform from 0-1 to vmin-vmax:\n-        if not self.norm.scaled():\n-            self.norm.vmin = 0\n-            self.norm.vmax = 1\n+        # Ensure vmin and vmax are valid for LogNorm\n+        if self.norm.vmin is None or self.norm.vmin <= 0:\n+            self.norm.vmin = 1e-10  # small positive number to avoid log(0)\n+        if self.norm.vmax is None or self.norm.vmax <= self.norm.vmin:\n+            self.norm.vmax = self.norm.vmin + 1  # ensure vmax is greater than vmin\n+\n+        # Now call nonsingular with the updated vmin and vmax\n         self.norm.vmin, self.norm.vmax = mtransforms.nonsingular(\n             self.norm.vmin, self.norm.vmax, expander=0.1)\n-        if (not isinstance(self.norm, colors.BoundaryNorm) and\n-                (self.boundaries is None)):\n-            b = self.norm.inverse(b)\n \n         self._boundaries = np.asarray(b, dtype=float)\n         self._values = 0.5 * (self._boundaries[:-1] + self._boundaries[1:])\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "lib/matplotlib/colorbar.py"
  ],
  "repo": "matplotlib/matplotlib",
  "base_commit": "78bf53caacbb5ce0dc7aa73f07a74c99f1ed919b",
  "patch": "diff --git a/lib/matplotlib/colorbar.py b/lib/matplotlib/colorbar.py\n--- a/lib/matplotlib/colorbar.py\n+++ b/lib/matplotlib/colorbar.py\n@@ -301,11 +301,6 @@ def __init__(self, ax, mappable=None, *, cmap=None,\n         if mappable is None:\n             mappable = cm.ScalarMappable(norm=norm, cmap=cmap)\n \n-        # Ensure the given mappable's norm has appropriate vmin and vmax\n-        # set even if mappable.draw has not yet been called.\n-        if mappable.get_array() is not None:\n-            mappable.autoscale_None()\n-\n         self.mappable = mappable\n         cmap = mappable.cmap\n         norm = mappable.norm\n@@ -1101,7 +1096,10 @@ def _process_values(self):\n             b = np.hstack((b, b[-1] + 1))\n \n         # transform from 0-1 to vmin-vmax:\n+        if self.mappable.get_array() is not None:\n+            self.mappable.autoscale_None()\n         if not self.norm.scaled():\n+            # If we still aren't scaled after autoscaling, use 0, 1 as default\n             self.norm.vmin = 0\n             self.norm.vmax = 1\n         self.norm.vmin, self.norm.vmax = mtransforms.nonsingular(\n",
  "test_patch": "diff --git a/lib/matplotlib/tests/test_colorbar.py b/lib/matplotlib/tests/test_colorbar.py\n--- a/lib/matplotlib/tests/test_colorbar.py\n+++ b/lib/matplotlib/tests/test_colorbar.py\n@@ -657,6 +657,12 @@ def test_colorbar_scale_reset():\n \n     assert cbar.outline.get_edgecolor() == mcolors.to_rgba('red')\n \n+    # log scale with no vmin/vmax set should scale to the data if there\n+    # is a mappable already associated with the colorbar, not (0, 1)\n+    pcm.norm = LogNorm()\n+    assert pcm.norm.vmin == z.min()\n+    assert pcm.norm.vmax == z.max()\n+\n \n def test_colorbar_get_ticks_2():\n     plt.rcParams['_internal.classic_mode'] = False\n",
  "problem_statement": "Update colorbar after changing mappable.norm\nHow can I update a colorbar, after I changed the norm instance of the colorbar?\n\n`colorbar.update_normal(mappable)` has now effect and `colorbar.update_bruteforce(mappable)` throws a `ZeroDivsionError`-Exception.\n\nConsider this example:\n\n``` python\nimport matplotlib.pyplot as plt\nfrom matplotlib.colors import LogNorm\nimport numpy as np\n\nimg = 10**np.random.normal(1, 1, size=(50, 50))\n\nfig, ax = plt.subplots(1, 1)\nplot = ax.imshow(img, cmap='gray')\ncb = fig.colorbar(plot, ax=ax)\nplot.norm = LogNorm()\ncb.update_normal(plot)  # no effect\ncb.update_bruteforce(plot)  # throws ZeroDivisionError\nplt.show()\n```\n\nOutput for `cb.update_bruteforce(plot)`:\n\n```\nTraceback (most recent call last):\n  File \"test_norm.py\", line 12, in <module>\n    cb.update_bruteforce(plot)\n  File \"/home/maxnoe/.local/anaconda3/lib/python3.4/site-packages/matplotlib/colorbar.py\", line 967, in update_bruteforce\n    self.draw_all()\n  File \"/home/maxnoe/.local/anaconda3/lib/python3.4/site-packages/matplotlib/colorbar.py\", line 342, in draw_all\n    self._process_values()\n  File \"/home/maxnoe/.local/anaconda3/lib/python3.4/site-packages/matplotlib/colorbar.py\", line 664, in _process_values\n    b = self.norm.inverse(self._uniform_y(self.cmap.N + 1))\n  File \"/home/maxnoe/.local/anaconda3/lib/python3.4/site-packages/matplotlib/colors.py\", line 1011, in inverse\n    return vmin * ma.power((vmax / vmin), val)\nZeroDivisionError: division by zero\n```\n\n",
  "hints_text": "You have run into a big bug in imshow, not colorbar.  As a workaround, after setting `plot.norm`, call `plot.autoscale()`.  Then the `update_bruteforce` will work.\nWhen the norm is changed, it should pick up the vmax, vmin values from the autoscaling; but this is not happening.  Actually, it's worse than that; it fails even if the norm is set as a kwarg in the call to imshow. I haven't looked beyond that to see why.  I've confirmed the problem with master.\n\nIn ipython using `%matplotlib` setting the norm the first time works, changing it back later to\n`Normalize()` or something other blows up:\n\n```\n--> 199         self.pixels.autoscale()\n    200         self.update(force=True)\n    201 \n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/cm.py in autoscale(self)\n    323             raise TypeError('You must first set_array for mappable')\n    324         self.norm.autoscale(self._A)\n--> 325         self.changed()\n    326 \n    327     def autoscale_None(self):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/cm.py in changed(self)\n    357         callbackSM listeners to the 'changed' signal\n    358         \"\"\"\n--> 359         self.callbacksSM.process('changed', self)\n    360 \n    361         for key in self.update_dict:\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/cbook.py in process(self, s, *args, **kwargs)\n    560             for cid, proxy in list(six.iteritems(self.callbacks[s])):\n    561                 try:\n--> 562                     proxy(*args, **kwargs)\n    563                 except ReferenceError:\n    564                     self._remove_proxy(proxy)\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/cbook.py in __call__(self, *args, **kwargs)\n    427             mtd = self.func\n    428         # invoke the callable and return the result\n--> 429         return mtd(*args, **kwargs)\n    430 \n    431     def __eq__(self, other):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in on_mappable_changed(self, mappable)\n    915         self.set_cmap(mappable.get_cmap())\n    916         self.set_clim(mappable.get_clim())\n--> 917         self.update_normal(mappable)\n    918 \n    919     def add_lines(self, CS, erase=True):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in update_normal(self, mappable)\n    946         or contour plot to which this colorbar belongs is changed.\n    947         '''\n--> 948         self.draw_all()\n    949         if isinstance(self.mappable, contour.ContourSet):\n    950             CS = self.mappable\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in draw_all(self)\n    346         X, Y = self._mesh()\n    347         C = self._values[:, np.newaxis]\n--> 348         self._config_axes(X, Y)\n    349         if self.filled:\n    350             self._add_solids(X, Y, C)\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in _config_axes(self, X, Y)\n    442         ax.add_artist(self.patch)\n    443 \n--> 444         self.update_ticks()\n    445 \n    446     def _set_label(self):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in update_ticks(self)\n    371         \"\"\"\n    372         ax = self.ax\n--> 373         ticks, ticklabels, offset_string = self._ticker()\n    374         if self.orientation == 'vertical':\n    375             ax.yaxis.set_ticks(ticks)\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in _ticker(self)\n    592         formatter.set_data_interval(*intv)\n    593 \n--> 594         b = np.array(locator())\n    595         if isinstance(locator, ticker.LogLocator):\n    596             eps = 1e-10\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/ticker.py in __call__(self)\n   1533         'Return the locations of the ticks'\n   1534         vmin, vmax = self.axis.get_view_interval()\n-> 1535         return self.tick_values(vmin, vmax)\n   1536 \n   1537     def tick_values(self, vmin, vmax):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/ticker.py in tick_values(self, vmin, vmax)\n   1551             if vmin <= 0.0 or not np.isfinite(vmin):\n   1552                 raise ValueError(\n-> 1553                     \"Data has no positive values, and therefore can not be \"\n   1554                     \"log-scaled.\")\n   1555 \n\nValueError: Data has no positive values, and therefore can not be log-scaled.\n```\n\nAny news on this? Why does setting the norm back to a linear norm blow up if there are negative values?\n\n``` python\nIn [2]: %matplotlib\nUsing matplotlib backend: Qt4Agg\n\nIn [3]: # %load minimal_norm.py\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom matplotlib.colors import Normalize, LogNorm\n\n\nx, y = np.meshgrid(np.linspace(0, 1, 10), np.linspace(0, 1, 10))\nz = np.random.normal(0, 5, size=x.shape)\n\nfig = plt.figure()\nimg = plt.pcolor(x, y, z, cmap='viridis')\ncbar = plt.colorbar(img)\n   ...: \n\nIn [4]: img.norm = LogNorm()\n\nIn [5]: img.autoscale()\n\nIn [7]: cbar.update_bruteforce(img)\n\nIn [8]: img.norm = Normalize()\n\nIn [9]: img.autoscale()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-9-e26279d12b00> in <module>()\n----> 1 img.autoscale()\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/cm.py in autoscale(self)\n    323             raise TypeError('You must first set_array for mappable')\n    324         self.norm.autoscale(self._A)\n--> 325         self.changed()\n    326 \n    327     def autoscale_None(self):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/cm.py in changed(self)\n    357         callbackSM listeners to the 'changed' signal\n    358         \"\"\"\n--> 359         self.callbacksSM.process('changed', self)\n    360 \n    361         for key in self.update_dict:\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/cbook.py in process(self, s, *args, **kwargs)\n    561             for cid, proxy in list(six.iteritems(self.callbacks[s])):\n    562                 try:\n--> 563                     proxy(*args, **kwargs)\n    564                 except ReferenceError:\n    565                     self._remove_proxy(proxy)\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/cbook.py in __call__(self, *args, **kwargs)\n    428             mtd = self.func\n    429         # invoke the callable and return the result\n--> 430         return mtd(*args, **kwargs)\n    431 \n    432     def __eq__(self, other):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in on_mappable_changed(self, mappable)\n    915         self.set_cmap(mappable.get_cmap())\n    916         self.set_clim(mappable.get_clim())\n--> 917         self.update_normal(mappable)\n    918 \n    919     def add_lines(self, CS, erase=True):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in update_normal(self, mappable)\n    946         or contour plot to which this colorbar belongs is changed.\n    947         '''\n--> 948         self.draw_all()\n    949         if isinstance(self.mappable, contour.ContourSet):\n    950             CS = self.mappable\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in draw_all(self)\n    346         X, Y = self._mesh()\n    347         C = self._values[:, np.newaxis]\n--> 348         self._config_axes(X, Y)\n    349         if self.filled:\n    350             self._add_solids(X, Y, C)\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in _config_axes(self, X, Y)\n    442         ax.add_artist(self.patch)\n    443 \n--> 444         self.update_ticks()\n    445 \n    446     def _set_label(self):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in update_ticks(self)\n    371         \"\"\"\n    372         ax = self.ax\n--> 373         ticks, ticklabels, offset_string = self._ticker()\n    374         if self.orientation == 'vertical':\n    375             ax.yaxis.set_ticks(ticks)\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/colorbar.py in _ticker(self)\n    592         formatter.set_data_interval(*intv)\n    593 \n--> 594         b = np.array(locator())\n    595         if isinstance(locator, ticker.LogLocator):\n    596             eps = 1e-10\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/ticker.py in __call__(self)\n   1536         'Return the locations of the ticks'\n   1537         vmin, vmax = self.axis.get_view_interval()\n-> 1538         return self.tick_values(vmin, vmax)\n   1539 \n   1540     def tick_values(self, vmin, vmax):\n\n/home/maxnoe/.local/anaconda3/envs/ctapipe/lib/python3.5/site-packages/matplotlib/ticker.py in tick_values(self, vmin, vmax)\n   1554             if vmin <= 0.0 or not np.isfinite(vmin):\n   1555                 raise ValueError(\n-> 1556                     \"Data has no positive values, and therefore can not be \"\n   1557                     \"log-scaled.\")\n   1558 \n\nValueError: Data has no positive values, and therefore can not be log-scaled\n```\n\nThis issue has been marked \"inactive\" because it has been 365 days since the last comment. If this issue is still present in recent Matplotlib releases, or the feature request is still wanted, please leave a comment and this label will be removed. If there are no updates in another 30 days, this issue will be automatically closed, but you are free to re-open or create a new issue if needed. We value issue reports, and this procedure is meant to help us resurface and prioritize issues that have not been addressed yet, not make them disappear.  Thanks for your help!",
  "created_at": "2023-03-18T17:01:11Z",
  "version": "3.7",
  "FAIL_TO_PASS": "[\"lib/matplotlib/tests/test_colorbar.py::test_colorbar_scale_reset\"]",
  "PASS_TO_PASS": "[\"lib/matplotlib/tests/test_colorbar.py::test_anchored_cbar_position_using_specgrid\", \"lib/matplotlib/tests/test_colorbar.py::test_aspects\", \"lib/matplotlib/tests/test_colorbar.py::test_axes_handles_same_functions[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_boundaries[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_cbar_minorticks_for_rc_xyminortickvisible\", \"lib/matplotlib/tests/test_colorbar.py::test_centerednorm\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_autoticks\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_autotickslog\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_axes_kw\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_axes_parmeters\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_change_lim_scale[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_closed_patch[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_contourf_extend_patches[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_errors[kwargs0-TypeError-location\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_errors[kwargs1-TypeError-location\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_errors[kwargs2-ValueError-'top'\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_errors[kwargs3-ValueError-invalid\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extend_alpha[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extend_drawedges[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extension_inverted_axis[both-expected2-horizontal]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extension_inverted_axis[both-expected2-vertical]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extension_inverted_axis[max-expected1-horizontal]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extension_inverted_axis[max-expected1-vertical]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extension_inverted_axis[min-expected0-horizontal]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extension_inverted_axis[min-expected0-vertical]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extension_length[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_extension_shape[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_format[%4.2e]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_format[{x:.2e}]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_get_ticks\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_get_ticks_2\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_int[clim0]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_int[clim1]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_inverted_ticks\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_label\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_log_minortick_labels\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_lognorm_extension[both]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_lognorm_extension[max]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_lognorm_extension[min]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_minorticks_on_off\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_no_warning_rcparams_grid_true\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_positioning[png-False]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_positioning[png-True]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_powernorm_extension\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_renorm\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_set_formatter_locator\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_single_ax_panchor_east[constrained]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_single_ax_panchor_east[standard]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_single_ax_panchor_false\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_single_scatter[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbar_ticks\", \"lib/matplotlib/tests/test_colorbar.py::test_colorbarbase\", \"lib/matplotlib/tests/test_colorbar.py::test_contour_colorbar[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_gridspec_make_colorbar[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_inset_colorbar_layout\", \"lib/matplotlib/tests/test_colorbar.py::test_keeping_xlabel[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_mappable_2d_alpha\", \"lib/matplotlib/tests/test_colorbar.py::test_mappable_no_alpha\", \"lib/matplotlib/tests/test_colorbar.py::test_negative_boundarynorm\", \"lib/matplotlib/tests/test_colorbar.py::test_offset_text_loc\", \"lib/matplotlib/tests/test_colorbar.py::test_parentless_mappable\", \"lib/matplotlib/tests/test_colorbar.py::test_passing_location[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_proportional_colorbars[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_remove_cb_whose_mappable_has_no_figure[png]\", \"lib/matplotlib/tests/test_colorbar.py::test_remove_from_figure[no\", \"lib/matplotlib/tests/test_colorbar.py::test_remove_from_figure[with\", \"lib/matplotlib/tests/test_colorbar.py::test_remove_from_figure_cl\", \"lib/matplotlib/tests/test_colorbar.py::test_title_text_loc\", \"lib/matplotlib/tests/test_colorbar.py::test_twoslope_colorbar[png]\"]",
  "environment_setup_commit": "0849036fd992a2dd133a0cffc3f84f58ccf1840f",
  "patch_files": [
    "lib/matplotlib/colorbar.py"
  ],
  "test_patch_files": [
    "lib/matplotlib/tests/test_colorbar.py"
  ],
  "patch_diff_details": {
    "lib/matplotlib/colorbar.py": {
      "diffs": [
        {
          "start_line_old": 304,
          "end_line_old": 308,
          "file_pos": 1,
          "file_context_length": 14311,
          "closest_snippet_id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._process_values_Colorbar._process_values.14.self._values.1",
          "closest_snippet_line_distance": 761,
          "pos": 37,
          "context_length": 16627
        },
        {
          "start_line_old": 1104,
          "end_line_old": 1104,
          "file_pos": 1,
          "file_context_length": 14311,
          "closest_snippet_id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._draw_all_Colorbar._draw_all.25.4",
          "closest_snippet_line_distance": 525,
          "pos": 27,
          "context_length": 12116
        }
      ]
    }
  },
  "vectors": 3848,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar.update_normal_Colorbar.draw_all.2",
      "distance": 0.6538045406341553,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 493,
      "end_line": 527,
      "tokens": 310,
      "context_length": 310,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormapnorms.py_1_delta.1",
      "distance": 0.676701009273529,
      "file_path": "galleries/users_explain/colors/colormapnorms.py",
      "start_line": 1,
      "end_line": 95,
      "tokens": 905,
      "context_length": 1215
    },
    {
      "position": 3,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormapnorms.py_pcm_209_MidpointNormalize.inverse.2.1",
      "distance": 0.6806456446647644,
      "file_path": "galleries/users_explain/colors/colormapnorms.py",
      "start_line": 307,
      "end_line": 336,
      "tokens": 316,
      "context_length": 1531
    },
    {
      "position": 4,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/colormap_normalizations.py_1_42",
      "distance": 0.6886776685714722,
      "file_path": "galleries/examples/images_contours_and_fields/colormap_normalizations.py",
      "start_line": 1,
      "end_line": 75,
      "tokens": 733,
      "context_length": 2264
    },
    {
      "position": 5,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormapnorms.py_pcm_152_norm_208.1",
      "distance": 0.705400824546814,
      "file_path": "galleries/users_explain/colors/colormapnorms.py",
      "start_line": 233,
      "end_line": 306,
      "tokens": 761,
      "context_length": 3025
    },
    {
      "position": 6,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormapnorms.py_102_norm_151.1",
      "distance": 0.717979371547699,
      "file_path": "galleries/users_explain/colors/colormapnorms.py",
      "start_line": 173,
      "end_line": 232,
      "tokens": 750,
      "context_length": 3775
    },
    {
      "position": 7,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/colormap_normalizations_symlognorm.py_1_",
      "distance": 0.7394607067108154,
      "file_path": "galleries/examples/images_contours_and_fields/colormap_normalizations_symlognorm.py",
      "start_line": 1,
      "end_line": 86,
      "tokens": 822,
      "context_length": 4597
    },
    {
      "position": 8,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormapnorms.py_x_N_101.1",
      "distance": 0.7758681178092957,
      "file_path": "galleries/users_explain/colors/colormapnorms.py",
      "start_line": 96,
      "end_line": 172,
      "tokens": 833,
      "context_length": 5430
    },
    {
      "position": 9,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/cm.py_ScalarMappable.norm_13_ScalarMappable.norm_13.9.1",
      "distance": 0.7780317068099976,
      "file_path": "lib/matplotlib/cm.py",
      "start_line": 592,
      "end_line": 619,
      "tokens": 209,
      "context_length": 5639
    },
    {
      "position": 10,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/colormap_normalizations.py_56_",
      "distance": 0.7837935090065002,
      "file_path": "galleries/examples/images_contours_and_fields/colormap_normalizations.py",
      "start_line": 107,
      "end_line": 145,
      "tokens": 429,
      "context_length": 6068
    },
    {
      "position": 11,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_PowerNorm.__call___PowerNorm.inverse.4.3.1.1",
      "distance": 0.7867108583450317,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1898,
      "end_line": 1937,
      "tokens": 328,
      "context_length": 6396
    },
    {
      "position": 12,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormapnorms.py_221_",
      "distance": 0.7931378483772278,
      "file_path": "galleries/users_explain/colors/colormapnorms.py",
      "start_line": 339,
      "end_line": 350,
      "tokens": 128,
      "context_length": 6524
    },
    {
      "position": 13,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/cm.py_ScalarMappable.set_norm_ScalarMappable.changed.self.stale.1",
      "distance": 0.7958672642707825,
      "file_path": "lib/matplotlib/cm.py",
      "start_line": 621,
      "end_line": 665,
      "tokens": 319,
      "context_length": 6843
    },
    {
      "position": 14,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/colormap_normalizations.py_53_MidpointNormalize.__call__.3",
      "distance": 0.8062194585800171,
      "file_path": "galleries/examples/images_contours_and_fields/colormap_normalizations.py",
      "start_line": 91,
      "end_line": 104,
      "tokens": 152,
      "context_length": 6995
    },
    {
      "position": 15,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_BoundaryNorm.__call___BoundaryNorm.inverse.2",
      "distance": 0.8235422372817993,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 2015,
      "end_line": 2065,
      "tokens": 547,
      "context_length": 7542
    },
    {
      "position": 16,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/cm.py_26_27",
      "distance": 0.8305954933166504,
      "file_path": "lib/matplotlib/cm.py",
      "start_line": 668,
      "end_line": 695,
      "tokens": 360,
      "context_length": 7902
    },
    {
      "position": 17,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_CenteredNorm.vcenter_9_CenteredNorm.halfrange_11.1.3.self.vmax.1",
      "distance": 0.8367571830749512,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1565,
      "end_line": 1586,
      "tokens": 192,
      "context_length": 8094
    },
    {
      "position": 18,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colorbar_only.py_cmap_48_",
      "distance": 0.8412224054336548,
      "file_path": "galleries/users_explain/colors/colorbar_only.py",
      "start_line": 91,
      "end_line": 134,
      "tokens": 358,
      "context_length": 8452
    },
    {
      "position": 19,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/colormap_normalizations.py_pcm_43_Z_52.1",
      "distance": 0.8509722352027893,
      "file_path": "galleries/examples/images_contours_and_fields/colormap_normalizations.py",
      "start_line": 77,
      "end_line": 89,
      "tokens": 160,
      "context_length": 8612
    },
    {
      "position": 20,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_TwoSlopeNorm.inverse_TwoSlopeNorm.inverse.6.1",
      "distance": 0.853967547416687,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1469,
      "end_line": 1477,
      "tokens": 121,
      "context_length": 8733
    },
    {
      "position": 21,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colorbar_only.py_1_47",
      "distance": 0.8568724393844604,
      "file_path": "galleries/users_explain/colors/colorbar_only.py",
      "start_line": 1,
      "end_line": 89,
      "tokens": 748,
      "context_length": 9481
    },
    {
      "position": 22,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._reset_locator_formatter_scale_Colorbar._reset_locator_formatter_scale.7.6.funcs.2",
      "distance": 0.8632600903511047,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1167,
      "end_line": 1199,
      "tokens": 339,
      "context_length": 9820,
      "file_pos": 7
    },
    {
      "position": 23,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py__make_norm_from_scale.Norm.__call____make_norm_from_scale.Norm.__call__.13.1",
      "distance": 0.8678795099258423,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1690,
      "end_line": 1709,
      "tokens": 281,
      "context_length": 10101
    },
    {
      "position": 24,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py__make_norm_from_scale.Norm.inverse__make_norm_from_scale.6.1",
      "distance": 0.8690742254257202,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1711,
      "end_line": 1744,
      "tokens": 391,
      "context_length": 10492
    },
    {
      "position": 25,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_NoNorm_rgb_to_hsv.26.1",
      "distance": 0.8751938939094543,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 2068,
      "end_line": 2128,
      "tokens": 556,
      "context_length": 11048
    },
    {
      "position": 26,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._draw_all_Colorbar._draw_all.25.4",
      "distance": 0.8805874586105347,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 529,
      "end_line": 579,
      "tokens": 484,
      "context_length": 11532,
      "file_pos": 7
    },
    {
      "position": 27,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._process_values_Colorbar._process_values.14.self._values.1",
      "distance": 0.8810367584228516,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1065,
      "end_line": 1116,
      "tokens": 584,
      "context_length": 12116,
      "file_pos": 7
    },
    {
      "position": 28,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py__make_norm_from_scale.Norm.__init____make_norm_from_scale.Norm.__init__.__signature__.1",
      "distance": 0.8812611103057861,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1676,
      "end_line": 1688,
      "tokens": 184,
      "context_length": 12300
    },
    {
      "position": 29,
      "id": "/tmp/repos/matplotlib/galleries/examples/scales/power_norm.py_1_",
      "distance": 0.8847696185112,
      "file_path": "galleries/examples/scales/power_norm.py",
      "start_line": 1,
      "end_line": 50,
      "tokens": 340,
      "context_length": 12640
    },
    {
      "position": 30,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_PowerNorm_PowerNorm.__init__.self.gamma.1",
      "distance": 0.8864322900772095,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1864,
      "end_line": 1896,
      "tokens": 287,
      "context_length": 12927
    },
    {
      "position": 31,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_TwoSlopeNorm_TwoSlopeNorm.vcenter_3.1.2",
      "distance": 0.8959155678749084,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1385,
      "end_line": 1435,
      "tokens": 474,
      "context_length": 13401
    },
    {
      "position": 32,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/colormap_interactive_adjustment.py_1_",
      "distance": 0.9025874733924866,
      "file_path": "galleries/examples/images_contours_and_fields/colormap_interactive_adjustment.py",
      "start_line": 1,
      "end_line": 34,
      "tokens": 306,
      "context_length": 13707
    },
    {
      "position": 33,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_Normalize_Normalize._changed.2",
      "distance": 0.9036717414855957,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1197,
      "end_line": 1268,
      "tokens": 509,
      "context_length": 14216
    },
    {
      "position": 34,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/cm.py_ScalarMappable.set_clim_ScalarMappable.set_clim.6.self.norm.vmax.1",
      "distance": 0.9041392803192139,
      "file_path": "lib/matplotlib/cm.py",
      "start_line": 538,
      "end_line": 562,
      "tokens": 182,
      "context_length": 14398
    },
    {
      "position": 35,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_CenteredNorm_CenteredNorm.vcenter.1.1",
      "distance": 0.9048255085945129,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1480,
      "end_line": 1563,
      "tokens": 753,
      "context_length": 15151
    },
    {
      "position": 36,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_AsinhNorm_AsinhNorm.linear_width_3.self._scale.linear_width.1",
      "distance": 0.9077332019805908,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1832,
      "end_line": 1861,
      "tokens": 208,
      "context_length": 15359
    },
    {
      "position": 37,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar.__init___Colorbar.__init__.self._extend_cid2.1",
      "distance": 0.9140303134918213,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 281,
      "end_line": 441,
      "tokens": 1268,
      "context_length": 16627,
      "file_pos": 9
    },
    {
      "position": 38,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_BoundaryNorm_BoundaryNorm.__init__.16.1",
      "distance": 0.9177677631378174,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1940,
      "end_line": 2013,
      "tokens": 766,
      "context_length": 17393
    },
    {
      "position": 39,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py__make_norm_from_scale.Norm__make_norm_from_scale.Norm.__reduce__.9.1",
      "distance": 0.924980878829956,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1656,
      "end_line": 1674,
      "tokens": 236,
      "context_length": 17629
    },
    {
      "position": 40,
      "id": "/tmp/repos/matplotlib/galleries/examples/color/colorbar_basics.py_1_",
      "distance": 0.9274115562438965,
      "file_path": "galleries/examples/color/colorbar_basics.py",
      "start_line": 1,
      "end_line": 59,
      "tokens": 506,
      "context_length": 18135
    },
    {
      "position": 41,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar_Colorbar.3",
      "distance": 0.9304879903793335,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 195,
      "end_line": 279,
      "tokens": 796,
      "context_length": 18931,
      "file_pos": 10
    },
    {
      "position": 42,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/axes/colorbar_placement.py_1_cmaps_40.1",
      "distance": 0.9337964653968811,
      "file_path": "galleries/users_explain/axes/colorbar_placement.py",
      "start_line": 1,
      "end_line": 85,
      "tokens": 764,
      "context_length": 19695
    },
    {
      "position": 43,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/pyplot.py_120_colorbar.3.1",
      "distance": 0.9338357448577881,
      "file_path": "lib/matplotlib/pyplot.py",
      "start_line": 2124,
      "end_line": 2137,
      "tokens": 138,
      "context_length": 19833
    },
    {
      "position": 44,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_Normalize.inverse_Normalize.scaled.2.1",
      "distance": 0.9370492100715637,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1351,
      "end_line": 1382,
      "tokens": 292,
      "context_length": 20125
    },
    {
      "position": 45,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/cm.py_ScalarMappable._scale_norm_ScalarMappable._scale_norm.5",
      "distance": 0.9388751983642578,
      "file_path": "lib/matplotlib/cm.py",
      "start_line": 404,
      "end_line": 424,
      "tokens": 191,
      "context_length": 20316
    },
    {
      "position": 46,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py__create_empty_object_of_class_LogNorm.__doc__.1",
      "distance": 0.9445955753326416,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1747,
      "end_line": 1791,
      "tokens": 382,
      "context_length": 20698
    },
    {
      "position": 47,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._update_dividers_Colorbar._update_dividers.10",
      "distance": 0.9460397958755493,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 603,
      "end_line": 625,
      "tokens": 246,
      "context_length": 20944,
      "file_pos": 12
    },
    {
      "position": 48,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_Normalize.__call___Normalize.__call__.10.1",
      "distance": 0.9462121725082397,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1305,
      "end_line": 1349,
      "tokens": 377,
      "context_length": 21321
    },
    {
      "position": 49,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/cm.py__auto_norm_from_scale__auto_norm_from_scale.5.1",
      "distance": 0.9472019672393799,
      "file_path": "lib/matplotlib/cm.py",
      "start_line": 345,
      "end_line": 370,
      "tokens": 245,
      "context_length": 21566
    },
    {
      "position": 50,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._set_view_from_bbox_ColorbarBase.1",
      "distance": 0.9518473744392395,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1330,
      "end_line": 1351,
      "tokens": 248,
      "context_length": 21814,
      "file_pos": 12
    },
    {
      "position": 51,
      "id": "/tmp/repos/matplotlib/galleries/examples/specialty_plots/advanced_hillshading.py_avoid_outliers_avoid_outliers.15",
      "distance": 0.9554591178894043,
      "file_path": "galleries/examples/specialty_plots/advanced_hillshading.py",
      "start_line": 34,
      "end_line": 54,
      "tokens": 231,
      "context_length": 22045
    },
    {
      "position": 52,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormaps.py_78_114",
      "distance": 0.9626643657684326,
      "file_path": "galleries/users_explain/colors/colormaps.py",
      "start_line": 207,
      "end_line": 264,
      "tokens": 655,
      "context_length": 22700
    },
    {
      "position": 53,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._forward_boundaries_Colorbar._inverse_boundaries.b.2.1",
      "distance": 0.9711509346961975,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1150,
      "end_line": 1165,
      "tokens": 191,
      "context_length": 22891,
      "file_pos": 14
    },
    {
      "position": 54,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/pcolor_demo.py_1_Z1.1",
      "distance": 0.9713765382766724,
      "file_path": "galleries/examples/images_contours_and_fields/pcolor_demo.py",
      "start_line": 1,
      "end_line": 97,
      "tokens": 793,
      "context_length": 23684
    },
    {
      "position": 55,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormaps.py_157_",
      "distance": 0.9752114415168762,
      "file_path": "galleries/users_explain/colors/colormaps.py",
      "start_line": 408,
      "end_line": 439,
      "tokens": 435,
      "context_length": 24119
    },
    {
      "position": 56,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/image.py__ImageBase._make_image.17__ImageBase._make_image.17.2.a_min.87.output.1",
      "distance": 0.9761216640472412,
      "file_path": "lib/matplotlib/image.py",
      "start_line": 420,
      "end_line": 552,
      "tokens": 1709,
      "context_length": 25828
    },
    {
      "position": 57,
      "id": "/tmp/repos/matplotlib/galleries/examples/color/custom_cmap.py_np_cdict2.1",
      "distance": 0.9767309427261353,
      "file_path": "galleries/examples/color/custom_cmap.py",
      "start_line": 99,
      "end_line": 166,
      "tokens": 637,
      "context_length": 26465
    },
    {
      "position": 58,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_SymLogNorm_SymLogNorm.linthresh_3.self._scale.linthresh.1",
      "distance": 0.9770587086677551,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1794,
      "end_line": 1829,
      "tokens": 330,
      "context_length": 26795
    },
    {
      "position": 59,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_1__log.1",
      "distance": 0.9790001511573792,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1,
      "end_line": 27,
      "tokens": 206,
      "context_length": 27001,
      "file_pos": 17
    },
    {
      "position": 60,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_Colormap.__copy___Colormap._init.2",
      "distance": 0.9794285297393799,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 752,
      "end_line": 842,
      "tokens": 772,
      "context_length": 27773
    },
    {
      "position": 61,
      "id": "/tmp/repos/matplotlib/galleries/examples/color/custom_cmap.py_57_",
      "distance": 0.9816710948944092,
      "file_path": "galleries/examples/color/custom_cmap.py",
      "start_line": 242,
      "end_line": 283,
      "tokens": 381,
      "context_length": 28154
    },
    {
      "position": 62,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormaps.py_x_153_plot_color_gradients_156.7",
      "distance": 0.9837331771850586,
      "file_path": "galleries/users_explain/colors/colormaps.py",
      "start_line": 372,
      "end_line": 405,
      "tokens": 387,
      "context_length": 28541
    },
    {
      "position": 63,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_TwoSlopeNorm.__call___TwoSlopeNorm.__call__.9.1",
      "distance": 0.9875434637069702,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1451,
      "end_line": 1467,
      "tokens": 200,
      "context_length": 28741
    },
    {
      "position": 64,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_from_levels_and_colors_",
      "distance": 0.9877837896347046,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 2639,
      "end_line": 2694,
      "tokens": 490,
      "context_length": 29231
    },
    {
      "position": 65,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormaps.py_115_152",
      "distance": 0.9917891025543213,
      "file_path": "galleries/users_explain/colors/colormaps.py",
      "start_line": 265,
      "end_line": 371,
      "tokens": 1204,
      "context_length": 30435
    },
    {
      "position": 66,
      "id": "/tmp/repos/matplotlib/galleries/examples/specialty_plots/leftventricle_bullseye.py_6_",
      "distance": 0.9951126575469971,
      "file_path": "galleries/examples/specialty_plots/leftventricle_bullseye.py",
      "start_line": 94,
      "end_line": 155,
      "tokens": 697,
      "context_length": 31132
    },
    {
      "position": 67,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._do_extends.21_Colorbar._do_extends.22",
      "distance": 0.9977003931999207,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 714,
      "end_line": 738,
      "tokens": 283,
      "context_length": 31415,
      "file_pos": 18
    },
    {
      "position": 68,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormaps.py_gradient_plot_color_gradients.nrows.10",
      "distance": 1.0024349689483643,
      "file_path": "galleries/users_explain/colors/colormaps.py",
      "start_line": 98,
      "end_line": 121,
      "tokens": 286,
      "context_length": 31701
    },
    {
      "position": 69,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_13_13",
      "distance": 1.0026535987854004,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 29,
      "end_line": 114,
      "tokens": 961,
      "context_length": 32662,
      "file_pos": 18
    },
    {
      "position": 70,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._extend_lower_Colorbar._set_view.3",
      "distance": 1.0027847290039062,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1298,
      "end_line": 1328,
      "tokens": 267,
      "context_length": 32929,
      "file_pos": 18
    },
    {
      "position": 71,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_19__get_ticklocation_from_orientation.1.1",
      "distance": 1.0035263299942017,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1351,
      "end_line": 1383,
      "tokens": 385,
      "context_length": 33314,
      "file_pos": 18
    },
    {
      "position": 72,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormaps.py_1_cmaps.1",
      "distance": 1.007761836051941,
      "file_path": "galleries/users_explain/colors/colormaps.py",
      "start_line": 1,
      "end_line": 96,
      "tokens": 778,
      "context_length": 34092
    },
    {
      "position": 73,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/contourf_log.py_1_",
      "distance": 1.007846474647522,
      "file_path": "galleries/examples/images_contours_and_fields/contourf_log.py",
      "start_line": 1,
      "end_line": 63,
      "tokens": 494,
      "context_length": 34586
    },
    {
      "position": 74,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/pcolor_demo.py_Z2_",
      "distance": 1.0106654167175293,
      "file_path": "galleries/examples/images_contours_and_fields/pcolor_demo.py",
      "start_line": 98,
      "end_line": 125,
      "tokens": 257,
      "context_length": 34843
    },
    {
      "position": 75,
      "id": "/tmp/repos/matplotlib/galleries/examples/color/custom_cmap.py_cdict3_im3.1",
      "distance": 1.012794017791748,
      "file_path": "galleries/examples/color/custom_cmap.py",
      "start_line": 168,
      "end_line": 241,
      "tokens": 740,
      "context_length": 35583
    },
    {
      "position": 76,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/image.py_NonUniformImage.set_array_NonUniformImage.set_cmap.2",
      "distance": 1.0150145292282104,
      "file_path": "lib/matplotlib/image.py",
      "start_line": 1172,
      "end_line": 1206,
      "tokens": 257,
      "context_length": 35840
    },
    {
      "position": 77,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/cm.py_ScalarMappable.get_alpha_ScalarMappable.norm.1.1",
      "distance": 1.0174479484558105,
      "file_path": "lib/matplotlib/cm.py",
      "start_line": 564,
      "end_line": 590,
      "tokens": 144,
      "context_length": 35984
    },
    {
      "position": 78,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/figure.py_FigureBase.colorbar.4_FigureBase.colorbar.8.1",
      "distance": 1.0182687044143677,
      "file_path": "lib/matplotlib/figure.py",
      "start_line": 1264,
      "end_line": 1289,
      "tokens": 358,
      "context_length": 36342
    },
    {
      "position": 79,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormap-manipulation.py_1_36",
      "distance": 1.019634485244751,
      "file_path": "galleries/users_explain/colors/colormap-manipulation.py",
      "start_line": 1,
      "end_line": 83,
      "tokens": 736,
      "context_length": 37078
    },
    {
      "position": 80,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/axes/colorbar_placement.py_41_",
      "distance": 1.021362066268921,
      "file_path": "galleries/users_explain/axes/colorbar_placement.py",
      "start_line": 86,
      "end_line": 100,
      "tokens": 131,
      "context_length": 37209
    },
    {
      "position": 81,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._add_solids_patches_Colorbar._add_solids_patches.self.solids_patches.1",
      "distance": 1.0216645002365112,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 627,
      "end_line": 644,
      "tokens": 234,
      "context_length": 37443,
      "file_pos": 21
    },
    {
      "position": 82,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._locate_Colorbar._uniform_y.5.1",
      "distance": 1.0219159126281738,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1201,
      "end_line": 1233,
      "tokens": 259,
      "context_length": 37702,
      "file_pos": 21
    },
    {
      "position": 83,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/pcolormesh_levels.py_1_68",
      "distance": 1.0222408771514893,
      "file_path": "galleries/examples/images_contours_and_fields/pcolormesh_levels.py",
      "start_line": 1,
      "end_line": 85,
      "tokens": 793,
      "context_length": 38495
    },
    {
      "position": 84,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_make_norm_from_scale_make_norm_from_scale.5.1",
      "distance": 1.022862434387207,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1589,
      "end_line": 1635,
      "tokens": 457,
      "context_length": 38952
    },
    {
      "position": 85,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_Normalize.process_value_Normalize.process_value.11.1",
      "distance": 1.0239837169647217,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1270,
      "end_line": 1303,
      "tokens": 291,
      "context_length": 39243
    },
    {
      "position": 86,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormap-manipulation.py_113_177",
      "distance": 1.0273234844207764,
      "file_path": "galleries/users_explain/colors/colormap-manipulation.py",
      "start_line": 214,
      "end_line": 293,
      "tokens": 847,
      "context_length": 40090
    },
    {
      "position": 87,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormap-manipulation.py_178_",
      "distance": 1.0283926725387573,
      "file_path": "galleries/users_explain/colors/colormap-manipulation.py",
      "start_line": 294,
      "end_line": 319,
      "tokens": 176,
      "context_length": 40266
    },
    {
      "position": 88,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormaps.py_15_77",
      "distance": 1.0293022394180298,
      "file_path": "galleries/users_explain/colors/colormaps.py",
      "start_line": 124,
      "end_line": 205,
      "tokens": 1051,
      "context_length": 41317
    },
    {
      "position": 89,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py__make_norm_from_scale__make_norm_from_scale.1",
      "distance": 1.0295300483703613,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1638,
      "end_line": 1654,
      "tokens": 163,
      "context_length": 41480
    },
    {
      "position": 90,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormap-manipulation.py_49_110",
      "distance": 1.031090259552002,
      "file_path": "galleries/users_explain/colors/colormap-manipulation.py",
      "start_line": 113,
      "end_line": 187,
      "tokens": 794,
      "context_length": 42274
    },
    {
      "position": 91,
      "id": "/tmp/repos/matplotlib/galleries/examples/ticks/colorbar_tick_labelling_demo.py_1_",
      "distance": 1.0349905490875244,
      "file_path": "galleries/examples/ticks/colorbar_tick_labelling_demo.py",
      "start_line": 1,
      "end_line": 48,
      "tokens": 305,
      "context_length": 42579
    },
    {
      "position": 92,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/quick_start.py_438_513",
      "distance": 1.0389231443405151,
      "file_path": "galleries/users_explain/quick_start.py",
      "start_line": 489,
      "end_line": 575,
      "tokens": 1016,
      "context_length": 43595
    },
    {
      "position": 93,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py__YlOrRd_data__Accent_data.1",
      "distance": 1.0391240119934082,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 843,
      "end_line": 868,
      "tokens": 522,
      "context_length": 44117
    },
    {
      "position": 94,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/cm.py_ScalarMappable_ScalarMappable.__init__.self.callbacks.1",
      "distance": 1.0418659448623657,
      "file_path": "lib/matplotlib/cm.py",
      "start_line": 373,
      "end_line": 402,
      "tokens": 294,
      "context_length": 44411
    },
    {
      "position": 95,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_LinearSegmentedColormap._init_LinearSegmentedColormap.set_gamma.3",
      "distance": 1.0517113208770752,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 998,
      "end_line": 1015,
      "tokens": 216,
      "context_length": 44627
    },
    {
      "position": 96,
      "id": "/tmp/repos/matplotlib/galleries/examples/animation/bayes_update.py_UpdateDist.__call___",
      "distance": 1.0518808364868164,
      "file_path": "galleries/examples/animation/bayes_update.py",
      "start_line": 44,
      "end_line": 67,
      "tokens": 193,
      "context_length": 44820
    },
    {
      "position": 97,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/pcolormesh_levels.py_z_",
      "distance": 1.0519015789031982,
      "file_path": "galleries/examples/images_contours_and_fields/pcolormesh_levels.py",
      "start_line": 87,
      "end_line": 133,
      "tokens": 417,
      "context_length": 45237
    },
    {
      "position": 98,
      "id": "/tmp/repos/matplotlib/galleries/examples/lines_bars_and_markers/multicolored_line.py_1_",
      "distance": 1.0525964498519897,
      "file_path": "galleries/examples/lines_bars_and_markers/multicolored_line.py",
      "start_line": 1,
      "end_line": 50,
      "tokens": 460,
      "context_length": 45697
    },
    {
      "position": 99,
      "id": "/tmp/repos/matplotlib/galleries/examples/images_contours_and_fields/image_masked.py_1_",
      "distance": 1.052626609802246,
      "file_path": "galleries/examples/images_contours_and_fields/image_masked.py",
      "start_line": 1,
      "end_line": 83,
      "tokens": 739,
      "context_length": 46436
    },
    {
      "position": 100,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_TwoSlopeNorm.autoscale_None_TwoSlopeNorm.autoscale_None.4.self.vmax.1",
      "distance": 1.0526928901672363,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 1437,
      "end_line": 1449,
      "tokens": 135,
      "context_length": 46571
    },
    {
      "position": 101,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar._proportional_y_Colorbar._proportional_y.16.1",
      "distance": 1.0550565719604492,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1235,
      "end_line": 1271,
      "tokens": 414,
      "context_length": 46985,
      "file_pos": 28
    },
    {
      "position": 102,
      "id": "/tmp/repos/matplotlib/galleries/examples/axes_grid1/simple_colorbar.py_1_",
      "distance": 1.0557940006256104,
      "file_path": "galleries/examples/axes_grid1/simple_colorbar.py",
      "start_line": 1,
      "end_line": 23,
      "tokens": 135,
      "context_length": 47120
    },
    {
      "position": 103,
      "id": "/tmp/repos/matplotlib/galleries/examples/color/colormap_reference.py_plot_color_gradients_plot_color_gradients.nrows.8.1",
      "distance": 1.0594139099121094,
      "file_path": "galleries/examples/color/colormap_reference.py",
      "start_line": 48,
      "end_line": 64,
      "tokens": 233,
      "context_length": 47353
    },
    {
      "position": 104,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colors.py_LightSource.shade.2_LightSource.shade.9.1",
      "distance": 1.0609016418457031,
      "file_path": "lib/matplotlib/colors.py",
      "start_line": 2438,
      "end_line": 2451,
      "tokens": 175,
      "context_length": 47528
    },
    {
      "position": 105,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py_1__flag_data.1",
      "distance": 1.0695115327835083,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 1,
      "end_line": 49,
      "tokens": 726,
      "context_length": 48254
    },
    {
      "position": 106,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar.remove_Colorbar.remove.11.4.2",
      "distance": 1.0696370601654053,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 1028,
      "end_line": 1063,
      "tokens": 263,
      "context_length": 48517,
      "file_pos": 30
    },
    {
      "position": 107,
      "id": "/tmp/repos/matplotlib/galleries/users_explain/colors/colormap-manipulation.py_plot_linearmap_plot_linearmap.9",
      "distance": 1.0700709819793701,
      "file_path": "galleries/users_explain/colors/colormap-manipulation.py",
      "start_line": 201,
      "end_line": 212,
      "tokens": 160,
      "context_length": 48677
    },
    {
      "position": 108,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/_cm.py_145__CMRmap_data.1",
      "distance": 1.0715878009796143,
      "file_path": "lib/matplotlib/_cm.py",
      "start_line": 1213,
      "end_line": 1243,
      "tokens": 510,
      "context_length": 49187
    },
    {
      "position": 109,
      "id": "/tmp/repos/matplotlib/galleries/examples/animation/bayes_update.py_UpdateDist_UpdateDist.__init__.12",
      "distance": 1.0744099617004395,
      "file_path": "galleries/examples/animation/bayes_update.py",
      "start_line": 27,
      "end_line": 42,
      "tokens": 138,
      "context_length": 49325
    },
    {
      "position": 110,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py__set_ticks_on_axis_warn__ColorbarSpine.draw.3.1",
      "distance": 1.0749096870422363,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 117,
      "end_line": 143,
      "tokens": 254,
      "context_length": 49579,
      "file_pos": 30
    },
    {
      "position": 111,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/colorbar.py_Colorbar.update_ticks_Colorbar._get_ticker_locator_formatter.11",
      "distance": 1.0765864849090576,
      "file_path": "lib/matplotlib/colorbar.py",
      "start_line": 820,
      "end_line": 876,
      "tokens": 498,
      "context_length": 50077,
      "file_pos": 30
    },
    {
      "position": 112,
      "id": "/tmp/repos/matplotlib/lib/matplotlib/collections.py_Collection.update_scalarmappable_Collection.update_scalarmappable.self.stale.1",
      "distance": 1.077312707901001,
      "file_path": "lib/matplotlib/collections.py",
      "start_line": 875,
      "end_line": 911,
      "tokens": 450,
      "context_length": 50527
    }
  ],
  "files": [
    {
      "file_path": "lib/matplotlib/colorbar.py",
      "position": 1,
      "tokens": 14311,
      "context_length": 14311
    },
    {
      "file_path": "galleries/users_explain/colors/colormapnorms.py",
      "position": 2,
      "tokens": 3695,
      "context_length": 18006
    },
    {
      "file_path": "galleries/examples/images_contours_and_fields/colormap_normalizations.py",
      "position": 3,
      "tokens": 1475,
      "context_length": 19481
    },
    {
      "file_path": "galleries/examples/images_contours_and_fields/colormap_normalizations_symlognorm.py",
      "position": 4,
      "tokens": 822,
      "context_length": 20303
    },
    {
      "file_path": "lib/matplotlib/cm.py",
      "position": 5,
      "tokens": 5665,
      "context_length": 25968
    },
    {
      "file_path": "lib/matplotlib/colors.py",
      "position": 6,
      "tokens": 24109,
      "context_length": 50077
    },
    {
      "file_path": "galleries/users_explain/colors/colorbar_only.py",
      "position": 7,
      "tokens": 1106,
      "context_length": 51183
    },
    {
      "file_path": "galleries/examples/scales/power_norm.py",
      "position": 8,
      "tokens": 340,
      "context_length": 51523
    },
    {
      "file_path": "galleries/examples/images_contours_and_fields/colormap_interactive_adjustment.py",
      "position": 9,
      "tokens": 306,
      "context_length": 51829
    },
    {
      "file_path": "galleries/examples/color/colorbar_basics.py",
      "position": 10,
      "tokens": 506,
      "context_length": 52335
    },
    {
      "file_path": "galleries/users_explain/axes/colorbar_placement.py",
      "position": 11,
      "tokens": 895,
      "context_length": 53230
    },
    {
      "file_path": "lib/matplotlib/pyplot.py",
      "position": 12,
      "tokens": 28696,
      "context_length": 81926
    },
    {
      "file_path": "galleries/examples/specialty_plots/advanced_hillshading.py",
      "position": 13,
      "tokens": 610,
      "context_length": 82536
    },
    {
      "file_path": "galleries/users_explain/colors/colormaps.py",
      "position": 14,
      "tokens": 4799,
      "context_length": 87335
    },
    {
      "file_path": "galleries/examples/images_contours_and_fields/pcolor_demo.py",
      "position": 15,
      "tokens": 1050,
      "context_length": 88385
    },
    {
      "file_path": "lib/matplotlib/image.py",
      "position": 16,
      "tokens": 17244,
      "context_length": 105629
    },
    {
      "file_path": "galleries/examples/color/custom_cmap.py",
      "position": 17,
      "tokens": 2878,
      "context_length": 108507
    },
    {
      "file_path": "galleries/examples/specialty_plots/leftventricle_bullseye.py",
      "position": 18,
      "tokens": 1605,
      "context_length": 110112
    },
    {
      "file_path": "galleries/examples/images_contours_and_fields/contourf_log.py",
      "position": 19,
      "tokens": 494,
      "context_length": 110606
    },
    {
      "file_path": "lib/matplotlib/figure.py",
      "position": 20,
      "tokens": 29488,
      "context_length": 140094
    },
    {
      "file_path": "galleries/users_explain/colors/colormap-manipulation.py",
      "position": 21,
      "tokens": 3135,
      "context_length": 143229
    },
    {
      "file_path": "galleries/examples/images_contours_and_fields/pcolormesh_levels.py",
      "position": 22,
      "tokens": 1210,
      "context_length": 144439
    },
    {
      "file_path": "galleries/examples/ticks/colorbar_tick_labelling_demo.py",
      "position": 23,
      "tokens": 305,
      "context_length": 144744
    },
    {
      "file_path": "galleries/users_explain/quick_start.py",
      "position": 24,
      "tokens": 6007,
      "context_length": 150751
    },
    {
      "file_path": "lib/matplotlib/_cm.py",
      "position": 25,
      "tokens": 28443,
      "context_length": 179194
    },
    {
      "file_path": "galleries/examples/animation/bayes_update.py",
      "position": 26,
      "tokens": 451,
      "context_length": 179645
    },
    {
      "file_path": "galleries/examples/lines_bars_and_markers/multicolored_line.py",
      "position": 27,
      "tokens": 460,
      "context_length": 180105
    },
    {
      "file_path": "galleries/examples/images_contours_and_fields/image_masked.py",
      "position": 28,
      "tokens": 739,
      "context_length": 180844
    },
    {
      "file_path": "galleries/examples/axes_grid1/simple_colorbar.py",
      "position": 29,
      "tokens": 135,
      "context_length": 180979
    },
    {
      "file_path": "galleries/examples/color/colormap_reference.py",
      "position": 30,
      "tokens": 992,
      "context_length": 181971
    },
    {
      "file_path": "lib/matplotlib/collections.py",
      "position": 31,
      "tokens": 18241,
      "context_length": 200212
    }
  ]
}