{
  "instance_id": "pydata__xarray-5126",
  "model_patch": "diff --git a/xarray/core/dataset.py b/xarray/core/dataset.py\nindex 223e21a8..56d833eb 100644\n--- a/xarray/core/dataset.py\n+++ b/xarray/core/dataset.py\n@@ -1877,6 +1877,8 @@ class Dataset(DataWithCoords, DatasetArithmetic, Mapping):\n     def _repr_html_(self):\n         if OPTIONS[\"display_style\"] == \"text\":\n             return f\"<pre>{escape(repr(self))}</pre>\"\n+        if OPTIONS[\"html_collapse\"]:\n+            return f\"<details><summary>Dataset</summary>{formatting_html.dataset_repr(self)}</details>\"\n         return formatting_html.dataset_repr(self)\n \n     def info(self, buf=None) -> None:\ndiff --git a/xarray/core/options.py b/xarray/core/options.py\nindex 12969890..16d3be66 100644\n--- a/xarray/core/options.py\n+++ b/xarray/core/options.py\n@@ -23,10 +23,11 @@ OPTIONS = {\n     FILE_CACHE_MAXSIZE: 128,\n     KEEP_ATTRS: \"default\",\n     WARN_FOR_UNCLOSED_FILES: False,\n+    HTML_COLLAPSE: False,\n }\n \n _JOIN_OPTIONS = frozenset([\"inner\", \"outer\", \"left\", \"right\", \"exact\"])\n-_DISPLAY_OPTIONS = frozenset([\"text\", \"html\"])\n+_DISPLAY_OPTIONS = frozenset([\"text\", \"html\", HTML_COLLAPSE])\n \n \n def _positive_integer(value):\n@@ -42,6 +43,7 @@ _VALIDATORS = {\n     FILE_CACHE_MAXSIZE: _positive_integer,\n     KEEP_ATTRS: lambda choice: choice in [True, False, \"default\"],\n     WARN_FOR_UNCLOSED_FILES: lambda value: isinstance(value, bool),\n+    HTML_COLLAPSE: lambda value: isinstance(value, bool),\n }\n \n \n@@ -108,6 +110,8 @@ class set_options:\n       Default: ``'default'``.\n     - ``display_style``: display style to use in jupyter for xarray objects.\n       Default: ``'text'``. Other options are ``'html'``.\n+    - ``html_collapse``: whether to collapse the HTML display of xarray objects.\n+      Default: ``False``.\n \n \n     You can use ``set_options`` either as a context manager:\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "xarray/core/dataset.py",
    "xarray/core/options.py"
  ],
  "repo": "pydata/xarray",
  "base_commit": "6bfbaede69eb73810cb63672a8161bd1fc147594",
  "patch": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -11,7 +11,7 @@\n from pandas.errors import OutOfBoundsDatetime\n \n from .duck_array_ops import array_equiv\n-from .options import OPTIONS\n+from .options import OPTIONS, _get_boolean_with_default\n from .pycompat import dask_array_type, sparse_array_type\n from .utils import is_duck_array\n \n@@ -371,7 +371,9 @@ def _calculate_col_width(col_items):\n     return col_width\n \n \n-def _mapping_repr(mapping, title, summarizer, col_width=None, max_rows=None):\n+def _mapping_repr(\n+    mapping, title, summarizer, expand_option_name, col_width=None, max_rows=None\n+):\n     if col_width is None:\n         col_width = _calculate_col_width(mapping)\n     if max_rows is None:\n@@ -379,7 +381,9 @@ def _mapping_repr(mapping, title, summarizer, col_width=None, max_rows=None):\n     summary = [f\"{title}:\"]\n     if mapping:\n         len_mapping = len(mapping)\n-        if len_mapping > max_rows:\n+        if not _get_boolean_with_default(expand_option_name, default=True):\n+            summary = [f\"{summary[0]} ({len_mapping})\"]\n+        elif len_mapping > max_rows:\n             summary = [f\"{summary[0]} ({max_rows}/{len_mapping})\"]\n             first_rows = max_rows // 2 + max_rows % 2\n             items = list(mapping.items())\n@@ -396,12 +400,18 @@ def _mapping_repr(mapping, title, summarizer, col_width=None, max_rows=None):\n \n \n data_vars_repr = functools.partial(\n-    _mapping_repr, title=\"Data variables\", summarizer=summarize_datavar\n+    _mapping_repr,\n+    title=\"Data variables\",\n+    summarizer=summarize_datavar,\n+    expand_option_name=\"display_expand_data_vars\",\n )\n \n \n attrs_repr = functools.partial(\n-    _mapping_repr, title=\"Attributes\", summarizer=summarize_attr\n+    _mapping_repr,\n+    title=\"Attributes\",\n+    summarizer=summarize_attr,\n+    expand_option_name=\"display_expand_attrs\",\n )\n \n \n@@ -409,7 +419,11 @@ def coords_repr(coords, col_width=None):\n     if col_width is None:\n         col_width = _calculate_col_width(_get_col_items(coords))\n     return _mapping_repr(\n-        coords, title=\"Coordinates\", summarizer=summarize_coord, col_width=col_width\n+        coords,\n+        title=\"Coordinates\",\n+        summarizer=summarize_coord,\n+        expand_option_name=\"display_expand_coords\",\n+        col_width=col_width,\n     )\n \n \n@@ -493,9 +507,14 @@ def array_repr(arr):\n     else:\n         name_str = \"\"\n \n+    if _get_boolean_with_default(\"display_expand_data\", default=True):\n+        data_repr = short_data_repr(arr)\n+    else:\n+        data_repr = inline_variable_array_repr(arr, OPTIONS[\"display_width\"])\n+\n     summary = [\n         \"<xarray.{} {}({})>\".format(type(arr).__name__, name_str, dim_summary(arr)),\n-        short_data_repr(arr),\n+        data_repr,\n     ]\n \n     if hasattr(arr, \"coords\"):\ndiff --git a/xarray/core/formatting_html.py b/xarray/core/formatting_html.py\n--- a/xarray/core/formatting_html.py\n+++ b/xarray/core/formatting_html.py\n@@ -6,6 +6,7 @@\n import pkg_resources\n \n from .formatting import inline_variable_array_repr, short_data_repr\n+from .options import _get_boolean_with_default\n \n STATIC_FILES = (\"static/html/icons-svg-inline.html\", \"static/css/style.css\")\n \n@@ -164,9 +165,14 @@ def collapsible_section(\n     )\n \n \n-def _mapping_section(mapping, name, details_func, max_items_collapse, enabled=True):\n+def _mapping_section(\n+    mapping, name, details_func, max_items_collapse, expand_option_name, enabled=True\n+):\n     n_items = len(mapping)\n-    collapsed = n_items >= max_items_collapse\n+    expanded = _get_boolean_with_default(\n+        expand_option_name, n_items < max_items_collapse\n+    )\n+    collapsed = not expanded\n \n     return collapsible_section(\n         name,\n@@ -188,7 +194,11 @@ def dim_section(obj):\n def array_section(obj):\n     # \"unique\" id to expand/collapse the section\n     data_id = \"section-\" + str(uuid.uuid4())\n-    collapsed = \"checked\"\n+    collapsed = (\n+        \"checked\"\n+        if _get_boolean_with_default(\"display_expand_data\", default=True)\n+        else \"\"\n+    )\n     variable = getattr(obj, \"variable\", obj)\n     preview = escape(inline_variable_array_repr(variable, max_width=70))\n     data_repr = short_data_repr_html(obj)\n@@ -209,6 +219,7 @@ def array_section(obj):\n     name=\"Coordinates\",\n     details_func=summarize_coords,\n     max_items_collapse=25,\n+    expand_option_name=\"display_expand_coords\",\n )\n \n \n@@ -217,6 +228,7 @@ def array_section(obj):\n     name=\"Data variables\",\n     details_func=summarize_vars,\n     max_items_collapse=15,\n+    expand_option_name=\"display_expand_data_vars\",\n )\n \n \n@@ -225,6 +237,7 @@ def array_section(obj):\n     name=\"Attributes\",\n     details_func=summarize_attrs,\n     max_items_collapse=10,\n+    expand_option_name=\"display_expand_attrs\",\n )\n \n \ndiff --git a/xarray/core/options.py b/xarray/core/options.py\n--- a/xarray/core/options.py\n+++ b/xarray/core/options.py\n@@ -6,6 +6,10 @@\n DISPLAY_MAX_ROWS = \"display_max_rows\"\n DISPLAY_STYLE = \"display_style\"\n DISPLAY_WIDTH = \"display_width\"\n+DISPLAY_EXPAND_ATTRS = \"display_expand_attrs\"\n+DISPLAY_EXPAND_COORDS = \"display_expand_coords\"\n+DISPLAY_EXPAND_DATA_VARS = \"display_expand_data_vars\"\n+DISPLAY_EXPAND_DATA = \"display_expand_data\"\n ENABLE_CFTIMEINDEX = \"enable_cftimeindex\"\n FILE_CACHE_MAXSIZE = \"file_cache_maxsize\"\n KEEP_ATTRS = \"keep_attrs\"\n@@ -19,6 +23,10 @@\n     DISPLAY_MAX_ROWS: 12,\n     DISPLAY_STYLE: \"html\",\n     DISPLAY_WIDTH: 80,\n+    DISPLAY_EXPAND_ATTRS: \"default\",\n+    DISPLAY_EXPAND_COORDS: \"default\",\n+    DISPLAY_EXPAND_DATA_VARS: \"default\",\n+    DISPLAY_EXPAND_DATA: \"default\",\n     ENABLE_CFTIMEINDEX: True,\n     FILE_CACHE_MAXSIZE: 128,\n     KEEP_ATTRS: \"default\",\n@@ -38,6 +46,10 @@ def _positive_integer(value):\n     DISPLAY_MAX_ROWS: _positive_integer,\n     DISPLAY_STYLE: _DISPLAY_OPTIONS.__contains__,\n     DISPLAY_WIDTH: _positive_integer,\n+    DISPLAY_EXPAND_ATTRS: lambda choice: choice in [True, False, \"default\"],\n+    DISPLAY_EXPAND_COORDS: lambda choice: choice in [True, False, \"default\"],\n+    DISPLAY_EXPAND_DATA_VARS: lambda choice: choice in [True, False, \"default\"],\n+    DISPLAY_EXPAND_DATA: lambda choice: choice in [True, False, \"default\"],\n     ENABLE_CFTIMEINDEX: lambda value: isinstance(value, bool),\n     FILE_CACHE_MAXSIZE: _positive_integer,\n     KEEP_ATTRS: lambda choice: choice in [True, False, \"default\"],\n@@ -65,8 +77,8 @@ def _warn_on_setting_enable_cftimeindex(enable_cftimeindex):\n }\n \n \n-def _get_keep_attrs(default):\n-    global_choice = OPTIONS[\"keep_attrs\"]\n+def _get_boolean_with_default(option, default):\n+    global_choice = OPTIONS[option]\n \n     if global_choice == \"default\":\n         return default\n@@ -74,10 +86,14 @@ def _get_keep_attrs(default):\n         return global_choice\n     else:\n         raise ValueError(\n-            \"The global option keep_attrs must be one of True, False or 'default'.\"\n+            f\"The global option {option} must be one of True, False or 'default'.\"\n         )\n \n \n+def _get_keep_attrs(default):\n+    return _get_boolean_with_default(\"keep_attrs\", default)\n+\n+\n class set_options:\n     \"\"\"Set options for xarray in a controlled context.\n \n@@ -108,6 +124,22 @@ class set_options:\n       Default: ``'default'``.\n     - ``display_style``: display style to use in jupyter for xarray objects.\n       Default: ``'text'``. Other options are ``'html'``.\n+    - ``display_expand_attrs``: whether to expand the attributes section for\n+      display of ``DataArray`` or ``Dataset`` objects. Can be ``True`` to always\n+      expand, ``False`` to always collapse, or ``default`` to expand unless over\n+      a pre-defined limit. Default: ``default``.\n+    - ``display_expand_coords``: whether to expand the coordinates section for\n+      display of ``DataArray`` or ``Dataset`` objects. Can be ``True`` to always\n+      expand, ``False`` to always collapse, or ``default`` to expand unless over\n+      a pre-defined limit. Default: ``default``.\n+    - ``display_expand_data``: whether to expand the data section for display\n+      of ``DataArray`` objects. Can be ``True`` to always expand, ``False`` to\n+      always collapse, or ``default`` to expand unless over a pre-defined limit.\n+      Default: ``default``.\n+    - ``display_expand_data_vars``: whether to expand the data variables section\n+      for display of ``Dataset`` objects. Can be ``True`` to always\n+      expand, ``False`` to always collapse, or ``default`` to expand unless over\n+      a pre-defined limit. Default: ``default``.\n \n \n     You can use ``set_options`` either as a context manager:\n",
  "test_patch": "diff --git a/xarray/tests/test_formatting.py b/xarray/tests/test_formatting.py\n--- a/xarray/tests/test_formatting.py\n+++ b/xarray/tests/test_formatting.py\n@@ -391,6 +391,17 @@ def test_array_repr(self):\n \n         assert actual == expected\n \n+        with xr.set_options(display_expand_data=False):\n+            actual = formatting.array_repr(ds[(1, 2)])\n+            expected = dedent(\n+                \"\"\"\\\n+            <xarray.DataArray (1, 2) (test: 1)>\n+            0\n+            Dimensions without coordinates: test\"\"\"\n+            )\n+\n+            assert actual == expected\n+\n \n def test_inline_variable_array_repr_custom_repr():\n     class CustomArray:\n@@ -492,3 +503,19 @@ def test__mapping_repr(display_max_rows, n_vars, n_attr):\n         len_summary = len(summary)\n         data_vars_print_size = min(display_max_rows, len_summary)\n         assert len_summary == data_vars_print_size\n+\n+    with xr.set_options(\n+        display_expand_coords=False,\n+        display_expand_data_vars=False,\n+        display_expand_attrs=False,\n+    ):\n+        actual = formatting.dataset_repr(ds)\n+        expected = dedent(\n+            f\"\"\"\\\n+            <xarray.Dataset>\n+            Dimensions:      (time: 2)\n+            Coordinates: (1)\n+            Data variables: ({n_vars})\n+            Attributes: ({n_attr})\"\"\"\n+        )\n+        assert actual == expected\ndiff --git a/xarray/tests/test_formatting_html.py b/xarray/tests/test_formatting_html.py\n--- a/xarray/tests/test_formatting_html.py\n+++ b/xarray/tests/test_formatting_html.py\n@@ -115,6 +115,17 @@ def test_repr_of_dataarray(dataarray):\n         formatted.count(\"class='xr-section-summary-in' type='checkbox' disabled >\") == 2\n     )\n \n+    with xr.set_options(display_expand_data=False):\n+        formatted = fh.array_repr(dataarray)\n+        assert \"dim_0\" in formatted\n+        # has an expanded data section\n+        assert formatted.count(\"class='xr-array-in' type='checkbox' checked>\") == 0\n+        # coords and attrs don't have an items so they'll be be disabled and collapsed\n+        assert (\n+            formatted.count(\"class='xr-section-summary-in' type='checkbox' disabled >\")\n+            == 2\n+        )\n+\n \n def test_summary_of_multiindex_coord(multiindex):\n     idx = multiindex.x.variable.to_index_variable()\n@@ -138,6 +149,20 @@ def test_repr_of_dataset(dataset):\n     assert \"&lt;U4\" in formatted or \"&gt;U4\" in formatted\n     assert \"&lt;IA&gt;\" in formatted\n \n+    with xr.set_options(\n+        display_expand_coords=False,\n+        display_expand_data_vars=False,\n+        display_expand_attrs=False,\n+    ):\n+        formatted = fh.dataset_repr(dataset)\n+        # coords, attrs, and data_vars are collapsed\n+        assert (\n+            formatted.count(\"class='xr-section-summary-in' type='checkbox'  checked>\")\n+            == 0\n+        )\n+        assert \"&lt;U4\" in formatted or \"&gt;U4\" in formatted\n+        assert \"&lt;IA&gt;\" in formatted\n+\n \n def test_repr_text_fallback(dataset):\n     formatted = fh.dataset_repr(dataset)\n",
  "problem_statement": "FR: Provide option for collapsing the HTML display in notebooks\n# Issue description\r\nThe overly long output of the text repr of xarray always bugged so I was very happy that the recently implemented html repr collapsed the data part, and equally sad to see that 0.16.0 reverted that, IMHO, correct design implementation back, presumably to align it with the text repr.\r\n\r\n# Suggested solution\r\nAs the opinions will vary on what a good repr should do, similar to existing xarray.set_options I would like to have an option that let's me control if the data part (and maybe other parts?) appear in a collapsed fashion for the html repr.\r\n\r\n# Additional questions\r\n* Is it worth considering this as well for the text repr? Or is that harder to implement?\r\n\r\nAny guidance on \r\n  * which files need to change\r\n  * potential pitfalls\r\n\r\nwould be welcome. I'm happy to work on this, as I seem to be the only one not liking the current implementation.\n",
  "hints_text": "Related: #4182",
  "created_at": "2021-04-07T10:51:03Z",
  "version": "0.12",
  "FAIL_TO_PASS": "[\"xarray/tests/test_formatting.py::TestFormatting::test_array_repr\", \"xarray/tests/test_formatting.py::test__mapping_repr[1-40-30]\", \"xarray/tests/test_formatting.py::test__mapping_repr[11-40-30]\", \"xarray/tests/test_formatting.py::test__mapping_repr[35-40-30]\", \"xarray/tests/test_formatting.py::test__mapping_repr[50-40-30]\", \"xarray/tests/test_formatting_html.py::test_repr_of_dataarray\", \"xarray/tests/test_formatting_html.py::test_repr_of_dataset\"]",
  "PASS_TO_PASS": "[\"xarray/tests/test_formatting.py::TestFormatting::test_attribute_repr\", \"xarray/tests/test_formatting.py::TestFormatting::test_diff_array_repr\", \"xarray/tests/test_formatting.py::TestFormatting::test_diff_attrs_repr_with_array\", \"xarray/tests/test_formatting.py::TestFormatting::test_diff_dataset_repr\", \"xarray/tests/test_formatting.py::TestFormatting::test_first_n_items\", \"xarray/tests/test_formatting.py::TestFormatting::test_format_array_flat\", \"xarray/tests/test_formatting.py::TestFormatting::test_format_item\", \"xarray/tests/test_formatting.py::TestFormatting::test_format_items\", \"xarray/tests/test_formatting.py::TestFormatting::test_format_timestamp_out_of_bounds\", \"xarray/tests/test_formatting.py::TestFormatting::test_get_indexer_at_least_n_items\", \"xarray/tests/test_formatting.py::TestFormatting::test_last_item\", \"xarray/tests/test_formatting.py::TestFormatting::test_last_n_items\", \"xarray/tests/test_formatting.py::TestFormatting::test_maybe_truncate\", \"xarray/tests/test_formatting.py::TestFormatting::test_pretty_print\", \"xarray/tests/test_formatting.py::test_inline_variable_array_repr_custom_repr\", \"xarray/tests/test_formatting.py::test_large_array_repr_length\", \"xarray/tests/test_formatting.py::test_set_numpy_options\", \"xarray/tests/test_formatting.py::test_short_numpy_repr\", \"xarray/tests/test_formatting_html.py::test_format_dims_index\", \"xarray/tests/test_formatting_html.py::test_format_dims_no_dims\", \"xarray/tests/test_formatting_html.py::test_format_dims_non_index\", \"xarray/tests/test_formatting_html.py::test_format_dims_unsafe_dim_name\", \"xarray/tests/test_formatting_html.py::test_repr_of_multiindex\", \"xarray/tests/test_formatting_html.py::test_repr_text_fallback\", \"xarray/tests/test_formatting_html.py::test_short_data_repr_html\", \"xarray/tests/test_formatting_html.py::test_short_data_repr_html_non_str_keys\", \"xarray/tests/test_formatting_html.py::test_summarize_attrs_with_unsafe_attr_name_and_value\", \"xarray/tests/test_formatting_html.py::test_summary_of_multiindex_coord\", \"xarray/tests/test_formatting_html.py::test_variable_repr_html\"]",
  "environment_setup_commit": "1c198a191127c601d091213c4b3292a8bb3054e1",
  "patch_files": [
    "xarray/core/formatting.py",
    "xarray/core/formatting_html.py",
    "xarray/core/options.py"
  ],
  "test_patch_files": [
    "xarray/tests/test_formatting.py",
    "xarray/tests/test_formatting_html.py"
  ],
  "patch_diff_details": {
    "xarray/core/formatting.py": {
      "diffs": [
        {
          "start_line_old": 14,
          "end_line_old": 14,
          "file_pos": 2,
          "file_context_length": 7669,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting.py__KNOWN_TYPE_REPRS_inline_dask_repr.5.1",
          "closest_snippet_line_distance": 205,
          "pos": 20,
          "context_length": 7150
        },
        {
          "start_line_old": 374,
          "end_line_old": 374,
          "file_pos": 2,
          "file_context_length": 7669,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting.py_1_wrap_indent.3.1",
          "closest_snippet_line_distance": 335,
          "pos": 21,
          "context_length": 7401
        },
        {
          "start_line_old": 382,
          "end_line_old": 382,
          "file_pos": 2,
          "file_context_length": 7669,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting.py_1_wrap_indent.3.1",
          "closest_snippet_line_distance": 343,
          "pos": 21,
          "context_length": 7401
        },
        {
          "start_line_old": 399,
          "end_line_old": 404,
          "file_pos": 2,
          "file_context_length": 7669,
          "pos": 5,
          "context_length": 1537
        },
        {
          "start_line_old": 412,
          "end_line_old": 412,
          "file_pos": 2,
          "file_context_length": 7669,
          "pos": 5,
          "context_length": 1537
        },
        {
          "start_line_old": 496,
          "end_line_old": 496,
          "file_pos": 2,
          "file_context_length": 7669,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting.py__diff_mapping_repr__diff_mapping_repr",
          "closest_snippet_line_distance": 51,
          "pos": 41,
          "context_length": 14924
        }
      ]
    },
    "xarray/core/formatting_html.py": {
      "diffs": [
        {
          "start_line_old": 9,
          "end_line_old": 9,
          "file_pos": 1,
          "file_context_length": 2192,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting_html.py_summarize_attrs_summarize_coords.4.1",
          "closest_snippet_line_distance": 39,
          "pos": 19,
          "context_length": 6879
        },
        {
          "start_line_old": 167,
          "end_line_old": 169,
          "file_pos": 1,
          "file_context_length": 2192,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting_html.py_summarize_variable_summarize_variable.15.1",
          "closest_snippet_line_distance": 36,
          "pos": 7,
          "context_length": 2355
        },
        {
          "start_line_old": 191,
          "end_line_old": 191,
          "file_pos": 1,
          "file_context_length": 2192,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting_html.py__obj_repr__obj_repr.5.1",
          "closest_snippet_line_distance": 40,
          "pos": 3,
          "context_length": 746
        },
        {
          "start_line_old": 212,
          "end_line_old": 212,
          "file_pos": 1,
          "file_context_length": 2192,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting_html.py__obj_repr__obj_repr.5.1",
          "closest_snippet_line_distance": 19,
          "pos": 3,
          "context_length": 746
        },
        {
          "start_line_old": 220,
          "end_line_old": 220,
          "file_pos": 1,
          "file_context_length": 2192,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting_html.py__obj_repr__obj_repr.5.1",
          "closest_snippet_line_distance": 11,
          "pos": 3,
          "context_length": 746
        },
        {
          "start_line_old": 228,
          "end_line_old": 228,
          "file_pos": 1,
          "file_context_length": 2192,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/formatting_html.py__obj_repr__obj_repr.5.1",
          "closest_snippet_line_distance": 3,
          "pos": 3,
          "context_length": 746
        }
      ]
    },
    "xarray/core/options.py": {
      "diffs": [
        {
          "start_line_old": 9,
          "end_line_old": 9,
          "file_pos": 4,
          "file_context_length": 12372,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/options.py_set_options_",
          "closest_snippet_line_distance": 72,
          "pos": 11,
          "context_length": 4601
        },
        {
          "start_line_old": 22,
          "end_line_old": 22,
          "file_pos": 4,
          "file_context_length": 12372,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/options.py_set_options_",
          "closest_snippet_line_distance": 59,
          "pos": 11,
          "context_length": 4601
        },
        {
          "start_line_old": 41,
          "end_line_old": 41,
          "file_pos": 4,
          "file_context_length": 12372,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/options.py_set_options_",
          "closest_snippet_line_distance": 40,
          "pos": 11,
          "context_length": 4601
        },
        {
          "start_line_old": 68,
          "end_line_old": 69,
          "file_pos": 4,
          "file_context_length": 12372,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/options.py_set_options_",
          "closest_snippet_line_distance": 13,
          "pos": 11,
          "context_length": 4601
        },
        {
          "start_line_old": 77,
          "end_line_old": 77,
          "file_pos": 4,
          "file_context_length": 12372,
          "closest_snippet_id": "/tmp/repos/xarray/xarray/core/options.py_set_options_",
          "closest_snippet_line_distance": 4,
          "pos": 11,
          "context_length": 4601
        },
        {
          "start_line_old": 111,
          "end_line_old": 111,
          "file_pos": 4,
          "file_context_length": 12372,
          "pos": 8,
          "context_length": 3165
        }
      ]
    }
  },
  "vectors": 1108,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py_summarize_vars_collapsible_section.data_id.7.1",
      "distance": 1.0032522678375244,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 136,
      "end_line": 164,
      "tokens": 284,
      "context_length": 284,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py__obj_repr__obj_repr.5.1",
      "distance": 1.0188567638397217,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 231,
      "end_line": 250,
      "tokens": 180,
      "context_length": 464,
      "file_pos": 1
    },
    {
      "position": 3,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py_array_section_attr_section.1",
      "distance": 1.0327578783035278,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 188,
      "end_line": 228,
      "tokens": 282,
      "context_length": 746,
      "file_pos": 1
    },
    {
      "position": 4,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py_summarize_variable_summarize_variable.15.1",
      "distance": 1.0708829164505005,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 99,
      "end_line": 133,
      "tokens": 404,
      "context_length": 1150,
      "file_pos": 1
    },
    {
      "position": 5,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_data_vars_repr_limit_lines.4.1",
      "distance": 1.105046033859253,
      "file_path": "xarray/core/formatting.py",
      "start_line": 398,
      "end_line": 455,
      "tokens": 387,
      "context_length": 1537,
      "file_pos": 2
    },
    {
      "position": 6,
      "id": "/tmp/repos/xarray/doc/conf.py_rediraffe_redirects_intersphinx_mapping.1",
      "distance": 1.1129193305969238,
      "file_path": "doc/conf.py",
      "start_line": 269,
      "end_line": 323,
      "tokens": 704,
      "context_length": 2241
    },
    {
      "position": 7,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py__mapping_section_dim_section.2.1",
      "distance": 1.118466854095459,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 167,
      "end_line": 185,
      "tokens": 114,
      "context_length": 2355,
      "file_pos": 3
    },
    {
      "position": 8,
      "id": "/tmp/repos/xarray/xarray/core/options.py_set_options_",
      "distance": 1.1292303800582886,
      "file_path": "xarray/core/options.py",
      "start_line": 81,
      "end_line": 164,
      "tokens": 810,
      "context_length": 3165,
      "file_pos": 4
    },
    {
      "position": 9,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py_array_repr_",
      "distance": 1.1302975416183472,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 253,
      "end_line": 289,
      "tokens": 257,
      "context_length": 3422,
      "file_pos": 4
    },
    {
      "position": 10,
      "id": "/tmp/repos/xarray/doc/conf.py_exclude_patterns_102",
      "distance": 1.1331781148910522,
      "file_path": "doc/conf.py",
      "start_line": 200,
      "end_line": 267,
      "tokens": 632,
      "context_length": 4054
    },
    {
      "position": 11,
      "id": "/tmp/repos/xarray/xarray/core/options.py_warnings__get_keep_attrs.2.3.1",
      "distance": 1.1393873691558838,
      "file_path": "xarray/core/options.py",
      "start_line": 1,
      "end_line": 78,
      "tokens": 547,
      "context_length": 4601,
      "file_pos": 4
    },
    {
      "position": 12,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py_summarize_attrs_summarize_coords.4.1",
      "distance": 1.173094630241394,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 48,
      "end_line": 96,
      "tokens": 369,
      "context_length": 4970,
      "file_pos": 4
    },
    {
      "position": 13,
      "id": "/tmp/repos/xarray/doc/conf.py_nbsphinx_prolog_napoleon_preprocess_types.1",
      "distance": 1.179235577583313,
      "file_path": "doc/conf.py",
      "start_line": 102,
      "end_line": 120,
      "tokens": 197,
      "context_length": 5167
    },
    {
      "position": 14,
      "id": "/tmp/repos/xarray/doc/conf.py_1_nbsphinx_execute.1",
      "distance": 1.190053939819336,
      "file_path": "doc/conf.py",
      "start_line": 1,
      "end_line": 101,
      "tokens": 670,
      "context_length": 5837
    },
    {
      "position": 15,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_short_numpy_repr_short_numpy_repr.7.1.1",
      "distance": 1.2036795616149902,
      "file_path": "xarray/core/formatting.py",
      "start_line": 458,
      "end_line": 472,
      "tokens": 127,
      "context_length": 5964,
      "file_pos": 4
    },
    {
      "position": 16,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py__KNOWN_TYPE_REPRS_inline_dask_repr.5.1",
      "distance": 1.2062029838562012,
      "file_path": "xarray/core/formatting.py",
      "start_line": 219,
      "end_line": 245,
      "tokens": 203,
      "context_length": 6167,
      "file_pos": 4
    },
    {
      "position": 17,
      "id": "/tmp/repos/xarray/xarray/core/common.py_warnings_T.1",
      "distance": 1.208554983139038,
      "file_path": "xarray/core/common.py",
      "start_line": 1,
      "end_line": 45,
      "tokens": 240,
      "context_length": 6407
    },
    {
      "position": 18,
      "id": "/tmp/repos/xarray/xarray/plot/utils.py_itertools__determine_extend.4.1",
      "distance": 1.214951992034912,
      "file_path": "xarray/plot/utils.py",
      "start_line": 1,
      "end_line": 54,
      "tokens": 283,
      "context_length": 6690
    },
    {
      "position": 19,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py_uuid_short_data_repr_html.3.2.2.1",
      "distance": 1.226302981376648,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 1,
      "end_line": 29,
      "tokens": 189,
      "context_length": 6879,
      "file_pos": 6
    },
    {
      "position": 20,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_1_wrap_indent.3.1",
      "distance": 1.2275422811508179,
      "file_path": "xarray/core/formatting.py",
      "start_line": 1,
      "end_line": 39,
      "tokens": 271,
      "context_length": 7150,
      "file_pos": 6
    },
    {
      "position": 21,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py__mapping_repr__mapping_repr.5.1",
      "distance": 1.2408506870269775,
      "file_path": "xarray/core/formatting.py",
      "start_line": 374,
      "end_line": 395,
      "tokens": 251,
      "context_length": 7401,
      "file_pos": 6
    },
    {
      "position": 22,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_diff_array_repr_diff_array_repr.summary.7.1",
      "distance": 1.245265245437622,
      "file_path": "xarray/core/formatting.py",
      "start_line": 637,
      "end_line": 668,
      "tokens": 250,
      "context_length": 7651,
      "file_pos": 6
    },
    {
      "position": 23,
      "id": "/tmp/repos/xarray/xarray/core/formatting_html.py_format_dims_format_dims.4.1",
      "distance": 1.2469756603240967,
      "file_path": "xarray/core/formatting_html.py",
      "start_line": 32,
      "end_line": 45,
      "tokens": 110,
      "context_length": 7761,
      "file_pos": 6
    },
    {
      "position": 24,
      "id": "/tmp/repos/xarray/xarray/plot/plot.py__plot2d.newplotfunc.4.add_colorbar__plot2d.newplotfunc.4.44.1",
      "distance": 1.2525029182434082,
      "file_path": "xarray/plot/plot.py",
      "start_line": 636,
      "end_line": 786,
      "tokens": 1643,
      "context_length": 9404
    },
    {
      "position": 25,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_summarize_attr_summarize_attr.8.1",
      "distance": 1.2547409534454346,
      "file_path": "xarray/core/formatting.py",
      "start_line": 336,
      "end_line": 345,
      "tokens": 149,
      "context_length": 9553,
      "file_pos": 7
    },
    {
      "position": 26,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_inline_sparse_repr_inline_variable_array_repr.2.6.2.1",
      "distance": 1.2548108100891113,
      "file_path": "xarray/core/formatting.py",
      "start_line": 248,
      "end_line": 270,
      "tokens": 221,
      "context_length": 9774,
      "file_pos": 7
    },
    {
      "position": 27,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_diff_coords_repr__compat_to_str.2.3.1.1",
      "distance": 1.2596001625061035,
      "file_path": "xarray/core/formatting.py",
      "start_line": 610,
      "end_line": 634,
      "tokens": 130,
      "context_length": 9904,
      "file_pos": 7
    },
    {
      "position": 28,
      "id": "/tmp/repos/xarray/asv_bench/benchmarks/reindexing.py_np_",
      "distance": 1.259730577468872,
      "file_path": "asv_bench/benchmarks/reindexing.py",
      "start_line": 1,
      "end_line": 49,
      "tokens": 413,
      "context_length": 10317
    },
    {
      "position": 29,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_DataArrayRolling._numpy_or_bottleneck_reduce_DataArrayRolling._numpy_or_bottleneck_reduce.2.5.3.1",
      "distance": 1.2619500160217285,
      "file_path": "xarray/core/rolling.py",
      "start_line": 522,
      "end_line": 565,
      "tokens": 350,
      "context_length": 10667
    },
    {
      "position": 30,
      "id": "/tmp/repos/xarray/xarray/core/dask_array_compat.py_10_",
      "distance": 1.2644562721252441,
      "file_path": "xarray/core/dask_array_compat.py",
      "start_line": 155,
      "end_line": 225,
      "tokens": 658,
      "context_length": 11325
    },
    {
      "position": 31,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_dataset_repr_diff_dim_summary.1.2.1.1",
      "distance": 1.270638346672058,
      "file_path": "xarray/core/formatting.py",
      "start_line": 515,
      "end_line": 544,
      "tokens": 206,
      "context_length": 11531,
      "file_pos": 10
    },
    {
      "position": 32,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_DataArrayRolling._bottleneck_reduce_DataArrayRolling._bottleneck_reduce.12.1",
      "distance": 1.2755056619644165,
      "file_path": "xarray/core/rolling.py",
      "start_line": 477,
      "end_line": 520,
      "tokens": 416,
      "context_length": 11947
    },
    {
      "position": 33,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_diff_dataset_repr_",
      "distance": 1.276625156402588,
      "file_path": "xarray/core/formatting.py",
      "start_line": 671,
      "end_line": 692,
      "tokens": 158,
      "context_length": 12105,
      "file_pos": 10
    },
    {
      "position": 34,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py__diff_mapping_repr__diff_mapping_repr",
      "distance": 1.279760718345642,
      "file_path": "xarray/core/formatting.py",
      "start_line": 547,
      "end_line": 607,
      "tokens": 473,
      "context_length": 12578,
      "file_pos": 10
    },
    {
      "position": 35,
      "id": "/tmp/repos/xarray/doc/conf.py_napoleon_type_aliases_72",
      "distance": 1.2805466651916504,
      "file_path": "doc/conf.py",
      "start_line": 121,
      "end_line": 199,
      "tokens": 785,
      "context_length": 13363
    },
    {
      "position": 36,
      "id": "/tmp/repos/xarray/asv_bench/benchmarks/repr.py__",
      "distance": 1.2810823917388916,
      "file_path": "asv_bench/benchmarks/repr.py",
      "start_line": 1,
      "end_line": 19,
      "tokens": 0,
      "context_length": 13363
    },
    {
      "position": 37,
      "id": "/tmp/repos/xarray/xarray/core/weighted.py_Weighted._implementation_Weighted.__repr__.4.1",
      "distance": 1.2876642942428589,
      "file_path": "xarray/core/weighted.py",
      "start_line": 192,
      "end_line": 233,
      "tokens": 342,
      "context_length": 13705
    },
    {
      "position": 38,
      "id": "/tmp/repos/xarray/xarray/backends/api.py_open_mfdataset.17_WRITEABLE_STORES.1",
      "distance": 1.2886860370635986,
      "file_path": "xarray/backends/api.py",
      "start_line": 914,
      "end_line": 968,
      "tokens": 420,
      "context_length": 14125
    },
    {
      "position": 39,
      "id": "/tmp/repos/xarray/xarray/plot/plot.py_line.9_line.24.1",
      "distance": 1.2901194095611572,
      "file_path": "xarray/plot/plot.py",
      "start_line": 294,
      "end_line": 330,
      "tokens": 463,
      "context_length": 14588
    },
    {
      "position": 40,
      "id": "/tmp/repos/xarray/xarray/testing.py__format_message__format_message.10.1",
      "distance": 1.2924323081970215,
      "file_path": "xarray/testing.py",
      "start_line": 177,
      "end_line": 201,
      "tokens": 175,
      "context_length": 14763
    },
    {
      "position": 41,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_array_repr_array_repr.2.6.1",
      "distance": 1.2930474281311035,
      "file_path": "xarray/core/formatting.py",
      "start_line": 489,
      "end_line": 512,
      "tokens": 161,
      "context_length": 14924,
      "file_pos": 14
    },
    {
      "position": 42,
      "id": "/tmp/repos/xarray/xarray/core/formatting.py_short_data_repr_short_data_repr.3.4.2.1",
      "distance": 1.2936177253723145,
      "file_path": "xarray/core/formatting.py",
      "start_line": 475,
      "end_line": 486,
      "tokens": 118,
      "context_length": 15042,
      "file_pos": 14
    },
    {
      "position": 43,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_DataArrayRolling.reduce_DataArrayRolling.reduce.11.1",
      "distance": 1.3030478954315186,
      "file_path": "xarray/core/rolling.py",
      "start_line": 376,
      "end_line": 453,
      "tokens": 710,
      "context_length": 15752
    },
    {
      "position": 44,
      "id": "/tmp/repos/xarray/xarray/core/common.py_ImplementsDatasetReduce._reduce_extra_args_docstring_ImplementsDatasetReduce._cum_extra_args_docstring.1",
      "distance": 1.3060040473937988,
      "file_path": "xarray/core/common.py",
      "start_line": 104,
      "end_line": 120,
      "tokens": 139,
      "context_length": 15891
    },
    {
      "position": 45,
      "id": "/tmp/repos/xarray/xarray/core/dataset.py_Dataset.isel_Dataset.reindex.2.1",
      "distance": 1.307782530784607,
      "file_path": "xarray/core/dataset.py",
      "start_line": 2097,
      "end_line": 2745,
      "tokens": 6100,
      "context_length": 21991
    },
    {
      "position": 46,
      "id": "/tmp/repos/xarray/doc/gallery/plot_control_colorbar.py_1_",
      "distance": 1.3099365234375,
      "file_path": "doc/gallery/plot_control_colorbar.py",
      "start_line": 1,
      "end_line": 33,
      "tokens": 247,
      "context_length": 22238
    },
    {
      "position": 47,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_DatasetRolling._counts_DatasetRolling._numpy_or_bottleneck_reduce.1.1",
      "distance": 1.311211347579956,
      "file_path": "xarray/core/rolling.py",
      "start_line": 665,
      "end_line": 687,
      "tokens": 146,
      "context_length": 22384
    },
    {
      "position": 48,
      "id": "/tmp/repos/xarray/xarray/core/ops.py_op_str_",
      "distance": 1.3125957250595093,
      "file_path": "xarray/core/ops.py",
      "start_line": 277,
      "end_line": 333,
      "tokens": 349,
      "context_length": 22733
    },
    {
      "position": 49,
      "id": "/tmp/repos/xarray/xarray/plot/dataset_plot.py__dsplot.2__dsplot.newplotfunc.15.3",
      "distance": 1.313339114189148,
      "file_path": "xarray/plot/dataset_plot.py",
      "start_line": 277,
      "end_line": 389,
      "tokens": 828,
      "context_length": 23561
    },
    {
      "position": 50,
      "id": "/tmp/repos/xarray/xarray/__init__.py_pkg_resources_",
      "distance": 1.3140006065368652,
      "file_path": "xarray/__init__.py",
      "start_line": 1,
      "end_line": 93,
      "tokens": 603,
      "context_length": 24164
    },
    {
      "position": 51,
      "id": "/tmp/repos/xarray/xarray/backends/api.py_open_dataarray.2_open_mfdataset",
      "distance": 1.315861463546753,
      "file_path": "xarray/backends/api.py",
      "start_line": 652,
      "end_line": 961,
      "tokens": 459,
      "context_length": 24623
    },
    {
      "position": 52,
      "id": "/tmp/repos/xarray/xarray/core/parallel.py_map_blocks.37_map_blocks.42.result[index].encoding.1",
      "distance": 1.316706657409668,
      "file_path": "xarray/core/parallel.py",
      "start_line": 482,
      "end_line": 551,
      "tokens": 730,
      "context_length": 25353
    },
    {
      "position": 53,
      "id": "/tmp/repos/xarray/doc/conf.py_116_",
      "distance": 1.3179035186767578,
      "file_path": "doc/conf.py",
      "start_line": 326,
      "end_line": 384,
      "tokens": 356,
      "context_length": 25709
    },
    {
      "position": 54,
      "id": "/tmp/repos/xarray/xarray/core/common.py_ImplementsDatasetReduce_ImplementsDatasetReduce._reduce_method.2.1",
      "distance": 1.321819543838501,
      "file_path": "xarray/core/common.py",
      "start_line": 85,
      "end_line": 102,
      "tokens": 130,
      "context_length": 25839
    },
    {
      "position": 55,
      "id": "/tmp/repos/xarray/xarray/core/groupby.py_datetime_check_reduce_dims.1.2.1",
      "distance": 1.32313871383667,
      "file_path": "xarray/core/groupby.py",
      "start_line": 1,
      "end_line": 34,
      "tokens": 223,
      "context_length": 26062
    },
    {
      "position": 56,
      "id": "/tmp/repos/xarray/xarray/core/common.py_DataWithCoords.resample.2_DataWithCoords.resample.18.1",
      "distance": 1.325227975845337,
      "file_path": "xarray/core/common.py",
      "start_line": 1126,
      "end_line": 1183,
      "tokens": 575,
      "context_length": 26637
    },
    {
      "position": 57,
      "id": "/tmp/repos/xarray/doc/gallery/plot_cartopy_facetgrid.py_1_",
      "distance": 1.3272042274475098,
      "file_path": "doc/gallery/plot_cartopy_facetgrid.py",
      "start_line": 1,
      "end_line": 46,
      "tokens": 327,
      "context_length": 26964
    },
    {
      "position": 58,
      "id": "/tmp/repos/xarray/xarray/conventions.py_warnings_CF_RELATED_DATA_NEEDS_PARSING.1",
      "distance": 1.3283286094665527,
      "file_path": "xarray/conventions.py",
      "start_line": 1,
      "end_line": 29,
      "tokens": 168,
      "context_length": 27132
    },
    {
      "position": 59,
      "id": "/tmp/repos/xarray/xarray/core/common.py_ImplementsArrayReduce._reduce_extra_args_docstring_ImplementsArrayReduce._cum_extra_args_docstring.1",
      "distance": 1.3290750980377197,
      "file_path": "xarray/core/common.py",
      "start_line": 65,
      "end_line": 82,
      "tokens": 175,
      "context_length": 27307
    },
    {
      "position": 60,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_Rolling._mapping_to_list_Rolling._get_keep_attrs.2.1",
      "distance": 1.3292574882507324,
      "file_path": "xarray/core/rolling.py",
      "start_line": 170,
      "end_line": 201,
      "tokens": 245,
      "context_length": 27552
    },
    {
      "position": 61,
      "id": "/tmp/repos/xarray/xarray/plot/__init__.py__",
      "distance": 1.329413652420044,
      "file_path": "xarray/plot/__init__.py",
      "start_line": 1,
      "end_line": 17,
      "tokens": 0,
      "context_length": 27552
    },
    {
      "position": 62,
      "id": "/tmp/repos/xarray/xarray/core/dataset.py__maybe_chunk__maybe_chunk.3.5.1.1",
      "distance": 1.329643726348877,
      "file_path": "xarray/core/dataset.py",
      "start_line": 415,
      "end_line": 440,
      "tokens": 207,
      "context_length": 27759
    },
    {
      "position": 63,
      "id": "/tmp/repos/xarray/xarray/core/common.py_ImplementsArrayReduce_ImplementsArrayReduce._reduce_method.2.1",
      "distance": 1.3327316045761108,
      "file_path": "xarray/core/common.py",
      "start_line": 48,
      "end_line": 63,
      "tokens": 124,
      "context_length": 27883
    },
    {
      "position": 64,
      "id": "/tmp/repos/xarray/asv_bench/benchmarks/indexing.py_os_vectorized_assignment_values.1",
      "distance": 1.3333326578140259,
      "file_path": "asv_bench/benchmarks/indexing.py",
      "start_line": 1,
      "end_line": 59,
      "tokens": 733,
      "context_length": 28616
    },
    {
      "position": 65,
      "id": "/tmp/repos/xarray/xarray/core/dataset.py_copy__DATETIMEINDEX_COMPONENTS.1",
      "distance": 1.334248423576355,
      "file_path": "xarray/core/dataset.py",
      "start_line": 1,
      "end_line": 133,
      "tokens": 655,
      "context_length": 29271
    },
    {
      "position": 66,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_functools__ROLLING_REDUCE_DOCSTRING_TEMPLATE.1",
      "distance": 1.334315299987793,
      "file_path": "xarray/core/rolling.py",
      "start_line": 1,
      "end_line": 36,
      "tokens": 226,
      "context_length": 29497
    },
    {
      "position": 67,
      "id": "/tmp/repos/xarray/xarray/plot/utils.py_get_axis_get_axis.5.1",
      "distance": 1.3347554206848145,
      "file_path": "xarray/plot/utils.py",
      "start_line": 418,
      "end_line": 448,
      "tokens": 254,
      "context_length": 29751
    },
    {
      "position": 68,
      "id": "/tmp/repos/xarray/xarray/core/indexing.py__decompose_outer_indexer.10__decompose_outer_indexer.15.1",
      "distance": 1.3351428508758545,
      "file_path": "xarray/core/indexing.py",
      "start_line": 1030,
      "end_line": 1097,
      "tokens": 746,
      "context_length": 30497
    },
    {
      "position": 69,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_DatasetRolling.reduce_DatasetRolling.reduce.2.1",
      "distance": 1.337507724761963,
      "file_path": "xarray/core/rolling.py",
      "start_line": 637,
      "end_line": 663,
      "tokens": 212,
      "context_length": 30709
    },
    {
      "position": 70,
      "id": "/tmp/repos/xarray/xarray/plot/facetgrid.py_FacetGrid.__init___FacetGrid.__init__.self._finalized.1",
      "distance": 1.3375544548034668,
      "file_path": "xarray/plot/facetgrid.py",
      "start_line": 77,
      "end_line": 218,
      "tokens": 1075,
      "context_length": 31784
    },
    {
      "position": 71,
      "id": "/tmp/repos/xarray/xarray/core/common.py_DataWithCoords.where.align_DataWithCoords.where.7.1",
      "distance": 1.3403115272521973,
      "file_path": "xarray/core/common.py",
      "start_line": 1260,
      "end_line": 1293,
      "tokens": 279,
      "context_length": 32063
    },
    {
      "position": 72,
      "id": "/tmp/repos/xarray/xarray/core/duck_array_ops.py_58__mean.1",
      "distance": 1.3411710262298584,
      "file_path": "xarray/core/duck_array_ops.py",
      "start_line": 361,
      "end_line": 388,
      "tokens": 321,
      "context_length": 32384
    },
    {
      "position": 73,
      "id": "/tmp/repos/xarray/xarray/plot/facetgrid.py_FacetGrid._finalize_grid_FacetGrid._adjust_fig_for_guide.renderer.16",
      "distance": 1.3414852619171143,
      "file_path": "xarray/plot/facetgrid.py",
      "start_line": 385,
      "end_line": 419,
      "tokens": 303,
      "context_length": 32687
    },
    {
      "position": 74,
      "id": "/tmp/repos/xarray/xarray/plot/utils.py__determine_cmap_params.34__determine_cmap_params.44.1",
      "distance": 1.3416082859039307,
      "file_path": "xarray/plot/utils.py",
      "start_line": 267,
      "end_line": 305,
      "tokens": 388,
      "context_length": 33075
    },
    {
      "position": 75,
      "id": "/tmp/repos/xarray/xarray/plot/dataset_plot.py_functools__infer_meta_data.11.1",
      "distance": 1.3441264629364014,
      "file_path": "xarray/plot/dataset_plot.py",
      "start_line": 1,
      "end_line": 101,
      "tokens": 728,
      "context_length": 33803
    },
    {
      "position": 76,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_Rolling._mean_Rolling.count.__doc__.1",
      "distance": 1.34441077709198,
      "file_path": "xarray/core/rolling.py",
      "start_line": 143,
      "end_line": 168,
      "tokens": 281,
      "context_length": 34084
    },
    {
      "position": 77,
      "id": "/tmp/repos/xarray/xarray/core/groupby.py_DataArrayGroupBy.reduce_DataArrayGroupBy.reduce.6.1",
      "distance": 1.3445571660995483,
      "file_path": "xarray/core/groupby.py",
      "start_line": 844,
      "end_line": 886,
      "tokens": 365,
      "context_length": 34449
    },
    {
      "position": 78,
      "id": "/tmp/repos/xarray/xarray/plot/dataset_plot.py__dsplot__dsplot.commondoc.1",
      "distance": 1.344604253768921,
      "file_path": "xarray/plot/dataset_plot.py",
      "start_line": 192,
      "end_line": 275,
      "tokens": 977,
      "context_length": 35426
    },
    {
      "position": 79,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_DatasetRolling._dataset_implementation_DatasetRolling._dataset_implementation.6.1",
      "distance": 1.3461458683013916,
      "file_path": "xarray/core/rolling.py",
      "start_line": 619,
      "end_line": 635,
      "tokens": 161,
      "context_length": 35587
    },
    {
      "position": 80,
      "id": "/tmp/repos/xarray/xarray/plot/utils.py__is_numeric__add_colorbar.7.1",
      "distance": 1.3465343713760376,
      "file_path": "xarray/plot/utils.py",
      "start_line": 627,
      "end_line": 647,
      "tokens": 156,
      "context_length": 35743
    },
    {
      "position": 81,
      "id": "/tmp/repos/xarray/xarray/core/utils.py_ReprObject_ReprObject.__dask_tokenize__.2.1",
      "distance": 1.34843909740448,
      "file_path": "xarray/core/utils.py",
      "start_line": 609,
      "end_line": 631,
      "tokens": 151,
      "context_length": 35894
    },
    {
      "position": 82,
      "id": "/tmp/repos/xarray/xarray/core/alignment.py_align.1_align.1",
      "distance": 1.348740577697754,
      "file_path": "xarray/core/alignment.py",
      "start_line": 82,
      "end_line": 270,
      "tokens": 1951,
      "context_length": 37845
    },
    {
      "position": 83,
      "id": "/tmp/repos/xarray/asv_bench/benchmarks/unstacking.py_np_",
      "distance": 1.3495233058929443,
      "file_path": "asv_bench/benchmarks/unstacking.py",
      "start_line": 1,
      "end_line": 30,
      "tokens": 194,
      "context_length": 38039
    },
    {
      "position": 84,
      "id": "/tmp/repos/xarray/xarray/core/rolling.py_DatasetCoarsen.reduce_",
      "distance": 1.3500027656555176,
      "file_path": "xarray/core/rolling.py",
      "start_line": 958,
      "end_line": 979,
      "tokens": 162,
      "context_length": 38201
    },
    {
      "position": 85,
      "id": "/tmp/repos/xarray/xarray/util/generate_ops.py_template_inplace_stub_required_unary.1",
      "distance": 1.3514173030853271,
      "file_path": "xarray/util/generate_ops.py",
      "start_line": 79,
      "end_line": 142,
      "tokens": 749,
      "context_length": 38950
    },
    {
      "position": 86,
      "id": "/tmp/repos/xarray/xarray/core/dataarray.py_datetime_25.3.2.iris_Cube.1",
      "distance": 1.3515127897262573,
      "file_path": "xarray/core/dataarray.py",
      "start_line": 1,
      "end_line": 87,
      "tokens": 464,
      "context_length": 39414
    }
  ],
  "files": [
    {
      "file_path": "xarray/core/formatting_html.py",
      "position": 1,
      "tokens": 2192,
      "context_length": 2192
    },
    {
      "file_path": "xarray/core/formatting.py",
      "position": 2,
      "tokens": 5477,
      "context_length": 7669
    },
    {
      "file_path": "doc/conf.py",
      "position": 3,
      "tokens": 3346,
      "context_length": 11015
    },
    {
      "file_path": "xarray/core/options.py",
      "position": 4,
      "tokens": 1357,
      "context_length": 12372
    },
    {
      "file_path": "xarray/core/common.py",
      "position": 5,
      "tokens": 15841,
      "context_length": 28213
    },
    {
      "file_path": "xarray/plot/utils.py",
      "position": 6,
      "tokens": 6739,
      "context_length": 34952
    },
    {
      "file_path": "xarray/plot/plot.py",
      "position": 7,
      "tokens": 8258,
      "context_length": 43210
    },
    {
      "file_path": "asv_bench/benchmarks/reindexing.py",
      "position": 8,
      "tokens": 413,
      "context_length": 43623
    },
    {
      "file_path": "xarray/core/rolling.py",
      "position": 9,
      "tokens": 7532,
      "context_length": 51155
    },
    {
      "file_path": "xarray/core/dask_array_compat.py",
      "position": 10,
      "tokens": 1819,
      "context_length": 52974
    },
    {
      "file_path": "asv_bench/benchmarks/repr.py",
      "position": 11,
      "tokens": 104,
      "context_length": 53078
    },
    {
      "file_path": "xarray/core/weighted.py",
      "position": 12,
      "tokens": 2063,
      "context_length": 55141
    },
    {
      "file_path": "xarray/backends/api.py",
      "position": 13,
      "tokens": 12056,
      "context_length": 67197
    },
    {
      "file_path": "xarray/testing.py",
      "position": 14,
      "tokens": 3094,
      "context_length": 70291
    },
    {
      "file_path": "xarray/core/dataset.py",
      "position": 15,
      "tokens": 61656,
      "context_length": 131947
    },
    {
      "file_path": "doc/gallery/plot_control_colorbar.py",
      "position": 16,
      "tokens": 247,
      "context_length": 132194
    },
    {
      "file_path": "xarray/core/ops.py",
      "position": 17,
      "tokens": 2382,
      "context_length": 134576
    },
    {
      "file_path": "xarray/plot/dataset_plot.py",
      "position": 18,
      "tokens": 4686,
      "context_length": 139262
    },
    {
      "file_path": "xarray/__init__.py",
      "position": 19,
      "tokens": 603,
      "context_length": 139865
    },
    {
      "file_path": "xarray/core/parallel.py",
      "position": 20,
      "tokens": 5046,
      "context_length": 144911
    },
    {
      "file_path": "xarray/core/groupby.py",
      "position": 21,
      "tokens": 7875,
      "context_length": 152786
    },
    {
      "file_path": "doc/gallery/plot_cartopy_facetgrid.py",
      "position": 22,
      "tokens": 327,
      "context_length": 153113
    },
    {
      "file_path": "xarray/conventions.py",
      "position": 23,
      "tokens": 6401,
      "context_length": 159514
    },
    {
      "file_path": "xarray/plot/__init__.py",
      "position": 24,
      "tokens": 94,
      "context_length": 159608
    },
    {
      "file_path": "asv_bench/benchmarks/indexing.py",
      "position": 25,
      "tokens": 1560,
      "context_length": 161168
    },
    {
      "file_path": "xarray/core/indexing.py",
      "position": 26,
      "tokens": 11961,
      "context_length": 173129
    },
    {
      "file_path": "xarray/plot/facetgrid.py",
      "position": 27,
      "tokens": 5167,
      "context_length": 178296
    },
    {
      "file_path": "xarray/core/duck_array_ops.py",
      "position": 28,
      "tokens": 5333,
      "context_length": 183629
    },
    {
      "file_path": "xarray/core/utils.py",
      "position": 29,
      "tokens": 6201,
      "context_length": 189830
    },
    {
      "file_path": "xarray/core/alignment.py",
      "position": 30,
      "tokens": 6059,
      "context_length": 195889
    },
    {
      "file_path": "asv_bench/benchmarks/unstacking.py",
      "position": 31,
      "tokens": 194,
      "context_length": 196083
    },
    {
      "file_path": "xarray/util/generate_ops.py",
      "position": 32,
      "tokens": 2499,
      "context_length": 198582
    },
    {
      "file_path": "xarray/core/dataarray.py",
      "position": 33,
      "tokens": 38778,
      "context_length": 237360
    }
  ]
}