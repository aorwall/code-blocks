{
  "instance_id": "scikit-learn__scikit-learn-10428",
  "model_patch": "diff --git a/sklearn/utils/estimator_checks.py b/sklearn/utils/estimator_checks.py\nindex 398c12cbd..98367077e 100644\n--- a/sklearn/utils/estimator_checks.py\n+++ b/sklearn/utils/estimator_checks.py\n@@ -58,6 +58,8 @@ from sklearn.utils.validation import has_fit_parameter, _num_samples\n from sklearn.preprocessing import StandardScaler\n from sklearn.datasets import load_iris, load_boston, make_blobs\n \n+from sklearn.utils import check_random_state\n+from numpy.testing import assert_array_almost_equal\n \n BOSTON = None\n CROSS_DECOMPOSITION = ['PLSCanonical', 'PLSRegression', 'CCA', 'PLSSVD']\n@@ -570,7 +572,7 @@ def is_public_parameter(attr):\n @ignore_warnings(category=(DeprecationWarning, FutureWarning))\n def check_dont_overwrite_parameters(name, estimator_orig):\n     # check that fit method only changes or sets private attributes\n-    if hasattr(estimator_orig.__init__, \"deprecated_original\"):\n+    if hasattr(type(estimator_orig).__init__, \"deprecated_original\"):\n         # to not check deprecated classes\n         return\n     estimator = clone(estimator_orig)\n@@ -830,8 +832,8 @@ def _check_transformer(name, transformer_orig, X, y):\n         # raises error on malformed input for transform\n         if hasattr(X, 'T'):\n             # If it's not an array, it does not have a 'T' property\n-            with assert_raises(ValueError, msg=\"The transformer {} does \"\n-                               \"not raise an error when the number of \"\n+            with assert_raises(ValueError, msg=\"The transformer {} does not\"\n+                               \" raise an error when the number of \"\n                                \"features in transform is different from\"\n                                \" the number of features in \"\n                                \"fit.\".format(name)):\n@@ -1944,3 +1946,30 @@ def check_decision_proba_consistency(name, estimator_orig):\n         a = estimator.predict_proba(X_test)[:, 1]\n         b = estimator.decision_function(X_test)\n         assert_array_equal(rankdata(a), rankdata(b))\n+\n+@ignore_warnings(category=(DeprecationWarning, FutureWarning))\n+def check_methods_subset_invariance(name, estimator_orig):\n+    # Generate a random dataset\n+    rng = check_random_state(0)\n+    X = rng.normal(size=(100, 20))\n+    y = rng.randint(0, 2, size=(100,))\n+\n+    # Fit the estimator\n+    estimator = clone(estimator_orig)\n+    estimator.fit(X, y)\n+\n+    # Generate a boolean mask for a subset\n+    mask = rng.randint(0, 2, size=(100,)).astype(bool)\n+\n+    # Methods to check\n+    methods = [\"predict\", \"predict_proba\", \"decision_function\", \"score_samples\", \"transform\"]\n+\n+    # Check method invariance on subset\n+    for method in methods:\n+        if hasattr(estimator, method):\n+            est_method = getattr(estimator, method)\n+            # Compare the results of the method on the full dataset and the subset\n+            full_data_result = est_method(X)\n+            subset_result = est_method(X[mask])\n+            assert_array_almost_equal(full_data_result[mask], subset_result,\n+                                      err_msg=\"{} failed subset invariance check\".format(method))\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "sklearn/utils/estimator_checks.py"
  ],
  "repo": "scikit-learn/scikit-learn",
  "base_commit": "db127bd9693068a5b187d49d08738e690c5c7d98",
  "patch": "diff --git a/sklearn/utils/estimator_checks.py b/sklearn/utils/estimator_checks.py\n--- a/sklearn/utils/estimator_checks.py\n+++ b/sklearn/utils/estimator_checks.py\n@@ -226,6 +226,7 @@ def _yield_all_checks(name, estimator):\n         for check in _yield_clustering_checks(name, estimator):\n             yield check\n     yield check_fit2d_predict1d\n+    yield check_methods_subset_invariance\n     if name != 'GaussianProcess':  # FIXME\n         # XXX GaussianProcess deprecated in 0.20\n         yield check_fit2d_1sample\n@@ -643,6 +644,58 @@ def check_fit2d_predict1d(name, estimator_orig):\n                                  getattr(estimator, method), X[0])\n \n \n+def _apply_func(func, X):\n+    # apply function on the whole set and on mini batches\n+    result_full = func(X)\n+    n_features = X.shape[1]\n+    result_by_batch = [func(batch.reshape(1, n_features))\n+                       for batch in X]\n+    # func can output tuple (e.g. score_samples)\n+    if type(result_full) == tuple:\n+        result_full = result_full[0]\n+        result_by_batch = list(map(lambda x: x[0], result_by_batch))\n+\n+    return np.ravel(result_full), np.ravel(result_by_batch)\n+\n+\n+@ignore_warnings(category=(DeprecationWarning, FutureWarning))\n+def check_methods_subset_invariance(name, estimator_orig):\n+    # check that method gives invariant results if applied\n+    # on mini bathes or the whole set\n+    rnd = np.random.RandomState(0)\n+    X = 3 * rnd.uniform(size=(20, 3))\n+    X = pairwise_estimator_convert_X(X, estimator_orig)\n+    y = X[:, 0].astype(np.int)\n+    estimator = clone(estimator_orig)\n+    y = multioutput_estimator_convert_y_2d(estimator, y)\n+\n+    if hasattr(estimator, \"n_components\"):\n+        estimator.n_components = 1\n+    if hasattr(estimator, \"n_clusters\"):\n+        estimator.n_clusters = 1\n+\n+    set_random_state(estimator, 1)\n+    estimator.fit(X, y)\n+\n+    for method in [\"predict\", \"transform\", \"decision_function\",\n+                   \"score_samples\", \"predict_proba\"]:\n+\n+        msg = (\"{method} of {name} is not invariant when applied \"\n+               \"to a subset.\").format(method=method, name=name)\n+        # TODO remove cases when corrected\n+        if (name, method) in [('SVC', 'decision_function'),\n+                              ('SparsePCA', 'transform'),\n+                              ('MiniBatchSparsePCA', 'transform'),\n+                              ('BernoulliRBM', 'score_samples')]:\n+            raise SkipTest(msg)\n+\n+        if hasattr(estimator, method):\n+            result_full, result_by_batch = _apply_func(\n+                getattr(estimator, method), X)\n+            assert_allclose(result_full, result_by_batch,\n+                            atol=1e-7, err_msg=msg)\n+\n+\n @ignore_warnings\n def check_fit2d_1sample(name, estimator_orig):\n     # Check that fitting a 2d array with only one sample either works or\n",
  "test_patch": "diff --git a/sklearn/utils/tests/test_estimator_checks.py b/sklearn/utils/tests/test_estimator_checks.py\n--- a/sklearn/utils/tests/test_estimator_checks.py\n+++ b/sklearn/utils/tests/test_estimator_checks.py\n@@ -134,6 +134,23 @@ def predict(self, X):\n         return np.ones(X.shape[0])\n \n \n+class NotInvariantPredict(BaseEstimator):\n+    def fit(self, X, y):\n+        # Convert data\n+        X, y = check_X_y(X, y,\n+                         accept_sparse=(\"csr\", \"csc\"),\n+                         multi_output=True,\n+                         y_numeric=True)\n+        return self\n+\n+    def predict(self, X):\n+        # return 1 if X has more than one element else return 0\n+        X = check_array(X)\n+        if X.shape[0] > 1:\n+            return np.ones(X.shape[0])\n+        return np.zeros(X.shape[0])\n+\n+\n def test_check_estimator():\n     # tests that the estimator actually fails on \"bad\" estimators.\n     # not a complete test of all checks, which are very extensive.\n@@ -184,6 +201,13 @@ def test_check_estimator():\n            ' with _ but wrong_attribute added')\n     assert_raises_regex(AssertionError, msg,\n                         check_estimator, SetsWrongAttribute)\n+    # check for invariant method\n+    name = NotInvariantPredict.__name__\n+    method = 'predict'\n+    msg = (\"{method} of {name} is not invariant when applied \"\n+           \"to a subset.\").format(method=method, name=name)\n+    assert_raises_regex(AssertionError, msg,\n+                        check_estimator, NotInvariantPredict)\n     # check for sparse matrix input handling\n     name = NoSparseClassifier.__name__\n     msg = \"Estimator %s doesn't seem to fail gracefully on sparse data\" % name\n",
  "problem_statement": "Add common test to ensure all(predict(X[mask]) == predict(X)[mask])\nI don't think we currently test that estimator predictions/transformations are invariant whether performed in batch or on subsets of a dataset. For some fitted estimator `est`, data `X` and any boolean mask `mask` of length `X.shape[0]`, we need:\r\n\r\n```python\r\nall(est.method(X[mask]) == est.method(X)[mask])\r\n```\r\nwhere `method` is any of {`predict`, `predict_proba`, `decision_function`, `score_samples`, `transform`}. Testing that predictions for individual samples match the predictions across the dataset might be sufficient. This should be added to common tests at `sklearn/utils/estimator_checks.py`\r\n\r\nIndeed, #9174 reports that this is broken for one-vs-one classification. :'(\r\n  \n",
  "hints_text": "Hi, could I take this issue ?\nsure, it seems right up your alley. thanks!\n",
  "created_at": "2018-01-08T21:07:00Z",
  "version": "0.20",
  "FAIL_TO_PASS": "[\"sklearn/utils/tests/test_estimator_checks.py::test_check_estimator\"]",
  "PASS_TO_PASS": "[\"sklearn/utils/tests/test_estimator_checks.py::test_check_estimator_clones\", \"sklearn/utils/tests/test_estimator_checks.py::test_check_estimator_pairwise\", \"sklearn/utils/tests/test_estimator_checks.py::test_check_estimators_unfitted\", \"sklearn/utils/tests/test_estimator_checks.py::test_check_no_attributes_set_in_init\"]",
  "environment_setup_commit": "55bf5d93e5674f13a1134d93a11fd0cd11aabcd1",
  "patch_files": [
    "sklearn/utils/estimator_checks.py"
  ],
  "test_patch_files": [
    "sklearn/utils/tests/test_estimator_checks.py"
  ],
  "patch_diff_details": {
    "sklearn/utils/estimator_checks.py": {
      "diffs": [
        {
          "start_line_old": 229,
          "end_line_old": 229,
          "file_pos": 1,
          "file_context_length": 17447,
          "closest_snippet_id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_transformer_n_iter_check_transformer_n_iter.estimator.2.5.2.1",
          "closest_snippet_line_distance": 1638,
          "pos": 90,
          "context_length": 27383
        },
        {
          "start_line_old": 646,
          "end_line_old": 646,
          "file_pos": 1,
          "file_context_length": 17447,
          "closest_snippet_id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py__yield_regressor_checks__yield_regressor_checks.4",
          "closest_snippet_line_distance": 466,
          "pos": 69,
          "context_length": 21491
        }
      ]
    }
  },
  "vectors": 2881,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimator__boston_subset.3.1",
      "distance": 0.9086609482765198,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 239,
      "end_line": 287,
      "tokens": 367,
      "context_length": 367,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py__fit_and_predict.10__fit_and_predict.11.1",
      "distance": 0.946675181388855,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 756,
      "end_line": 801,
      "tokens": 462,
      "context_length": 829
    },
    {
      "position": 3,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_classifiers_train_check_classifiers_train.7.22.y_prob.8.y_log_prob.3",
      "distance": 0.9527643918991089,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1200,
      "end_line": 1307,
      "tokens": 1123,
      "context_length": 1952,
      "file_pos": 2
    },
    {
      "position": 4,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_data_not_an_array_check_estimators_data_not_an_array.14",
      "distance": 0.9619760513305664,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1729,
      "end_line": 1749,
      "tokens": 200,
      "context_length": 2152,
      "file_pos": 2
    },
    {
      "position": 5,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/mocking.py_CheckingClassifier_",
      "distance": 0.9633604884147644,
      "file_path": "sklearn/utils/mocking.py",
      "start_line": 43,
      "end_line": 87,
      "tokens": 380,
      "context_length": 2532
    },
    {
      "position": 6,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py__check_transformer__check_transformer.12.4.2.1",
      "distance": 0.972646951675415,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 764,
      "end_line": 838,
      "tokens": 702,
      "context_length": 3234,
      "file_pos": 3
    },
    {
      "position": 7,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/imputation.py_warnings__get_mask.2.2.1.1",
      "distance": 0.9743799567222595,
      "file_path": "sklearn/preprocessing/imputation.py",
      "start_line": 4,
      "end_line": 32,
      "tokens": 154,
      "context_length": 3388
    },
    {
      "position": 8,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_get_params_invariance_check_classifiers_regression_target.boston.5",
      "distance": 0.9777902364730835,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1893,
      "end_line": 1926,
      "tokens": 233,
      "context_length": 3621,
      "file_pos": 4
    },
    {
      "position": 9,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_pickle_check_estimators_pickle.19.2",
      "distance": 0.9789314866065979,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1026,
      "end_line": 1063,
      "tokens": 328,
      "context_length": 3949,
      "file_pos": 4
    },
    {
      "position": 10,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py_cross_val_predict.2_cross_val_predict.17.1",
      "distance": 0.985582709312439,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 666,
      "end_line": 698,
      "tokens": 348,
      "context_length": 4297
    },
    {
      "position": 11,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py__yield_non_meta_checks__yield_non_meta_checks.18",
      "distance": 0.9990394115447998,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 75,
      "end_line": 109,
      "tokens": 264,
      "context_length": 4561,
      "file_pos": 4
    },
    {
      "position": 12,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_fit_score_takes_y_check_fit_score_takes_y.rnd.9.2.4",
      "distance": 1.0030255317687988,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 878,
      "end_line": 903,
      "tokens": 282,
      "context_length": 4843,
      "file_pos": 4
    },
    {
      "position": 13,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_NotAnArray_pairwise_estimator_convert_X.3.1",
      "distance": 1.0037554502487183,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 346,
      "end_line": 402,
      "tokens": 300,
      "context_length": 5143,
      "file_pos": 4
    },
    {
      "position": 14,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_pipeline_consistency_check_pipeline_consistency.14.2.4",
      "distance": 1.0046498775482178,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 841,
      "end_line": 875,
      "tokens": 372,
      "context_length": 5515,
      "file_pos": 4
    },
    {
      "position": 15,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_classifier_data_not_an_array_check_regressor_data_not_an_array.4",
      "distance": 1.0070663690567017,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1712,
      "end_line": 1726,
      "tokens": 211,
      "context_length": 5726,
      "file_pos": 4
    },
    {
      "position": 16,
      "id": "/tmp/repos/scikit-learn/sklearn/tree/tree.py_BaseDecisionTree._validate_X_predict_BaseDecisionTree._validate_X_predict.5.1",
      "distance": 1.007798671722412,
      "file_path": "sklearn/tree/tree.py",
      "start_line": 373,
      "end_line": 389,
      "tokens": 180,
      "context_length": 5906
    },
    {
      "position": 17,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_transformer_data_not_an_array_check_transformers_unfitted.3.1",
      "distance": 1.008211612701416,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 739,
      "end_line": 761,
      "tokens": 248,
      "context_length": 6154,
      "file_pos": 5
    },
    {
      "position": 18,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_nan_inf_check_estimators_nan_inf.rnd.13.2.10.1.4.1",
      "distance": 1.0139145851135254,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 955,
      "end_line": 1023,
      "tokens": 601,
      "context_length": 6755,
      "file_pos": 5
    },
    {
      "position": 19,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_clusterer_compute_labels_predict_check_clusterer_compute_labels_predict.4.2.5",
      "distance": 1.0142656564712524,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1149,
      "end_line": 1163,
      "tokens": 146,
      "context_length": 6901,
      "file_pos": 5
    },
    {
      "position": 20,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_decision_proba_consistency_",
      "distance": 1.0310909748077393,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1929,
      "end_line": 1947,
      "tokens": 192,
      "context_length": 7093,
      "file_pos": 5
    },
    {
      "position": 21,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_dtypes_check_estimators_dtypes.10.5.1.1",
      "distance": 1.0322725772857666,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 906,
      "end_line": 929,
      "tokens": 269,
      "context_length": 7362,
      "file_pos": 5
    },
    {
      "position": 22,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py__ConstantPredictor__ConstantPredictor.predict_proba.2.1",
      "distance": 1.0399874448776245,
      "file_path": "sklearn/multiclass.py",
      "start_line": 110,
      "end_line": 130,
      "tokens": 137,
      "context_length": 7499
    },
    {
      "position": 23,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_regressors_train_check_regressors_train.23.1",
      "distance": 1.0422067642211914,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1458,
      "end_line": 1496,
      "tokens": 442,
      "context_length": 7941,
      "file_pos": 6
    },
    {
      "position": 24,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_classifiers_classes_check_classifiers_classes.9.11.1",
      "distance": 1.0422955751419067,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1393,
      "end_line": 1427,
      "tokens": 336,
      "context_length": 8277,
      "file_pos": 6
    },
    {
      "position": 25,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/testing.py_install_mldata_mock_DONT_TEST.1",
      "distance": 1.042628288269043,
      "file_path": "sklearn/utils/testing.py",
      "start_line": 506,
      "end_line": 543,
      "tokens": 386,
      "context_length": 8663
    },
    {
      "position": 26,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_fit2d_predict1d_check_fit2d_predict1d.rnd.11.1.1",
      "distance": 1.0494320392608643,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 621,
      "end_line": 643,
      "tokens": 221,
      "context_length": 8884,
      "file_pos": 7
    },
    {
      "position": 27,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_overwrite_params_check_estimators_overwrite_params.16.8",
      "distance": 1.0501213073730469,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1622,
      "end_line": 1657,
      "tokens": 352,
      "context_length": 9236,
      "file_pos": 7
    },
    {
      "position": 28,
      "id": "/tmp/repos/scikit-learn/sklearn/feature_selection/from_model.py_SelectFromModel._get_support_mask_SelectFromModel._get_support_mask.2.6.1",
      "distance": 1.0524039268493652,
      "file_path": "sklearn/feature_selection/from_model.py",
      "start_line": 132,
      "end_line": 144,
      "tokens": 135,
      "context_length": 9371
    },
    {
      "position": 29,
      "id": "/tmp/repos/scikit-learn/sklearn/cross_validation.py__fit_and_predict__fit_and_predict.9.1",
      "distance": 1.0525444746017456,
      "file_path": "sklearn/cross_validation.py",
      "start_line": 1401,
      "end_line": 1451,
      "tokens": 365,
      "context_length": 9736
    },
    {
      "position": 30,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_empty_data_messages_check_estimators_empty_data_messages.12",
      "distance": 1.0566446781158447,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 932,
      "end_line": 952,
      "tokens": 255,
      "context_length": 9991,
      "file_pos": 9
    },
    {
      "position": 31,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py_cross_validate.2_cross_validate.16.1",
      "distance": 1.0586469173431396,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 192,
      "end_line": 234,
      "tokens": 465,
      "context_length": 10456
    },
    {
      "position": 32,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/validation.py_check_is_fitted_",
      "distance": 1.060835599899292,
      "file_path": "sklearn/utils/validation.py",
      "start_line": 753,
      "end_line": 819,
      "tokens": 476,
      "context_length": 10932
    },
    {
      "position": 33,
      "id": "/tmp/repos/scikit-learn/sklearn/cross_validation.py_cross_val_predict.preds_blocks_cross_val_predict.15.1",
      "distance": 1.06236732006073,
      "file_path": "sklearn/cross_validation.py",
      "start_line": 1381,
      "end_line": 1398,
      "tokens": 214,
      "context_length": 11146
    },
    {
      "position": 34,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py__yield_classifier_checks__yield_classifier_checks.2",
      "distance": 1.0626211166381836,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 112,
      "end_line": 138,
      "tokens": 258,
      "context_length": 11404,
      "file_pos": 10
    },
    {
      "position": 35,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_dont_overwrite_parameters_check_dont_overwrite_parameters.2.21",
      "distance": 1.0653647184371948,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 570,
      "end_line": 618,
      "tokens": 441,
      "context_length": 11845,
      "file_pos": 10
    },
    {
      "position": 36,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_dtype_object_check_complex_data.X.5",
      "distance": 1.0673022270202637,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 488,
      "end_line": 523,
      "tokens": 328,
      "context_length": 12173,
      "file_pos": 10
    },
    {
      "position": 37,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/bagging.py_BaggingRegressor._validate_estimator_",
      "distance": 1.071859359741211,
      "file_path": "sklearn/ensemble/bagging.py",
      "start_line": 970,
      "end_line": 1000,
      "tokens": 248,
      "context_length": 12421
    },
    {
      "position": 38,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py__fit_and_predict__fit_and_predict.predictions.1",
      "distance": 1.0731945037841797,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 701,
      "end_line": 755,
      "tokens": 393,
      "context_length": 12814
    },
    {
      "position": 39,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/__init__.py_safe_mask_safe_mask.5.1",
      "distance": 1.0733602046966553,
      "file_path": "sklearn/utils/__init__.py",
      "start_line": 77,
      "end_line": 99,
      "tokens": 120,
      "context_length": 12934
    },
    {
      "position": 40,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_supervised_y_2d_check_supervised_y_2d.17",
      "distance": 1.0739736557006836,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1361,
      "end_line": 1390,
      "tokens": 324,
      "context_length": 13258,
      "file_pos": 12
    },
    {
      "position": 41,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_sample_weights_list_check_sample_weights_list.3.8",
      "distance": 1.0752753019332886,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 472,
      "end_line": 485,
      "tokens": 166,
      "context_length": 13424,
      "file_pos": 12
    },
    {
      "position": 42,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimator_sparse_data_check_estimator_sparse_data.10.5.5.2",
      "distance": 1.0760353803634644,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 405,
      "end_line": 446,
      "tokens": 427,
      "context_length": 13851,
      "file_pos": 12
    },
    {
      "position": 43,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_class_weight_balanced_classifiers_check_class_weight_balanced_classifiers.10",
      "distance": 1.0761401653289795,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1568,
      "end_line": 1585,
      "tokens": 174,
      "context_length": 14025,
      "file_pos": 12
    },
    {
      "position": 44,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_regressors_int_check_regressors_int.18",
      "distance": 1.0774534940719604,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1430,
      "end_line": 1455,
      "tokens": 277,
      "context_length": 14302,
      "file_pos": 12
    },
    {
      "position": 45,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_fit1d_check_fit1d.rnd.9",
      "distance": 1.0777724981307983,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 708,
      "end_line": 723,
      "tokens": 139,
      "context_length": 14441,
      "file_pos": 12
    },
    {
      "position": 46,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_dict_unchanged_is_public_parameter.1.1",
      "distance": 1.0792481899261475,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 526,
      "end_line": 567,
      "tokens": 334,
      "context_length": 14775,
      "file_pos": 12
    },
    {
      "position": 47,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py__incremental_fit_estimator__incremental_fit_estimator.5.1",
      "distance": 1.0813016891479492,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 1194,
      "end_line": 1212,
      "tokens": 238,
      "context_length": 15013
    },
    {
      "position": 48,
      "id": "/tmp/repos/scikit-learn/sklearn/grid_search.py_BaseSearchCV.predict_BaseSearchCV.inverse_transform.2.1",
      "distance": 1.081554889678955,
      "file_path": "sklearn/grid_search.py",
      "start_line": 442,
      "end_line": 536,
      "tokens": 616,
      "context_length": 15629
    },
    {
      "position": 49,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_fit2d_1feature_check_fit2d_1feature.rnd.16.2.1.1",
      "distance": 1.0846666097640991,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 674,
      "end_line": 705,
      "tokens": 297,
      "context_length": 15926,
      "file_pos": 13
    },
    {
      "position": 50,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_function_transformer.py_FunctionTransformer.fit_FunctionTransformer.fit.4.1",
      "distance": 1.0855762958526611,
      "file_path": "sklearn/preprocessing/_function_transformer.py",
      "start_line": 100,
      "end_line": 119,
      "tokens": 126,
      "context_length": 16052
    },
    {
      "position": 51,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_unfitted_check_estimators_unfitted.9.1",
      "distance": 1.086902379989624,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1329,
      "end_line": 1358,
      "tokens": 219,
      "context_length": 16271,
      "file_pos": 14
    },
    {
      "position": 52,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_transformer_general_check_transformer_general.6",
      "distance": 1.0882434844970703,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 726,
      "end_line": 736,
      "tokens": 142,
      "context_length": 16413,
      "file_pos": 14
    },
    {
      "position": 53,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_mnist.py_ESTIMATORS_ESTIMATORS.1",
      "distance": 1.0883740186691284,
      "file_path": "benchmarks/bench_mnist.py",
      "start_line": 85,
      "end_line": 106,
      "tokens": 314,
      "context_length": 16727
    },
    {
      "position": 54,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_multioutput_estimator_convert_y_2d_check_non_transformer_estimators_n_iter.not_run_check_n_iter.7.8.1",
      "distance": 1.0884275436401367,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1820,
      "end_line": 1864,
      "tokens": 455,
      "context_length": 17182,
      "file_pos": 15
    },
    {
      "position": 55,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/testing.py_all_estimators.15_all_estimators.19.1",
      "distance": 1.0888317823410034,
      "file_path": "sklearn/utils/testing.py",
      "start_line": 619,
      "end_line": 644,
      "tokens": 260,
      "context_length": 17442
    },
    {
      "position": 56,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_function_transformer.py_FunctionTransformer._check_inverse_transform_FunctionTransformer._check_inverse_transform.3.2.1",
      "distance": 1.0889991521835327,
      "file_path": "sklearn/preprocessing/_function_transformer.py",
      "start_line": 87,
      "end_line": 98,
      "tokens": 127,
      "context_length": 17569
    },
    {
      "position": 57,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py__partial_fit_binary__check_estimator.2.1",
      "distance": 1.0892317295074463,
      "file_path": "sklearn/multiclass.py",
      "start_line": 84,
      "end_line": 107,
      "tokens": 184,
      "context_length": 17753
    },
    {
      "position": 58,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_1_MULTI_OUTPUT.1",
      "distance": 1.0893831253051758,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1,
      "end_line": 72,
      "tokens": 625,
      "context_length": 18378,
      "file_pos": 15
    },
    {
      "position": 59,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py_permutation_test_score.2_permutation_test_score.12.1",
      "distance": 1.0902515649795532,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 932,
      "end_line": 948,
      "tokens": 245,
      "context_length": 18623
    },
    {
      "position": 60,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_sample_weights_pandas_series_check_sample_weights_pandas_series.estimator.2.1.7.1",
      "distance": 1.0920302867889404,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 449,
      "end_line": 469,
      "tokens": 253,
      "context_length": 18876,
      "file_pos": 15
    },
    {
      "position": 61,
      "id": "/tmp/repos/scikit-learn/sklearn/cross_validation.py_permutation_test_score.scorer_permutation_test_score.12.1",
      "distance": 1.0922009944915771,
      "file_path": "sklearn/cross_validation.py",
      "start_line": 1940,
      "end_line": 1953,
      "tokens": 217,
      "context_length": 19093
    },
    {
      "position": 62,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_partial_fit_n_features_check_estimators_partial_fit_n_features.2.6.1",
      "distance": 1.0928220748901367,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1066,
      "end_line": 1089,
      "tokens": 185,
      "context_length": 19278,
      "file_pos": 15
    },
    {
      "position": 63,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_search.py_BaseSearchCV.fit.25_BaseSearchCV.fit.49.1",
      "distance": 1.0930732488632202,
      "file_path": "sklearn/model_selection/_search.py",
      "start_line": 684,
      "end_line": 760,
      "tokens": 809,
      "context_length": 20087
    },
    {
      "position": 64,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_class_weight_classifiers_check_class_weight_classifiers.3.2",
      "distance": 1.0947636365890503,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1523,
      "end_line": 1565,
      "tokens": 449,
      "context_length": 20536,
      "file_pos": 16
    },
    {
      "position": 65,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py__yield_regressor_checks__yield_regressor_checks.4",
      "distance": 1.0953624248504639,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 164,
      "end_line": 180,
      "tokens": 153,
      "context_length": 20689,
      "file_pos": 16
    },
    {
      "position": 66,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/bagging.py__parallel_predict_proba__parallel_predict_proba.5.1",
      "distance": 1.0960593223571777,
      "file_path": "sklearn/ensemble/bagging.py",
      "start_line": 124,
      "end_line": 147,
      "tokens": 177,
      "context_length": 20866
    },
    {
      "position": 67,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/iforest.py_IsolationForest.predict_IsolationForest.predict.5.1",
      "distance": 1.0970349311828613,
      "file_path": "sklearn/ensemble/iforest.py",
      "start_line": 208,
      "end_line": 227,
      "tokens": 188,
      "context_length": 21054
    },
    {
      "position": 68,
      "id": "/tmp/repos/scikit-learn/sklearn/cross_validation.py__permutation_test_score__shuffle.3.1",
      "distance": 1.0972416400909424,
      "file_path": "sklearn/cross_validation.py",
      "start_line": 1765,
      "end_line": 1785,
      "tokens": 203,
      "context_length": 21257
    },
    {
      "position": 69,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_fit2d_1sample_check_fit2d_1sample.rnd.10.2.1.1",
      "distance": 1.097496747970581,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 646,
      "end_line": 671,
      "tokens": 234,
      "context_length": 21491,
      "file_pos": 17
    },
    {
      "position": 70,
      "id": "/tmp/repos/scikit-learn/sklearn/multioutput.py__partial_fit_estimator__partial_fit_estimator.3.1",
      "distance": 1.0979140996932983,
      "file_path": "sklearn/multioutput.py",
      "start_line": 44,
      "end_line": 60,
      "tokens": 123,
      "context_length": 21614
    },
    {
      "position": 71,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/bagging.py_BaseBagging.estimators_samples__BaseBagging.estimators_samples_.4.1",
      "distance": 1.0998053550720215,
      "file_path": "sklearn/ensemble/bagging.py",
      "start_line": 409,
      "end_line": 426,
      "tokens": 160,
      "context_length": 21774
    },
    {
      "position": 72,
      "id": "/tmp/repos/scikit-learn/sklearn/cross_validation.py_cross_val_score.2_cross_val_score.9.1",
      "distance": 1.1015443801879883,
      "file_path": "sklearn/cross_validation.py",
      "start_line": 1570,
      "end_line": 1582,
      "tokens": 179,
      "context_length": 21953
    },
    {
      "position": 73,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py__permutation_test_score__shuffle.3.1",
      "distance": 1.1045935153961182,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 951,
      "end_line": 971,
      "tokens": 211,
      "context_length": 22164
    },
    {
      "position": 74,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py__fit_and_score.10__fit_and_score.21.1",
      "distance": 1.1073408126831055,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 448,
      "end_line": 513,
      "tokens": 676,
      "context_length": 22840
    },
    {
      "position": 75,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py_OneVsRestClassifier.fit_OneVsRestClassifier.fit.15.1",
      "distance": 1.107829213142395,
      "file_path": "sklearn/multiclass.py",
      "start_line": 183,
      "end_line": 217,
      "tokens": 353,
      "context_length": 23193
    },
    {
      "position": 76,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_fit_returns_self_check_estimators_fit_returns_self.10",
      "distance": 1.108919620513916,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1310,
      "end_line": 1326,
      "tokens": 154,
      "context_length": 23347,
      "file_pos": 18
    },
    {
      "position": 77,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py__yield_transformer_checks__yield_transformer_checks.3.7.1",
      "distance": 1.1092236042022705,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 183,
      "end_line": 200,
      "tokens": 220,
      "context_length": 23567,
      "file_pos": 18
    },
    {
      "position": 78,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py_OneVsOneClassifier.fit_OneVsOneClassifier.fit.10.1",
      "distance": 1.1105800867080688,
      "file_path": "sklearn/multiclass.py",
      "start_line": 478,
      "end_line": 513,
      "tokens": 283,
      "context_length": 23850
    },
    {
      "position": 79,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py_OneVsRestClassifier.predict_OneVsRestClassifier.predict.5.6.6.1",
      "distance": 1.1111150979995728,
      "file_path": "sklearn/multiclass.py",
      "start_line": 275,
      "end_line": 314,
      "tokens": 374,
      "context_length": 24224
    },
    {
      "position": 80,
      "id": "/tmp/repos/scikit-learn/sklearn/feature_extraction/image.py_19__mask_edges_weights.10.2.1.1",
      "distance": 1.1114939451217651,
      "file_path": "sklearn/feature_extraction/image.py",
      "start_line": 64,
      "end_line": 84,
      "tokens": 169,
      "context_length": 24393
    },
    {
      "position": 81,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_split.py_BaseCrossValidator.4_BaseCrossValidator.__repr__.1.1",
      "distance": 1.1127240657806396,
      "file_path": "sklearn/model_selection/_split.py",
      "start_line": 100,
      "end_line": 121,
      "tokens": 208,
      "context_length": 24601
    },
    {
      "position": 82,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/bagging.py__parallel_decision_function__parallel_predict_regression.2.1",
      "distance": 1.1132367849349976,
      "file_path": "sklearn/ensemble/bagging.py",
      "start_line": 175,
      "end_line": 186,
      "tokens": 104,
      "context_length": 24705
    },
    {
      "position": 83,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/imputation.py_Imputer._dense_fit_Imputer._dense_fit.6.9.6.5.1",
      "distance": 1.113438606262207,
      "file_path": "sklearn/preprocessing/imputation.py",
      "start_line": 250,
      "end_line": 299,
      "tokens": 482,
      "context_length": 25187
    },
    {
      "position": 84,
      "id": "/tmp/repos/scikit-learn/sklearn/cross_validation.py__fit_and_score.10__fit_and_score.17.1",
      "distance": 1.1135709285736084,
      "file_path": "sklearn/cross_validation.py",
      "start_line": 1671,
      "end_line": 1710,
      "tokens": 393,
      "context_length": 25580
    },
    {
      "position": 85,
      "id": "/tmp/repos/scikit-learn/sklearn/dummy.py_DummyClassifier.predict_proba_DummyClassifier.predict_proba.15.1",
      "distance": 1.114966630935669,
      "file_path": "sklearn/dummy.py",
      "start_line": 238,
      "end_line": 298,
      "tokens": 505,
      "context_length": 26085
    },
    {
      "position": 86,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_classifiers_one_label_check_classifiers_one_label.8.5.2.2",
      "distance": 1.1173322200775146,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1166,
      "end_line": 1197,
      "tokens": 258,
      "context_length": 26343,
      "file_pos": 21
    },
    {
      "position": 87,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_transformer_n_iter_check_transformer_n_iter.estimator.2.5.2.1",
      "distance": 1.1175119876861572,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1867,
      "end_line": 1890,
      "tokens": 308,
      "context_length": 26651,
      "file_pos": 21
    },
    {
      "position": 88,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/bagging.py_BaggingClassifier._set_oob_score_BaggingClassifier._set_oob_score.self.oob_score_.1",
      "distance": 1.1181336641311646,
      "file_path": "sklearn/ensemble/bagging.py",
      "start_line": 580,
      "end_line": 616,
      "tokens": 296,
      "context_length": 26947
    },
    {
      "position": 89,
      "id": "/tmp/repos/scikit-learn/sklearn/cluster/birch.py_Birch._check_fit_Birch._check_fit.6.1",
      "distance": 1.1185872554779053,
      "file_path": "sklearn/cluster/birch.py",
      "start_line": 540,
      "end_line": 553,
      "tokens": 140,
      "context_length": 27087
    },
    {
      "position": 90,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py__yield_clustering_checks__yield_all_checks.12",
      "distance": 1.124449372291565,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 203,
      "end_line": 236,
      "tokens": 296,
      "context_length": 27383,
      "file_pos": 22
    },
    {
      "position": 91,
      "id": "/tmp/repos/scikit-learn/sklearn/cross_validation.py__PartitionIterator__PartitionIterator._empty_mask.1.1",
      "distance": 1.128141164779663,
      "file_path": "sklearn/cross_validation.py",
      "start_line": 62,
      "end_line": 103,
      "tokens": 298,
      "context_length": 27681
    },
    {
      "position": 92,
      "id": "/tmp/repos/scikit-learn/sklearn/learning_curve.py__incremental_fit_estimator__incremental_fit_estimator.5.1",
      "distance": 1.1281859874725342,
      "file_path": "sklearn/learning_curve.py",
      "start_line": 240,
      "end_line": 258,
      "tokens": 238,
      "context_length": 27919
    },
    {
      "position": 93,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py_OutputCodeClassifier.predict_",
      "distance": 1.1285512447357178,
      "file_path": "sklearn/multiclass.py",
      "start_line": 756,
      "end_line": 774,
      "tokens": 153,
      "context_length": 28072
    },
    {
      "position": 94,
      "id": "/tmp/repos/scikit-learn/sklearn/cross_validation.py__fit_and_score__fit_and_score.9",
      "distance": 1.129678726196289,
      "file_path": "sklearn/cross_validation.py",
      "start_line": 1585,
      "end_line": 1669,
      "tokens": 637,
      "context_length": 28709
    },
    {
      "position": 95,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/__init__.py_axis0_safe_slice_axis0_safe_slice.3.1",
      "distance": 1.1300407648086548,
      "file_path": "sklearn/utils/__init__.py",
      "start_line": 102,
      "end_line": 119,
      "tokens": 181,
      "context_length": 28890
    },
    {
      "position": 96,
      "id": "/tmp/repos/scikit-learn/sklearn/model_selection/_validation.py_cross_val_predict_cross_val_predict.1",
      "distance": 1.1313724517822266,
      "file_path": "sklearn/model_selection/_validation.py",
      "start_line": 571,
      "end_line": 665,
      "tokens": 815,
      "context_length": 29705
    },
    {
      "position": 97,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_class_weight_balanced_linear_classifier_check_class_weight_balanced_linear_classifier.18",
      "distance": 1.1314356327056885,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1588,
      "end_line": 1619,
      "tokens": 340,
      "context_length": 30045,
      "file_pos": 23
    },
    {
      "position": 98,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py__fit_binary__fit_binary.4.1",
      "distance": 1.1318225860595703,
      "file_path": "sklearn/multiclass.py",
      "start_line": 66,
      "end_line": 81,
      "tokens": 127,
      "context_length": 30172
    },
    {
      "position": 99,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py__fit_ovo_binary__partial_fit_ovo_binary.5.1",
      "distance": 1.1335029602050781,
      "file_path": "sklearn/multiclass.py",
      "start_line": 413,
      "end_line": 435,
      "tokens": 238,
      "context_length": 30410
    },
    {
      "position": 100,
      "id": "/tmp/repos/scikit-learn/sklearn/multiclass.py_OutputCodeClassifier.fit_OutputCodeClassifier.fit.18.1",
      "distance": 1.1339870691299438,
      "file_path": "sklearn/multiclass.py",
      "start_line": 707,
      "end_line": 754,
      "tokens": 384,
      "context_length": 30794
    },
    {
      "position": 101,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/data.py_PowerTransformer._check_input_PowerTransformer._check_input.7.1",
      "distance": 1.1344339847564697,
      "file_path": "sklearn/preprocessing/data.py",
      "start_line": 2752,
      "end_line": 2786,
      "tokens": 305,
      "context_length": 31099
    },
    {
      "position": 102,
      "id": "/tmp/repos/scikit-learn/sklearn/dummy.py_DummyClassifier.predict_DummyClassifier.predict.15.1",
      "distance": 1.1346980333328247,
      "file_path": "sklearn/dummy.py",
      "start_line": 163,
      "end_line": 236,
      "tokens": 595,
      "context_length": 31694
    },
    {
      "position": 103,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_supervised_y_no_nan_check_supervised_y_no_nan.estimator.7.3.1",
      "distance": 1.137117624282837,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 141,
      "end_line": 161,
      "tokens": 203,
      "context_length": 31897,
      "file_pos": 24
    },
    {
      "position": 104,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_covertype.py_ESTIMATORS_ESTIMATORS.1",
      "distance": 1.1381728649139404,
      "file_path": "benchmarks/bench_covertype.py",
      "start_line": 100,
      "end_line": 110,
      "tokens": 151,
      "context_length": 32048
    },
    {
      "position": 105,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_Pipeline.predict_proba_Pipeline.predict_proba.4.1",
      "distance": 1.139014482498169,
      "file_path": "sklearn/pipeline.py",
      "start_line": 339,
      "end_line": 357,
      "tokens": 135,
      "context_length": 32183
    },
    {
      "position": 106,
      "id": "/tmp/repos/scikit-learn/sklearn/neighbors/base.py_NeighborsBase._fit_NeighborsBase._pairwise.2.1",
      "distance": 1.1393425464630127,
      "file_path": "sklearn/neighbors/base.py",
      "start_line": 157,
      "end_line": 267,
      "tokens": 911,
      "context_length": 33094
    }
  ],
  "files": [
    {
      "file_path": "sklearn/utils/estimator_checks.py",
      "position": 1,
      "tokens": 17447,
      "context_length": 17447
    },
    {
      "file_path": "sklearn/model_selection/_validation.py",
      "position": 2,
      "tokens": 11715,
      "context_length": 29162
    },
    {
      "file_path": "sklearn/utils/mocking.py",
      "position": 3,
      "tokens": 628,
      "context_length": 29790
    },
    {
      "file_path": "sklearn/preprocessing/imputation.py",
      "position": 4,
      "tokens": 2984,
      "context_length": 32774
    },
    {
      "file_path": "sklearn/tree/tree.py",
      "position": 5,
      "tokens": 12966,
      "context_length": 45740
    },
    {
      "file_path": "sklearn/multiclass.py",
      "position": 6,
      "tokens": 6488,
      "context_length": 52228
    },
    {
      "file_path": "sklearn/utils/testing.py",
      "position": 7,
      "tokens": 6788,
      "context_length": 59016
    },
    {
      "file_path": "sklearn/feature_selection/from_model.py",
      "position": 8,
      "tokens": 1553,
      "context_length": 60569
    },
    {
      "file_path": "sklearn/cross_validation.py",
      "position": 9,
      "tokens": 17490,
      "context_length": 78059
    },
    {
      "file_path": "sklearn/utils/validation.py",
      "position": 10,
      "tokens": 6731,
      "context_length": 84790
    },
    {
      "file_path": "sklearn/ensemble/bagging.py",
      "position": 11,
      "tokens": 7809,
      "context_length": 92599
    },
    {
      "file_path": "sklearn/utils/__init__.py",
      "position": 12,
      "tokens": 3835,
      "context_length": 96434
    },
    {
      "file_path": "sklearn/grid_search.py",
      "position": 13,
      "tokens": 8508,
      "context_length": 104942
    },
    {
      "file_path": "sklearn/preprocessing/_function_transformer.py",
      "position": 14,
      "tokens": 1388,
      "context_length": 106330
    },
    {
      "file_path": "benchmarks/bench_mnist.py",
      "position": 15,
      "tokens": 1731,
      "context_length": 108061
    },
    {
      "file_path": "sklearn/model_selection/_search.py",
      "position": 16,
      "tokens": 12959,
      "context_length": 121020
    },
    {
      "file_path": "sklearn/ensemble/iforest.py",
      "position": 17,
      "tokens": 2660,
      "context_length": 123680
    },
    {
      "file_path": "sklearn/multioutput.py",
      "position": 18,
      "tokens": 5506,
      "context_length": 129186
    },
    {
      "file_path": "sklearn/feature_extraction/image.py",
      "position": 19,
      "tokens": 4425,
      "context_length": 133611
    },
    {
      "file_path": "sklearn/model_selection/_split.py",
      "position": 20,
      "tokens": 18001,
      "context_length": 151612
    },
    {
      "file_path": "sklearn/dummy.py",
      "position": 21,
      "tokens": 3660,
      "context_length": 155272
    },
    {
      "file_path": "sklearn/cluster/birch.py",
      "position": 22,
      "tokens": 5283,
      "context_length": 160555
    },
    {
      "file_path": "sklearn/learning_curve.py",
      "position": 23,
      "tokens": 3408,
      "context_length": 163963
    },
    {
      "file_path": "sklearn/preprocessing/data.py",
      "position": 24,
      "tokens": 25801,
      "context_length": 189764
    },
    {
      "file_path": "benchmarks/bench_covertype.py",
      "position": 25,
      "tokens": 1903,
      "context_length": 191667
    },
    {
      "file_path": "sklearn/pipeline.py",
      "position": 26,
      "tokens": 6206,
      "context_length": 197873
    },
    {
      "file_path": "sklearn/neighbors/base.py",
      "position": 27,
      "tokens": 6680,
      "context_length": 204553
    }
  ]
}