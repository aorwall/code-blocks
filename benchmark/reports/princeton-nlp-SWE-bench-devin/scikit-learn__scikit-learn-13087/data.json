{
  "instance_id": "scikit-learn__scikit-learn-13087",
  "model_patch": "diff --git a/sklearn/calibration.py b/sklearn/calibration.py\nindex 2fcccab7e..61a54fd0c 100644\n--- a/sklearn/calibration.py\n+++ b/sklearn/calibration.py\n@@ -519,7 +519,7 @@ class _SigmoidCalibration(BaseEstimator, RegressorMixin):\n         return expit(-(self.a_ * T + self.b_))\n \n \n-def calibration_curve(y_true, y_prob, normalize=False, n_bins=5):\n+def calibration_curve(y_true, y_prob, normalize=False, bins=5):\n     \"\"\"Compute true and predicted probabilities for a calibration curve.\n \n      The method assumes the inputs come from a binary classifier.\n@@ -541,10 +541,11 @@ def calibration_curve(y_true, y_prob, normalize=False, n_bins=5):\n         a proper probability. If True, the smallest value in y_prob is mapped\n         onto 0 and the largest one onto 1.\n \n-    n_bins : int\n-        Number of bins. A bigger number requires more data. Bins with no data\n-        points (i.e. without corresponding values in y_prob) will not be\n-        returned, thus there may be fewer than n_bins in the return value.\n+    bins : int or array-like, shape (n_bins,)\n+        Number of bins or the bin edges to be used. If bins is an integer, it\n+        defines the number of equal-width bins in the range [0, 1]. If bins is\n+        an array, it defines the bin edges allowing for non-uniform width of\n+        bins.\n \n     Returns\n     -------\n@@ -572,7 +573,11 @@ def calibration_curve(y_true, y_prob, normalize=False, n_bins=5):\n \n     y_true = _check_binary_probabilistic_predictions(y_true, y_prob)\n \n-    bins = np.linspace(0., 1. + 1e-8, n_bins + 1)\n+    if isinstance(bins, int):\n+        bins = np.linspace(0., 1. + 1e-8, bins + 1)\n+    else:\n+        bins = np.array(bins)\n+\n     binids = np.digitize(y_prob, bins) - 1\n \n     bin_sums = np.bincount(binids, weights=y_prob, minlength=len(bins))\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "sklearn/calibration.py"
  ],
  "repo": "scikit-learn/scikit-learn",
  "base_commit": "a73260db9c0b63d582ef4a7f3c696b68058c1c43",
  "patch": "diff --git a/sklearn/calibration.py b/sklearn/calibration.py\n--- a/sklearn/calibration.py\n+++ b/sklearn/calibration.py\n@@ -519,7 +519,8 @@ def predict(self, T):\n         return expit(-(self.a_ * T + self.b_))\n \n \n-def calibration_curve(y_true, y_prob, normalize=False, n_bins=5):\n+def calibration_curve(y_true, y_prob, normalize=False, n_bins=5,\n+                      strategy='uniform'):\n     \"\"\"Compute true and predicted probabilities for a calibration curve.\n \n      The method assumes the inputs come from a binary classifier.\n@@ -546,6 +547,14 @@ def calibration_curve(y_true, y_prob, normalize=False, n_bins=5):\n         points (i.e. without corresponding values in y_prob) will not be\n         returned, thus there may be fewer than n_bins in the return value.\n \n+    strategy : {'uniform', 'quantile'}, (default='uniform')\n+        Strategy used to define the widths of the bins.\n+\n+        uniform\n+            All bins have identical widths.\n+        quantile\n+            All bins have the same number of points.\n+\n     Returns\n     -------\n     prob_true : array, shape (n_bins,) or smaller\n@@ -572,7 +581,16 @@ def calibration_curve(y_true, y_prob, normalize=False, n_bins=5):\n \n     y_true = _check_binary_probabilistic_predictions(y_true, y_prob)\n \n-    bins = np.linspace(0., 1. + 1e-8, n_bins + 1)\n+    if strategy == 'quantile':  # Determine bin edges by distribution of data\n+        quantiles = np.linspace(0, 1, n_bins + 1)\n+        bins = np.percentile(y_prob, quantiles * 100)\n+        bins[-1] = bins[-1] + 1e-8\n+    elif strategy == 'uniform':\n+        bins = np.linspace(0., 1. + 1e-8, n_bins + 1)\n+    else:\n+        raise ValueError(\"Invalid entry to 'strategy' input. Strategy \"\n+                         \"must be either 'quantile' or 'uniform'.\")\n+\n     binids = np.digitize(y_prob, bins) - 1\n \n     bin_sums = np.bincount(binids, weights=y_prob, minlength=len(bins))\n",
  "test_patch": "diff --git a/sklearn/tests/test_calibration.py b/sklearn/tests/test_calibration.py\n--- a/sklearn/tests/test_calibration.py\n+++ b/sklearn/tests/test_calibration.py\n@@ -259,6 +259,21 @@ def test_calibration_curve():\n     assert_raises(ValueError, calibration_curve, [1.1], [-0.1],\n                   normalize=False)\n \n+    # test that quantiles work as expected\n+    y_true2 = np.array([0, 0, 0, 0, 1, 1])\n+    y_pred2 = np.array([0., 0.1, 0.2, 0.5, 0.9, 1.])\n+    prob_true_quantile, prob_pred_quantile = calibration_curve(\n+        y_true2, y_pred2, n_bins=2, strategy='quantile')\n+\n+    assert len(prob_true_quantile) == len(prob_pred_quantile)\n+    assert len(prob_true_quantile) == 2\n+    assert_almost_equal(prob_true_quantile, [0, 2 / 3])\n+    assert_almost_equal(prob_pred_quantile, [0.1, 0.8])\n+\n+    # Check that error is raised when invalid strategy is selected\n+    assert_raises(ValueError, calibration_curve, y_true2, y_pred2,\n+                  strategy='percentile')\n+\n \n def test_calibration_nan_imputer():\n     \"\"\"Test that calibration can accept nan\"\"\"\n",
  "problem_statement": "Feature request: support for arbitrary bin spacing in calibration.calibration_curve\n#### Description\r\nI was using [`sklearn.calibration.calibration_curve`](https://scikit-learn.org/stable/modules/generated/sklearn.calibration.calibration_curve.html), and it currently accepts an `n_bins` parameter to specify the number of bins to evenly partition the probability space between 0 and 1.\r\n\r\nHowever, I am using this in combination with a gradient boosting model in which the probabilities are very uncalibrated, and most of the predictions are close to 0. When I use the calibrated classifier, the result is very noisy because there are many data points in some bins and few, if any, in others (see example below).\r\n\r\nIn the code below, I made a work-around to do what I want and show a plot of my output (in semilog space because of the skewed distribution). I haven't contributed to a large open-source project before, but if there's agreement this would be a useful feature, I would be happy to try to draft up a PR.\r\n\r\n#### My work-around\r\n```python\r\nimport numpy as np\r\n\r\ndef my_calibration_curve(y_true, y_prob, my_bins):\r\n    prob_true = []\r\n    prob_pred = []\r\n    for i in range(len(my_bins) - 1):\r\n        idx_use = np.logical_and(y_prob < my_bins[i+1], y_prob >= my_bins[i])\r\n        prob_true.append(y_true[idx_use].mean())\r\n        prob_pred.append(y_pred[idx_use].mean())\r\n    return prob_true, prob_pred\r\n\r\n# example bins:\r\n# my_bins = np.concatenate([[0], np.logspace(-3, 0, 10)])\r\n```\r\n\r\n#### Results comparison\r\nNotice the large disparity in results between the different bins chosen. For this reason, I think the user should be able to choose the bin edges, as in numpy's or matplotlib's [histogram](https://docs.scipy.org/doc/numpy/reference/generated/numpy.histogram.html) functions.\r\n\r\n![image](https://user-images.githubusercontent.com/7298871/52183657-d1e18c80-27be-11e9-9c84-011c043e0978.png)\r\n\r\n\r\n#### Versions\r\n\r\n```\r\nDarwin-18.0.0-x86_64-i386-64bit\r\nPython 3.6.4 |Anaconda custom (x86_64)| (default, Jan 16 2018, 12:04:33) \r\n[GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)]\r\nNumPy 1.15.1\r\nSciPy 1.1.0\r\nScikit-Learn 0.19.1\r\n```\r\n\n",
  "hints_text": "It actually sounds like the problem is not the number of bins, but that\nbins should be constructed to reflect the distribution, rather than the\nrange, of the input. I think we should still use n_bins as the primary\nparameter, but allow those bins to be quantile based, providing a strategy\noption for discretisation (\nhttps://scikit-learn.org/stable/auto_examples/preprocessing/plot_discretization_strategies.html\n).\n\nMy only question is whether this is still true to the meaning of\n\"calibration curve\" / \"reliability curve\"\n\nQuantile bins seem a good default here...\n\nYup, quantile bins would have my desired effect. I just thought it would be nice to allow more flexibility by allowing a `bins` parameter, but I suppose it's not necessary.\r\n\r\nI think this still satisfies \"calibration curve.\" I don't see any reason that a \"calibration\" needs to have evenly-spaced bins. Often it's natural to do things in a log-spaced manner.\nI'm happy to see a pr for quantiles here\nSweet. I'll plan to do work on it next weekend",
  "created_at": "2019-02-04T08:08:07Z",
  "version": "0.21",
  "FAIL_TO_PASS": "[\"sklearn/tests/test_calibration.py::test_calibration_curve\"]",
  "PASS_TO_PASS": "[\"sklearn/tests/test_calibration.py::test_calibration\", \"sklearn/tests/test_calibration.py::test_calibration_less_classes\", \"sklearn/tests/test_calibration.py::test_calibration_multiclass\", \"sklearn/tests/test_calibration.py::test_calibration_nan_imputer\", \"sklearn/tests/test_calibration.py::test_calibration_prefit\", \"sklearn/tests/test_calibration.py::test_calibration_prob_sum\", \"sklearn/tests/test_calibration.py::test_sample_weight\", \"sklearn/tests/test_calibration.py::test_sigmoid_calibration\"]",
  "environment_setup_commit": "7813f7efb5b2012412888b69e73d76f2df2b50b6",
  "patch_files": [
    "sklearn/calibration.py"
  ],
  "test_patch_files": [
    "sklearn/tests/test_calibration.py"
  ],
  "patch_diff_details": {
    "sklearn/calibration.py": {
      "diffs": [
        {
          "start_line_old": 522,
          "end_line_old": 522,
          "file_pos": 4,
          "file_context_length": 8521,
          "pos": 5,
          "context_length": 3204
        },
        {
          "start_line_old": 549,
          "end_line_old": 549,
          "file_pos": 4,
          "file_context_length": 8521,
          "pos": 5,
          "context_length": 3204
        },
        {
          "start_line_old": 575,
          "end_line_old": 575,
          "file_pos": 4,
          "file_context_length": 8521,
          "pos": 5,
          "context_length": 3204
        }
      ]
    }
  },
  "vectors": 3155,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_calibration.py_1_46",
      "distance": 0.7498794794082642,
      "file_path": "examples/calibration/plot_calibration.py",
      "start_line": 1,
      "end_line": 82,
      "tokens": 764,
      "context_length": 764
    },
    {
      "position": 2,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_calibration_curve.py_1_17",
      "distance": 0.7953829765319824,
      "file_path": "examples/calibration/plot_calibration_curve.py",
      "start_line": 1,
      "end_line": 69,
      "tokens": 664,
      "context_length": 1428
    },
    {
      "position": 3,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_compare_calibration.py_1_21",
      "distance": 0.8340673446655273,
      "file_path": "examples/calibration/plot_compare_calibration.py",
      "start_line": 1,
      "end_line": 77,
      "tokens": 755,
      "context_length": 2183
    },
    {
      "position": 4,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_calibration.py_clf_sigmoid_score_",
      "distance": 0.8585755825042725,
      "file_path": "examples/calibration/plot_calibration.py",
      "start_line": 84,
      "end_line": 120,
      "tokens": 401,
      "context_length": 2584
    },
    {
      "position": 5,
      "id": "/tmp/repos/scikit-learn/sklearn/calibration.py_calibration_curve_",
      "distance": 0.8700510263442993,
      "file_path": "sklearn/calibration.py",
      "start_line": 522,
      "end_line": 587,
      "tokens": 620,
      "context_length": 3204,
      "file_pos": 4
    },
    {
      "position": 6,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_calibration_multiclass.py_57_",
      "distance": 0.8791528344154358,
      "file_path": "examples/calibration/plot_calibration_multiclass.py",
      "start_line": 122,
      "end_line": 169,
      "tokens": 588,
      "context_length": 3792
    },
    {
      "position": 7,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_compare_calibration.py_lr_",
      "distance": 0.8845252394676208,
      "file_path": "examples/calibration/plot_compare_calibration.py",
      "start_line": 78,
      "end_line": 123,
      "tokens": 407,
      "context_length": 4199
    },
    {
      "position": 8,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_calibration_multiclass.py_1_41",
      "distance": 0.8884139060974121,
      "file_path": "examples/calibration/plot_calibration_multiclass.py",
      "start_line": 1,
      "end_line": 80,
      "tokens": 764,
      "context_length": 4963
    },
    {
      "position": 9,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_calibration_multiclass.py_42_56",
      "distance": 0.8969330787658691,
      "file_path": "examples/calibration/plot_calibration_multiclass.py",
      "start_line": 81,
      "end_line": 121,
      "tokens": 752,
      "context_length": 5715
    },
    {
      "position": 10,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_discretization_classification.py_1_classifiers.1",
      "distance": 0.8975741267204285,
      "file_path": "examples/preprocessing/plot_discretization_classification.py",
      "start_line": 1,
      "end_line": 89,
      "tokens": 793,
      "context_length": 6508
    },
    {
      "position": 11,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_discretization.py_KBinsDiscretizer._validate_n_bins_KBinsDiscretizer._validate_n_bins.9.1",
      "distance": 0.9129323959350586,
      "file_path": "sklearn/preprocessing/_discretization.py",
      "start_line": 191,
      "end_line": 223,
      "tokens": 345,
      "context_length": 6853
    },
    {
      "position": 12,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_discretization.py_1_KBinsDiscretizer.1",
      "distance": 0.9430334568023682,
      "file_path": "sklearn/preprocessing/_discretization.py",
      "start_line": 1,
      "end_line": 109,
      "tokens": 936,
      "context_length": 7789
    },
    {
      "position": 13,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_discretization.py_1_",
      "distance": 0.9549049139022827,
      "file_path": "examples/preprocessing/plot_discretization.py",
      "start_line": 1,
      "end_line": 87,
      "tokens": 779,
      "context_length": 8568
    },
    {
      "position": 14,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_1_31",
      "distance": 0.9706885814666748,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 1,
      "end_line": 105,
      "tokens": 784,
      "context_length": 9352
    },
    {
      "position": 15,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_discretization_strategies.py_1_",
      "distance": 0.9791500568389893,
      "file_path": "examples/preprocessing/plot_discretization_strategies.py",
      "start_line": 1,
      "end_line": 96,
      "tokens": 787,
      "context_length": 10139
    },
    {
      "position": 16,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_partial_dependence.py_main_",
      "distance": 0.9864691495895386,
      "file_path": "examples/ensemble/plot_partial_dependence.py",
      "start_line": 61,
      "end_line": 115,
      "tokens": 496,
      "context_length": 10635
    },
    {
      "position": 17,
      "id": "/tmp/repos/scikit-learn/examples/calibration/plot_calibration_curve.py_plot_calibration_curve_",
      "distance": 0.9980362057685852,
      "file_path": "examples/calibration/plot_calibration_curve.py",
      "start_line": 72,
      "end_line": 135,
      "tokens": 668,
      "context_length": 11303
    },
    {
      "position": 18,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_plot_distribution_plot_distribution.23",
      "distance": 0.9982038736343384,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 149,
      "end_line": 180,
      "tokens": 320,
      "context_length": 11623
    },
    {
      "position": 19,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_scaling_importance.py_1_30",
      "distance": 1.003838062286377,
      "file_path": "examples/preprocessing/plot_scaling_importance.py",
      "start_line": 1,
      "end_line": 81,
      "tokens": 754,
      "context_length": 12377
    },
    {
      "position": 20,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_42_122",
      "distance": 1.0102639198303223,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 219,
      "end_line": 310,
      "tokens": 815,
      "context_length": 13192
    },
    {
      "position": 21,
      "id": "/tmp/repos/scikit-learn/examples/plot_anomaly_comparison.py_anomaly_algorithms_",
      "distance": 1.01076340675354,
      "file_path": "examples/plot_anomaly_comparison.py",
      "start_line": 81,
      "end_line": 153,
      "tokens": 763,
      "context_length": 13955
    },
    {
      "position": 22,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_discretization.py_KBinsDiscretizer.__init___KBinsDiscretizer.fit.14.1",
      "distance": 1.011778473854065,
      "file_path": "sklearn/preprocessing/_discretization.py",
      "start_line": 111,
      "end_line": 189,
      "tokens": 708,
      "context_length": 14663
    },
    {
      "position": 23,
      "id": "/tmp/repos/scikit-learn/sklearn/calibration.py__sigmoid_calibration__sigmoid_calibration.objective.P.3.2.1.1",
      "distance": 1.0245331525802612,
      "file_path": "sklearn/calibration.py",
      "start_line": 404,
      "end_line": 450,
      "tokens": 363,
      "context_length": 15026,
      "file_pos": 13
    },
    {
      "position": 24,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_gradient_boosting_oob.py_1_37",
      "distance": 1.0245540142059326,
      "file_path": "examples/ensemble/plot_gradient_boosting_oob.py",
      "start_line": 1,
      "end_line": 95,
      "tokens": 793,
      "context_length": 15819
    },
    {
      "position": 25,
      "id": "/tmp/repos/scikit-learn/sklearn/calibration.py_CalibratedClassifierCV_CalibratedClassifierCV.1",
      "distance": 1.0255720615386963,
      "file_path": "sklearn/calibration.py",
      "start_line": 31,
      "end_line": 108,
      "tokens": 762,
      "context_length": 16581,
      "file_pos": 14
    },
    {
      "position": 26,
      "id": "/tmp/repos/scikit-learn/examples/model_selection/plot_learning_curve.py_digits_",
      "distance": 1.0268146991729736,
      "file_path": "examples/model_selection/plot_learning_curve.py",
      "start_line": 110,
      "end_line": 129,
      "tokens": 221,
      "context_length": 16802
    },
    {
      "position": 27,
      "id": "/tmp/repos/scikit-learn/examples/plot_johnson_lindenstrauss_bound.py_sys_dists_50.1",
      "distance": 1.0300464630126953,
      "file_path": "examples/plot_johnson_lindenstrauss_bound.py",
      "start_line": 94,
      "end_line": 168,
      "tokens": 709,
      "context_length": 17511
    },
    {
      "position": 28,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_plot_neighbors.py_barplot_neighbors.20_",
      "distance": 1.0317471027374268,
      "file_path": "benchmarks/bench_plot_neighbors.py",
      "start_line": 111,
      "end_line": 186,
      "tokens": 663,
      "context_length": 18174
    },
    {
      "position": 29,
      "id": "/tmp/repos/scikit-learn/examples/classification/plot_classifier_comparison.py_1_35",
      "distance": 1.033733606338501,
      "file_path": "examples/classification/plot_classifier_comparison.py",
      "start_line": 1,
      "end_line": 78,
      "tokens": 633,
      "context_length": 18807
    },
    {
      "position": 30,
      "id": "/tmp/repos/scikit-learn/examples/classification/plot_classification_probability.py_1_",
      "distance": 1.0338112115859985,
      "file_path": "examples/classification/plot_classification_probability.py",
      "start_line": 1,
      "end_line": 99,
      "tokens": 795,
      "context_length": 19602
    },
    {
      "position": 31,
      "id": "/tmp/repos/scikit-learn/examples/datasets/plot_random_dataset.py_1_",
      "distance": 1.0343936681747437,
      "file_path": "examples/datasets/plot_random_dataset.py",
      "start_line": 1,
      "end_line": 68,
      "tokens": 645,
      "context_length": 20247
    },
    {
      "position": 32,
      "id": "/tmp/repos/scikit-learn/examples/neural_networks/plot_rbm_logistic_classification.py_16_",
      "distance": 1.0349892377853394,
      "file_path": "examples/neural_networks/plot_rbm_logistic_classification.py",
      "start_line": 78,
      "end_line": 141,
      "tokens": 529,
      "context_length": 20776
    },
    {
      "position": 33,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_voting_probas.py_1_",
      "distance": 1.0352178812026978,
      "file_path": "examples/ensemble/plot_voting_probas.py",
      "start_line": 1,
      "end_line": 84,
      "tokens": 788,
      "context_length": 21564
    },
    {
      "position": 34,
      "id": "/tmp/repos/scikit-learn/sklearn/calibration.py__sigmoid_calibration.grad__sigmoid_calibration.17.1",
      "distance": 1.0374510288238525,
      "file_path": "sklearn/calibration.py",
      "start_line": 452,
      "end_line": 465,
      "tokens": 198,
      "context_length": 21762,
      "file_pos": 22
    },
    {
      "position": 35,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_bayesian_ridge.py_1_y_58.1",
      "distance": 1.0383665561676025,
      "file_path": "examples/linear_model/plot_bayesian_ridge.py",
      "start_line": 1,
      "end_line": 99,
      "tokens": 772,
      "context_length": 22534
    },
    {
      "position": 36,
      "id": "/tmp/repos/scikit-learn/examples/plot_johnson_lindenstrauss_bound.py_51_",
      "distance": 1.0423036813735962,
      "file_path": "examples/plot_johnson_lindenstrauss_bound.py",
      "start_line": 170,
      "end_line": 208,
      "tokens": 376,
      "context_length": 22910
    },
    {
      "position": 37,
      "id": "/tmp/repos/scikit-learn/sklearn/naive_bayes.py_BernoulliNB.__init___BernoulliNB._update_feature_log_prob.self.feature_log_prob_.1",
      "distance": 1.042311668395996,
      "file_path": "sklearn/naive_bayes.py",
      "start_line": 907,
      "end_line": 927,
      "tokens": 217,
      "context_length": 23127
    },
    {
      "position": 38,
      "id": "/tmp/repos/scikit-learn/sklearn/calibration.py_1__check_binary_probabilistic_predictions",
      "distance": 1.046701431274414,
      "file_path": "sklearn/calibration.py",
      "start_line": 1,
      "end_line": 28,
      "tokens": 164,
      "context_length": 23291,
      "file_pos": 24
    },
    {
      "position": 39,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_123_",
      "distance": 1.047533631324768,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 311,
      "end_line": 356,
      "tokens": 353,
      "context_length": 23644
    },
    {
      "position": 40,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_gradient_boosting_quantile.py_1_",
      "distance": 1.0491242408752441,
      "file_path": "examples/ensemble/plot_gradient_boosting_quantile.py",
      "start_line": 1,
      "end_line": 80,
      "tokens": 548,
      "context_length": 24192
    },
    {
      "position": 41,
      "id": "/tmp/repos/scikit-learn/sklearn/calibration.py__CalibratedClassifier._preproc__CalibratedClassifier._preproc.4.1",
      "distance": 1.051305890083313,
      "file_path": "sklearn/calibration.py",
      "start_line": 298,
      "end_line": 315,
      "tokens": 144,
      "context_length": 24336,
      "file_pos": 25
    },
    {
      "position": 42,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_gradient_boosting_regularization.py_1_",
      "distance": 1.0522246360778809,
      "file_path": "examples/ensemble/plot_gradient_boosting_regularization.py",
      "start_line": 1,
      "end_line": 80,
      "tokens": 696,
      "context_length": 25032
    },
    {
      "position": 43,
      "id": "/tmp/repos/scikit-learn/examples/gaussian_process/plot_gpc.py_1_33",
      "distance": 1.0522611141204834,
      "file_path": "examples/gaussian_process/plot_gpc.py",
      "start_line": 1,
      "end_line": 77,
      "tokens": 751,
      "context_length": 25783
    },
    {
      "position": 44,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_types_SUPPORT_STRING.1",
      "distance": 1.056477427482605,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1,
      "end_line": 78,
      "tokens": 703,
      "context_length": 26486
    },
    {
      "position": 45,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_kmeans_assumptions.py_1_",
      "distance": 1.0581676959991455,
      "file_path": "examples/cluster/plot_kmeans_assumptions.py",
      "start_line": 1,
      "end_line": 65,
      "tokens": 511,
      "context_length": 26997
    },
    {
      "position": 46,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/gradient_boosting.py_GradientBoostingClassifier.1_GradientBoostingClassifier.1",
      "distance": 1.0617889165878296,
      "file_path": "sklearn/ensemble/gradient_boosting.py",
      "start_line": 1687,
      "end_line": 1934,
      "tokens": 2499,
      "context_length": 29496
    },
    {
      "position": 47,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_35_make_plot.12",
      "distance": 1.0630302429199219,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 182,
      "end_line": 216,
      "tokens": 381,
      "context_length": 29877
    },
    {
      "position": 48,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_plot_neighbors.py_barplot_neighbors_barplot_neighbors.19",
      "distance": 1.0632027387619019,
      "file_path": "benchmarks/bench_plot_neighbors.py",
      "start_line": 26,
      "end_line": 109,
      "tokens": 710,
      "context_length": 30587
    },
    {
      "position": 49,
      "id": "/tmp/repos/scikit-learn/examples/plot_kernel_approximation.py_1_feature_map_nystroem.1",
      "distance": 1.0637377500534058,
      "file_path": "examples/plot_kernel_approximation.py",
      "start_line": 1,
      "end_line": 87,
      "tokens": 735,
      "context_length": 31322
    },
    {
      "position": 50,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_discretization_classification.py_35_",
      "distance": 1.065385103225708,
      "file_path": "examples/preprocessing/plot_discretization_classification.py",
      "start_line": 109,
      "end_line": 193,
      "tokens": 874,
      "context_length": 32196
    },
    {
      "position": 51,
      "id": "/tmp/repos/scikit-learn/examples/gaussian_process/plot_gpc_isoprobability.py_1_51",
      "distance": 1.0656265020370483,
      "file_path": "examples/gaussian_process/plot_gpc_isoprobability.py",
      "start_line": 1,
      "end_line": 88,
      "tokens": 759,
      "context_length": 32955
    },
    {
      "position": 52,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_plot_incremental_pca.py_variable_batch_size_comparison_",
      "distance": 1.0660563707351685,
      "file_path": "benchmarks/bench_plot_incremental_pca.py",
      "start_line": 104,
      "end_line": 151,
      "tokens": 468,
      "context_length": 33423
    },
    {
      "position": 53,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_gradient_boosting_early_stopping.py_1_bar2.1",
      "distance": 1.0746334791183472,
      "file_path": "examples/ensemble/plot_gradient_boosting_early_stopping.py",
      "start_line": 1,
      "end_line": 103,
      "tokens": 772,
      "context_length": 34195
    },
    {
      "position": 54,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_gradient_boosting_regression.py_1_",
      "distance": 1.0760458707809448,
      "file_path": "examples/ensemble/plot_gradient_boosting_regression.py",
      "start_line": 1,
      "end_line": 77,
      "tokens": 546,
      "context_length": 34741
    },
    {
      "position": 55,
      "id": "/tmp/repos/scikit-learn/examples/applications/plot_species_distribution_modeling.py_plot_species_distribution.20_",
      "distance": 1.0765483379364014,
      "file_path": "examples/applications/plot_species_distribution_modeling.py",
      "start_line": 128,
      "end_line": 206,
      "tokens": 796,
      "context_length": 35537
    },
    {
      "position": 56,
      "id": "/tmp/repos/scikit-learn/sklearn/calibration.py__CalibratedClassifier.predict_proba__CalibratedClassifier.predict_proba.12.1",
      "distance": 1.0783686637878418,
      "file_path": "sklearn/calibration.py",
      "start_line": 362,
      "end_line": 401,
      "tokens": 325,
      "context_length": 35862,
      "file_pos": 36
    },
    {
      "position": 57,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_feature_agglomeration_vs_univariate_selection.py_1_72",
      "distance": 1.0793025493621826,
      "file_path": "examples/cluster/plot_feature_agglomeration_vs_univariate_selection.py",
      "start_line": 1,
      "end_line": 94,
      "tokens": 785,
      "context_length": 36647
    },
    {
      "position": 58,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_plot_nmf.py__fit_projected_gradient__fit_projected_gradient.11.1",
      "distance": 1.0797219276428223,
      "file_path": "benchmarks/bench_plot_nmf.py",
      "start_line": 151,
      "end_line": 192,
      "tokens": 476,
      "context_length": 37123
    },
    {
      "position": 59,
      "id": "/tmp/repos/scikit-learn/examples/gaussian_process/plot_gpr_noisy.py_1_33",
      "distance": 1.0800319910049438,
      "file_path": "examples/gaussian_process/plot_gpr_noisy.py",
      "start_line": 1,
      "end_line": 67,
      "tokens": 747,
      "context_length": 37870
    },
    {
      "position": 60,
      "id": "/tmp/repos/scikit-learn/examples/gaussian_process/plot_gpc_isoprobability.py_cs_",
      "distance": 1.0808223485946655,
      "file_path": "examples/gaussian_process/plot_gpc_isoprobability.py",
      "start_line": 90,
      "end_line": 103,
      "tokens": 121,
      "context_length": 37991
    },
    {
      "position": 61,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_linkage_comparison.py_1_datasets.1",
      "distance": 1.0810766220092773,
      "file_path": "examples/cluster/plot_linkage_comparison.py",
      "start_line": 1,
      "end_line": 80,
      "tokens": 576,
      "context_length": 38567
    },
    {
      "position": 62,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_random_forest_embedding.py_1_44",
      "distance": 1.0811911821365356,
      "file_path": "examples/ensemble/plot_random_forest_embedding.py",
      "start_line": 1,
      "end_line": 84,
      "tokens": 757,
      "context_length": 39324
    },
    {
      "position": 63,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_sparse_logistic_regression_20newsgroups.py_1_models.1",
      "distance": 1.0817596912384033,
      "file_path": "examples/linear_model/plot_sparse_logistic_regression_20newsgroups.py",
      "start_line": 1,
      "end_line": 63,
      "tokens": 497,
      "context_length": 39821
    },
    {
      "position": 64,
      "id": "/tmp/repos/scikit-learn/examples/neighbors/plot_species_kde.py_1_30",
      "distance": 1.083054780960083,
      "file_path": "examples/neighbors/plot_species_kde.py",
      "start_line": 1,
      "end_line": 78,
      "tokens": 690,
      "context_length": 40511
    },
    {
      "position": 65,
      "id": "/tmp/repos/scikit-learn/sklearn/datasets/samples_generator.py_make_classification.generator_make_classification.30",
      "distance": 1.083162546157837,
      "file_path": "sklearn/datasets/samples_generator.py",
      "start_line": 154,
      "end_line": 221,
      "tokens": 782,
      "context_length": 41293
    },
    {
      "position": 66,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_adaboost_twoclass.py_1_43",
      "distance": 1.0849249362945557,
      "file_path": "examples/ensemble/plot_adaboost_twoclass.py",
      "start_line": 1,
      "end_line": 85,
      "tokens": 705,
      "context_length": 41998
    },
    {
      "position": 67,
      "id": "/tmp/repos/scikit-learn/examples/model_selection/plot_grid_search_refit_callable.py_pipe_",
      "distance": 1.0852971076965332,
      "file_path": "examples/model_selection/plot_grid_search_refit_callable.py",
      "start_line": 78,
      "end_line": 117,
      "tokens": 323,
      "context_length": 42321
    },
    {
      "position": 68,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/partial_dependence.py_plot_partial_dependence.plt_plot_partial_dependence.pdp_lim.1",
      "distance": 1.0859222412109375,
      "file_path": "sklearn/ensemble/partial_dependence.py",
      "start_line": 239,
      "end_line": 321,
      "tokens": 768,
      "context_length": 43089
    },
    {
      "position": 69,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/partial_dependence.py_plot_partial_dependence.27_plot_partial_dependence.axs.1",
      "distance": 1.0860446691513062,
      "file_path": "sklearn/ensemble/partial_dependence.py",
      "start_line": 322,
      "end_line": 342,
      "tokens": 276,
      "context_length": 43365
    },
    {
      "position": 70,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_cluster_comparison.py_1_datasets.1",
      "distance": 1.0867053270339966,
      "file_path": "examples/cluster/plot_cluster_comparison.py",
      "start_line": 1,
      "end_line": 86,
      "tokens": 698,
      "context_length": 44063
    },
    {
      "position": 71,
      "id": "/tmp/repos/scikit-learn/examples/classification/plot_lda.py_17_",
      "distance": 1.0885303020477295,
      "file_path": "examples/classification/plot_lda.py",
      "start_line": 38,
      "end_line": 69,
      "tokens": 325,
      "context_length": 44388
    },
    {
      "position": 72,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/partial_dependence.py_plot_partial_dependence.34_",
      "distance": 1.0888997316360474,
      "file_path": "sklearn/ensemble/partial_dependence.py",
      "start_line": 343,
      "end_line": 395,
      "tokens": 668,
      "context_length": 45056
    },
    {
      "position": 73,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_bias_variance.py_X_train_",
      "distance": 1.0892919301986694,
      "file_path": "examples/ensemble/plot_bias_variance.py",
      "start_line": 116,
      "end_line": 192,
      "tokens": 684,
      "context_length": 45740
    },
    {
      "position": 74,
      "id": "/tmp/repos/scikit-learn/examples/model_selection/plot_precision_recall.py_10_81",
      "distance": 1.0915195941925049,
      "file_path": "examples/model_selection/plot_precision_recall.py",
      "start_line": 101,
      "end_line": 205,
      "tokens": 770,
      "context_length": 46510
    },
    {
      "position": 75,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_glmnet.py_10_",
      "distance": 1.0922839641571045,
      "file_path": "benchmarks/bench_glmnet.py",
      "start_line": 47,
      "end_line": 129,
      "tokens": 796,
      "context_length": 47306
    },
    {
      "position": 76,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_discretization.py_KBinsDiscretizer.transform_KBinsDiscretizer.transform.10.1",
      "distance": 1.0924875736236572,
      "file_path": "sklearn/preprocessing/_discretization.py",
      "start_line": 225,
      "end_line": 261,
      "tokens": 341,
      "context_length": 47647
    },
    {
      "position": 77,
      "id": "/tmp/repos/scikit-learn/examples/text/plot_document_classification_20newsgroups.py_results_",
      "distance": 1.0929319858551025,
      "file_path": "examples/text/plot_document_classification_20newsgroups.py",
      "start_line": 247,
      "end_line": 323,
      "tokens": 662,
      "context_length": 48309
    },
    {
      "position": 78,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_gradient_boosting_oob.py_cumsum_",
      "distance": 1.0934395790100098,
      "file_path": "examples/ensemble/plot_gradient_boosting_oob.py",
      "start_line": 96,
      "end_line": 138,
      "tokens": 423,
      "context_length": 48732
    },
    {
      "position": 79,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_plot_nmf.py__PGNMF._fit_transform__PGNMF._fit_transform.13.1",
      "distance": 1.093584418296814,
      "file_path": "benchmarks/bench_plot_nmf.py",
      "start_line": 230,
      "end_line": 277,
      "tokens": 530,
      "context_length": 49262
    },
    {
      "position": 80,
      "id": "/tmp/repos/scikit-learn/examples/datasets/plot_random_multilabel_dataset.py_1_RANDOM_SEED.1",
      "distance": 1.0936440229415894,
      "file_path": "examples/datasets/plot_random_multilabel_dataset.py",
      "start_line": 1,
      "end_line": 56,
      "tokens": 432,
      "context_length": 49694
    },
    {
      "position": 81,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_sgd_regression.py_np_",
      "distance": 1.0937436819076538,
      "file_path": "benchmarks/bench_sgd_regression.py",
      "start_line": 4,
      "end_line": 151,
      "tokens": 1314,
      "context_length": 51008
    },
    {
      "position": 82,
      "id": "/tmp/repos/scikit-learn/examples/applications/plot_model_complexity_influence.py__count_nonzero_coefficients_",
      "distance": 1.0941851139068604,
      "file_path": "examples/applications/plot_model_complexity_influence.py",
      "start_line": 121,
      "end_line": 170,
      "tokens": 540,
      "context_length": 51548
    },
    {
      "position": 83,
      "id": "/tmp/repos/scikit-learn/examples/neighbors/plot_kde_1d.py_35_",
      "distance": 1.094215750694275,
      "file_path": "examples/neighbors/plot_kde_1d.py",
      "start_line": 73,
      "end_line": 152,
      "tokens": 790,
      "context_length": 52338
    },
    {
      "position": 84,
      "id": "/tmp/repos/scikit-learn/sklearn/calibration.py_CalibratedClassifierCV.__init___CalibratedClassifierCV.fit.13.1",
      "distance": 1.0943421125411987,
      "file_path": "sklearn/calibration.py",
      "start_line": 109,
      "end_line": 200,
      "tokens": 760,
      "context_length": 53098,
      "file_pos": 57
    },
    {
      "position": 85,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_cluster_comparison.py_37_",
      "distance": 1.0946974754333496,
      "file_path": "examples/cluster/plot_cluster_comparison.py",
      "start_line": 88,
      "end_line": 189,
      "tokens": 887,
      "context_length": 53985
    },
    {
      "position": 86,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_map_data_to_normal.py_axes_idxs_",
      "distance": 1.0950764417648315,
      "file_path": "examples/preprocessing/plot_map_data_to_normal.py",
      "start_line": 99,
      "end_line": 138,
      "tokens": 477,
      "context_length": 54462
    },
    {
      "position": 87,
      "id": "/tmp/repos/scikit-learn/sklearn/linear_model/stochastic_gradient.py_np_DEFAULT_EPSILON.1",
      "distance": 1.096017837524414,
      "file_path": "sklearn/linear_model/stochastic_gradient.py",
      "start_line": 7,
      "end_line": 43,
      "tokens": 346,
      "context_length": 54808
    },
    {
      "position": 88,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_tree.py_13_",
      "distance": 1.096160650253296,
      "file_path": "benchmarks/bench_tree.py",
      "start_line": 64,
      "end_line": 125,
      "tokens": 523,
      "context_length": 55331
    },
    {
      "position": 89,
      "id": "/tmp/repos/scikit-learn/examples/covariance/plot_mahalanobis_distances.py_emp_cov_55",
      "distance": 1.0968362092971802,
      "file_path": "examples/covariance/plot_mahalanobis_distances.py",
      "start_line": 79,
      "end_line": 134,
      "tokens": 726,
      "context_length": 56057
    },
    {
      "position": 90,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_20newsgroups.py_1_",
      "distance": 1.0971288681030273,
      "file_path": "benchmarks/bench_20newsgroups.py",
      "start_line": 1,
      "end_line": 97,
      "tokens": 778,
      "context_length": 56835
    },
    {
      "position": 91,
      "id": "/tmp/repos/scikit-learn/examples/mixture/plot_gmm_sin.py_12_",
      "distance": 1.0980019569396973,
      "file_path": "examples/mixture/plot_gmm_sin.py",
      "start_line": 103,
      "end_line": 155,
      "tokens": 644,
      "context_length": 57479
    },
    {
      "position": 92,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_sparse_logistic_regression_mnist.py_1_",
      "distance": 1.0999913215637207,
      "file_path": "examples/linear_model/plot_sparse_logistic_regression_mnist.py",
      "start_line": 1,
      "end_line": 80,
      "tokens": 666,
      "context_length": 58145
    },
    {
      "position": 93,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_plot_randomized_svd.py_1_30",
      "distance": 1.1005829572677612,
      "file_path": "benchmarks/bench_plot_randomized_svd.py",
      "start_line": 1,
      "end_line": 110,
      "tokens": 947,
      "context_length": 59092
    },
    {
      "position": 94,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/label.py_label_binarize.n_classes_label_binarize.22.1",
      "distance": 1.1010677814483643,
      "file_path": "sklearn/preprocessing/label.py",
      "start_line": 604,
      "end_line": 669,
      "tokens": 531,
      "context_length": 59623
    },
    {
      "position": 95,
      "id": "/tmp/repos/scikit-learn/examples/plot_multilabel.py_14_",
      "distance": 1.1012651920318604,
      "file_path": "examples/plot_multilabel.py",
      "start_line": 96,
      "end_line": 114,
      "tokens": 185,
      "context_length": 59808
    },
    {
      "position": 96,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_isolation_forest.py_19_",
      "distance": 1.10193932056427,
      "file_path": "benchmarks/bench_isolation_forest.py",
      "start_line": 54,
      "end_line": 161,
      "tokens": 1032,
      "context_length": 60840
    },
    {
      "position": 97,
      "id": "/tmp/repos/scikit-learn/examples/svm/plot_rbf_parameters.py_np_59",
      "distance": 1.1019995212554932,
      "file_path": "examples/svm/plot_rbf_parameters.py",
      "start_line": 74,
      "end_line": 160,
      "tokens": 732,
      "context_length": 61572
    },
    {
      "position": 98,
      "id": "/tmp/repos/scikit-learn/sklearn/ensemble/gradient_boosting.py_GradientBoostingRegressor.1_GradientBoostingRegressor.1",
      "distance": 1.1022956371307373,
      "file_path": "sklearn/ensemble/gradient_boosting.py",
      "start_line": 2146,
      "end_line": 2387,
      "tokens": 2474,
      "context_length": 64046
    },
    {
      "position": 99,
      "id": "/tmp/repos/scikit-learn/sklearn/linear_model/bayes.py_1_BayesianRidge.1",
      "distance": 1.1027357578277588,
      "file_path": "sklearn/linear_model/bayes.py",
      "start_line": 1,
      "end_line": 136,
      "tokens": 1114,
      "context_length": 65160
    },
    {
      "position": 100,
      "id": "/tmp/repos/scikit-learn/examples/multioutput/plot_classifier_chain_yeast.py_1_ensemble_jaccard_score.1",
      "distance": 1.102776288986206,
      "file_path": "examples/multioutput/plot_classifier_chain_yeast.py",
      "start_line": 1,
      "end_line": 77,
      "tokens": 753,
      "context_length": 65913
    },
    {
      "position": 101,
      "id": "/tmp/repos/scikit-learn/examples/covariance/plot_robust_vs_empirical_covariance.py_err_loc_emp_pure_34",
      "distance": 1.1028757095336914,
      "file_path": "examples/covariance/plot_robust_vs_empirical_covariance.py",
      "start_line": 77,
      "end_line": 141,
      "tokens": 785,
      "context_length": 66698
    },
    {
      "position": 102,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_rcv1_logreg_convergence.py_get_max_squared_sum_clfs.1",
      "distance": 1.1040531396865845,
      "file_path": "benchmarks/bench_rcv1_logreg_convergence.py",
      "start_line": 142,
      "end_line": 194,
      "tokens": 532,
      "context_length": 67230
    },
    {
      "position": 103,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_inductive_clustering.py_plot_scatter_",
      "distance": 1.1057417392730713,
      "file_path": "examples/cluster/plot_inductive_clustering.py",
      "start_line": 59,
      "end_line": 121,
      "tokens": 493,
      "context_length": 67723
    },
    {
      "position": 104,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_ard.py_1_y_58.1",
      "distance": 1.1057510375976562,
      "file_path": "examples/linear_model/plot_ard.py",
      "start_line": 1,
      "end_line": 101,
      "tokens": 769,
      "context_length": 68492
    },
    {
      "position": 105,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_linkage_comparison.py_35_",
      "distance": 1.1059740781784058,
      "file_path": "examples/cluster/plot_linkage_comparison.py",
      "start_line": 82,
      "end_line": 150,
      "tokens": 559,
      "context_length": 69051
    },
    {
      "position": 106,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_cmap_create_axes.27.1",
      "distance": 1.1062819957733154,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 106,
      "end_line": 146,
      "tokens": 405,
      "context_length": 69456
    },
    {
      "position": 107,
      "id": "/tmp/repos/scikit-learn/examples/classification/plot_classifier_comparison.py_36_",
      "distance": 1.1064000129699707,
      "file_path": "examples/classification/plot_classifier_comparison.py",
      "start_line": 79,
      "end_line": 145,
      "tokens": 710,
      "context_length": 70166
    },
    {
      "position": 108,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_mnist.py_ESTIMATORS_ESTIMATORS.1",
      "distance": 1.10652756690979,
      "file_path": "benchmarks/bench_mnist.py",
      "start_line": 84,
      "end_line": 105,
      "tokens": 314,
      "context_length": 70480
    },
    {
      "position": 109,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_adaboost_multiclass.py_1_33",
      "distance": 1.1069313287734985,
      "file_path": "examples/ensemble/plot_adaboost_multiclass.py",
      "start_line": 1,
      "end_line": 89,
      "tokens": 748,
      "context_length": 71228
    },
    {
      "position": 110,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_plot_nmf.py_run_bench_run_bench.9.1",
      "distance": 1.1072828769683838,
      "file_path": "benchmarks/bench_plot_nmf.py",
      "start_line": 331,
      "end_line": 367,
      "tokens": 377,
      "context_length": 71605
    },
    {
      "position": 111,
      "id": "/tmp/repos/scikit-learn/examples/model_selection/plot_cv_indices.py_41_",
      "distance": 1.1077262163162231,
      "file_path": "examples/model_selection/plot_cv_indices.py",
      "start_line": 105,
      "end_line": 150,
      "tokens": 381,
      "context_length": 71986
    },
    {
      "position": 112,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_logistic_l1_l2_sparsity.py_21_",
      "distance": 1.108425498008728,
      "file_path": "examples/linear_model/plot_logistic_l1_l2_sparsity.py",
      "start_line": 44,
      "end_line": 91,
      "tokens": 609,
      "context_length": 72595
    },
    {
      "position": 113,
      "id": "/tmp/repos/scikit-learn/examples/bicluster/plot_spectral_biclustering.py_1_",
      "distance": 1.1088249683380127,
      "file_path": "examples/bicluster/plot_spectral_biclustering.py",
      "start_line": 1,
      "end_line": 63,
      "tokens": 426,
      "context_length": 73021
    },
    {
      "position": 114,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_covertype.py_ESTIMATORS_ESTIMATORS.1",
      "distance": 1.1088672876358032,
      "file_path": "benchmarks/bench_covertype.py",
      "start_line": 99,
      "end_line": 109,
      "tokens": 151,
      "context_length": 73172
    },
    {
      "position": 115,
      "id": "/tmp/repos/scikit-learn/sklearn/covariance/robust_covariance.py_fast_mcd.12_fast_mcd.13.1",
      "distance": 1.1093792915344238,
      "file_path": "sklearn/covariance/robust_covariance.py",
      "start_line": 413,
      "end_line": 509,
      "tokens": 1054,
      "context_length": 74226
    }
  ],
  "files": [
    {
      "file_path": "examples/calibration/plot_calibration.py",
      "position": 1,
      "tokens": 1241,
      "context_length": 1241
    },
    {
      "file_path": "examples/calibration/plot_calibration_curve.py",
      "position": 2,
      "tokens": 1377,
      "context_length": 2618
    },
    {
      "file_path": "examples/calibration/plot_compare_calibration.py",
      "position": 3,
      "tokens": 1189,
      "context_length": 3807
    },
    {
      "file_path": "sklearn/calibration.py",
      "position": 4,
      "tokens": 4714,
      "context_length": 8521
    },
    {
      "file_path": "examples/calibration/plot_calibration_multiclass.py",
      "position": 5,
      "tokens": 2131,
      "context_length": 10652
    },
    {
      "file_path": "examples/preprocessing/plot_discretization_classification.py",
      "position": 6,
      "tokens": 1846,
      "context_length": 12498
    },
    {
      "file_path": "sklearn/preprocessing/_discretization.py",
      "position": 7,
      "tokens": 2576,
      "context_length": 15074
    },
    {
      "file_path": "examples/preprocessing/plot_discretization.py",
      "position": 8,
      "tokens": 809,
      "context_length": 15883
    },
    {
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "position": 9,
      "tokens": 3108,
      "context_length": 18991
    },
    {
      "file_path": "examples/preprocessing/plot_discretization_strategies.py",
      "position": 10,
      "tokens": 804,
      "context_length": 19795
    },
    {
      "file_path": "examples/ensemble/plot_partial_dependence.py",
      "position": 11,
      "tokens": 1043,
      "context_length": 20838
    },
    {
      "file_path": "examples/preprocessing/plot_scaling_importance.py",
      "position": 12,
      "tokens": 1219,
      "context_length": 22057
    },
    {
      "file_path": "examples/plot_anomaly_comparison.py",
      "position": 13,
      "tokens": 1524,
      "context_length": 23581
    },
    {
      "file_path": "examples/ensemble/plot_gradient_boosting_oob.py",
      "position": 14,
      "tokens": 1245,
      "context_length": 24826
    },
    {
      "file_path": "examples/model_selection/plot_learning_curve.py",
      "position": 15,
      "tokens": 1254,
      "context_length": 26080
    },
    {
      "file_path": "examples/plot_johnson_lindenstrauss_bound.py",
      "position": 16,
      "tokens": 1843,
      "context_length": 27923
    },
    {
      "file_path": "benchmarks/bench_plot_neighbors.py",
      "position": 17,
      "tokens": 1437,
      "context_length": 29360
    },
    {
      "file_path": "examples/classification/plot_classifier_comparison.py",
      "position": 18,
      "tokens": 1352,
      "context_length": 30712
    },
    {
      "file_path": "examples/classification/plot_classification_probability.py",
      "position": 19,
      "tokens": 820,
      "context_length": 31532
    },
    {
      "file_path": "examples/datasets/plot_random_dataset.py",
      "position": 20,
      "tokens": 645,
      "context_length": 32177
    },
    {
      "file_path": "examples/neural_networks/plot_rbm_logistic_classification.py",
      "position": 21,
      "tokens": 1130,
      "context_length": 33307
    },
    {
      "file_path": "examples/ensemble/plot_voting_probas.py",
      "position": 22,
      "tokens": 788,
      "context_length": 34095
    },
    {
      "file_path": "examples/linear_model/plot_bayesian_ridge.py",
      "position": 23,
      "tokens": 921,
      "context_length": 35016
    },
    {
      "file_path": "sklearn/naive_bayes.py",
      "position": 24,
      "tokens": 8389,
      "context_length": 43405
    },
    {
      "file_path": "examples/ensemble/plot_gradient_boosting_quantile.py",
      "position": 25,
      "tokens": 548,
      "context_length": 43953
    },
    {
      "file_path": "examples/ensemble/plot_gradient_boosting_regularization.py",
      "position": 26,
      "tokens": 724,
      "context_length": 44677
    },
    {
      "file_path": "examples/gaussian_process/plot_gpc.py",
      "position": 27,
      "tokens": 1036,
      "context_length": 45713
    },
    {
      "file_path": "sklearn/utils/estimator_checks.py",
      "position": 28,
      "tokens": 21493,
      "context_length": 67206
    },
    {
      "file_path": "examples/cluster/plot_kmeans_assumptions.py",
      "position": 29,
      "tokens": 533,
      "context_length": 67739
    },
    {
      "file_path": "sklearn/ensemble/gradient_boosting.py",
      "position": 30,
      "tokens": 20247,
      "context_length": 87986
    },
    {
      "file_path": "examples/plot_kernel_approximation.py",
      "position": 31,
      "tokens": 1941,
      "context_length": 89927
    },
    {
      "file_path": "examples/gaussian_process/plot_gpc_isoprobability.py",
      "position": 32,
      "tokens": 930,
      "context_length": 90857
    },
    {
      "file_path": "benchmarks/bench_plot_incremental_pca.py",
      "position": 33,
      "tokens": 1356,
      "context_length": 92213
    },
    {
      "file_path": "examples/ensemble/plot_gradient_boosting_early_stopping.py",
      "position": 34,
      "tokens": 1164,
      "context_length": 93377
    },
    {
      "file_path": "examples/ensemble/plot_gradient_boosting_regression.py",
      "position": 35,
      "tokens": 574,
      "context_length": 93951
    },
    {
      "file_path": "examples/applications/plot_species_distribution_modeling.py",
      "position": 36,
      "tokens": 1771,
      "context_length": 95722
    },
    {
      "file_path": "examples/cluster/plot_feature_agglomeration_vs_univariate_selection.py",
      "position": 37,
      "tokens": 984,
      "context_length": 96706
    },
    {
      "file_path": "benchmarks/bench_plot_nmf.py",
      "position": 38,
      "tokens": 3902,
      "context_length": 100608
    },
    {
      "file_path": "examples/gaussian_process/plot_gpr_noisy.py",
      "position": 39,
      "tokens": 1129,
      "context_length": 101737
    },
    {
      "file_path": "examples/cluster/plot_linkage_comparison.py",
      "position": 40,
      "tokens": 1135,
      "context_length": 102872
    },
    {
      "file_path": "examples/ensemble/plot_random_forest_embedding.py",
      "position": 41,
      "tokens": 962,
      "context_length": 103834
    },
    {
      "file_path": "examples/linear_model/plot_sparse_logistic_regression_20newsgroups.py",
      "position": 42,
      "tokens": 1029,
      "context_length": 104863
    },
    {
      "file_path": "examples/neighbors/plot_species_kde.py",
      "position": 43,
      "tokens": 1041,
      "context_length": 105904
    },
    {
      "file_path": "sklearn/datasets/samples_generator.py",
      "position": 44,
      "tokens": 14004,
      "context_length": 119908
    },
    {
      "file_path": "examples/ensemble/plot_adaboost_twoclass.py",
      "position": 45,
      "tokens": 870,
      "context_length": 120778
    },
    {
      "file_path": "examples/model_selection/plot_grid_search_refit_callable.py",
      "position": 46,
      "tokens": 832,
      "context_length": 121610
    },
    {
      "file_path": "sklearn/ensemble/partial_dependence.py",
      "position": 47,
      "tokens": 3750,
      "context_length": 125360
    },
    {
      "file_path": "examples/cluster/plot_cluster_comparison.py",
      "position": 48,
      "tokens": 1585,
      "context_length": 126945
    },
    {
      "file_path": "examples/classification/plot_lda.py",
      "position": 49,
      "tokens": 584,
      "context_length": 127529
    },
    {
      "file_path": "examples/ensemble/plot_bias_variance.py",
      "position": 50,
      "tokens": 1814,
      "context_length": 129343
    },
    {
      "file_path": "examples/model_selection/plot_precision_recall.py",
      "position": 51,
      "tokens": 2342,
      "context_length": 131685
    },
    {
      "file_path": "benchmarks/bench_glmnet.py",
      "position": 52,
      "tokens": 1087,
      "context_length": 132772
    },
    {
      "file_path": "examples/text/plot_document_classification_20newsgroups.py",
      "position": 53,
      "tokens": 2539,
      "context_length": 135311
    },
    {
      "file_path": "examples/datasets/plot_random_multilabel_dataset.py",
      "position": 54,
      "tokens": 883,
      "context_length": 136194
    },
    {
      "file_path": "benchmarks/bench_sgd_regression.py",
      "position": 55,
      "tokens": 1341,
      "context_length": 137535
    },
    {
      "file_path": "examples/applications/plot_model_complexity_influence.py",
      "position": 56,
      "tokens": 1524,
      "context_length": 139059
    },
    {
      "file_path": "examples/neighbors/plot_kde_1d.py",
      "position": 57,
      "tokens": 1568,
      "context_length": 140627
    },
    {
      "file_path": "examples/preprocessing/plot_map_data_to_normal.py",
      "position": 58,
      "tokens": 1235,
      "context_length": 141862
    },
    {
      "file_path": "sklearn/linear_model/stochastic_gradient.py",
      "position": 59,
      "tokens": 14375,
      "context_length": 156237
    },
    {
      "file_path": "benchmarks/bench_tree.py",
      "position": 60,
      "tokens": 870,
      "context_length": 157107
    },
    {
      "file_path": "examples/covariance/plot_mahalanobis_distances.py",
      "position": 61,
      "tokens": 1663,
      "context_length": 158770
    },
    {
      "file_path": "benchmarks/bench_20newsgroups.py",
      "position": 62,
      "tokens": 778,
      "context_length": 159548
    },
    {
      "file_path": "examples/mixture/plot_gmm_sin.py",
      "position": 63,
      "tokens": 1574,
      "context_length": 161122
    },
    {
      "file_path": "examples/linear_model/plot_sparse_logistic_regression_mnist.py",
      "position": 64,
      "tokens": 697,
      "context_length": 161819
    },
    {
      "file_path": "benchmarks/bench_plot_randomized_svd.py",
      "position": 65,
      "tokens": 4380,
      "context_length": 166199
    },
    {
      "file_path": "sklearn/preprocessing/label.py",
      "position": 66,
      "tokens": 7556,
      "context_length": 173755
    },
    {
      "file_path": "examples/plot_multilabel.py",
      "position": 67,
      "tokens": 1095,
      "context_length": 174850
    },
    {
      "file_path": "benchmarks/bench_isolation_forest.py",
      "position": 68,
      "tokens": 1468,
      "context_length": 176318
    },
    {
      "file_path": "examples/svm/plot_rbf_parameters.py",
      "position": 69,
      "tokens": 1982,
      "context_length": 178300
    },
    {
      "file_path": "sklearn/linear_model/bayes.py",
      "position": 70,
      "tokens": 5604,
      "context_length": 183904
    },
    {
      "file_path": "examples/multioutput/plot_classifier_chain_yeast.py",
      "position": 71,
      "tokens": 1044,
      "context_length": 184948
    },
    {
      "file_path": "examples/covariance/plot_robust_vs_empirical_covariance.py",
      "position": 72,
      "tokens": 1680,
      "context_length": 186628
    },
    {
      "file_path": "benchmarks/bench_rcv1_logreg_convergence.py",
      "position": 73,
      "tokens": 1945,
      "context_length": 188573
    },
    {
      "file_path": "examples/cluster/plot_inductive_clustering.py",
      "position": 74,
      "tokens": 909,
      "context_length": 189482
    },
    {
      "file_path": "examples/linear_model/plot_ard.py",
      "position": 75,
      "tokens": 924,
      "context_length": 190406
    },
    {
      "file_path": "benchmarks/bench_mnist.py",
      "position": 76,
      "tokens": 1718,
      "context_length": 192124
    },
    {
      "file_path": "examples/ensemble/plot_adaboost_multiclass.py",
      "position": 77,
      "tokens": 1014,
      "context_length": 193138
    },
    {
      "file_path": "examples/model_selection/plot_cv_indices.py",
      "position": 78,
      "tokens": 1315,
      "context_length": 194453
    },
    {
      "file_path": "examples/linear_model/plot_logistic_l1_l2_sparsity.py",
      "position": 79,
      "tokens": 928,
      "context_length": 195381
    },
    {
      "file_path": "examples/bicluster/plot_spectral_biclustering.py",
      "position": 80,
      "tokens": 452,
      "context_length": 195833
    },
    {
      "file_path": "benchmarks/bench_covertype.py",
      "position": 81,
      "tokens": 1891,
      "context_length": 197724
    },
    {
      "file_path": "sklearn/covariance/robust_covariance.py",
      "position": 82,
      "tokens": 7073,
      "context_length": 204797
    }
  ]
}