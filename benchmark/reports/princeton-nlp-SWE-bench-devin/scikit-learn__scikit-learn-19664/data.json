{
  "instance_id": "scikit-learn__scikit-learn-19664",
  "model_patch": "diff --git a/sklearn/semi_supervised/_label_propagation.py b/sklearn/semi_supervised/_label_propagation.py\nindex d7463268c..0d5da7d3e 100644\n--- a/sklearn/semi_supervised/_label_propagation.py\n+++ b/sklearn/semi_supervised/_label_propagation.py\n@@ -256,7 +256,7 @@ class BaseLabelPropagation(ClassifierMixin, BaseEstimator, metaclass=ABCMeta):\n             Returns the instance itself.\n         \"\"\"\n         self._validate_params()\n-        X, y = self._validate_data(X, y)\n+        X, y = self._validate_data(X, y, accept_sparse=['csc', 'csr', 'coo', 'dok', 'bsr', 'lil', 'dia'])\n         self.X_ = X\n         check_classification_targets(y)\n \n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "pass",
  "model_patch_files": [
    "sklearn/semi_supervised/_label_propagation.py"
  ],
  "repo": "scikit-learn/scikit-learn",
  "base_commit": "2620a5545a806ee416d9d10e07c2de30cdd9bf20",
  "patch": "diff --git a/sklearn/semi_supervised/_label_propagation.py b/sklearn/semi_supervised/_label_propagation.py\n--- a/sklearn/semi_supervised/_label_propagation.py\n+++ b/sklearn/semi_supervised/_label_propagation.py\n@@ -241,7 +241,7 @@ def fit(self, X, y):\n \n         Parameters\n         ----------\n-        X : array-like of shape (n_samples, n_features)\n+        X : {array-like, sparse matrix} of shape (n_samples, n_features)\n             Training data, where `n_samples` is the number of samples\n             and `n_features` is the number of features.\n \n@@ -256,7 +256,12 @@ def fit(self, X, y):\n             Returns the instance itself.\n         \"\"\"\n         self._validate_params()\n-        X, y = self._validate_data(X, y)\n+        X, y = self._validate_data(\n+            X,\n+            y,\n+            accept_sparse=[\"csr\", \"csc\"],\n+            reset=True,\n+        )\n         self.X_ = X\n         check_classification_targets(y)\n \n@@ -365,7 +370,7 @@ class LabelPropagation(BaseLabelPropagation):\n \n     Attributes\n     ----------\n-    X_ : ndarray of shape (n_samples, n_features)\n+    X_ : {array-like, sparse matrix} of shape (n_samples, n_features)\n         Input array.\n \n     classes_ : ndarray of shape (n_classes,)\n@@ -463,7 +468,7 @@ def fit(self, X, y):\n \n         Parameters\n         ----------\n-        X : array-like of shape (n_samples, n_features)\n+        X : {array-like, sparse matrix} of shape (n_samples, n_features)\n             Training data, where `n_samples` is the number of samples\n             and `n_features` is the number of features.\n \n",
  "test_patch": "diff --git a/sklearn/semi_supervised/tests/test_label_propagation.py b/sklearn/semi_supervised/tests/test_label_propagation.py\n--- a/sklearn/semi_supervised/tests/test_label_propagation.py\n+++ b/sklearn/semi_supervised/tests/test_label_propagation.py\n@@ -15,6 +15,9 @@\n     assert_allclose,\n     assert_array_equal,\n )\n+from sklearn.utils._testing import _convert_container\n+\n+CONSTRUCTOR_TYPES = (\"array\", \"sparse_csr\", \"sparse_csc\")\n \n ESTIMATORS = [\n     (label_propagation.LabelPropagation, {\"kernel\": \"rbf\"}),\n@@ -122,9 +125,27 @@ def test_label_propagation_closed_form(global_dtype):\n     assert_allclose(expected, clf.label_distributions_, atol=1e-4)\n \n \n-def test_convergence_speed():\n+@pytest.mark.parametrize(\"accepted_sparse_type\", [\"sparse_csr\", \"sparse_csc\"])\n+@pytest.mark.parametrize(\"index_dtype\", [np.int32, np.int64])\n+@pytest.mark.parametrize(\"dtype\", [np.float32, np.float64])\n+@pytest.mark.parametrize(\"Estimator, parameters\", ESTIMATORS)\n+def test_sparse_input_types(\n+    accepted_sparse_type, index_dtype, dtype, Estimator, parameters\n+):\n+    # This is non-regression test for #17085\n+    X = _convert_container([[1.0, 0.0], [0.0, 2.0], [1.0, 3.0]], accepted_sparse_type)\n+    X.data = X.data.astype(dtype, copy=False)\n+    X.indices = X.indices.astype(index_dtype, copy=False)\n+    X.indptr = X.indptr.astype(index_dtype, copy=False)\n+    labels = [0, 1, -1]\n+    clf = Estimator(**parameters).fit(X, labels)\n+    assert_array_equal(clf.predict([[0.5, 2.5]]), np.array([1]))\n+\n+\n+@pytest.mark.parametrize(\"constructor_type\", CONSTRUCTOR_TYPES)\n+def test_convergence_speed(constructor_type):\n     # This is a non-regression test for #5774\n-    X = np.array([[1.0, 0.0], [0.0, 1.0], [1.0, 2.5]])\n+    X = _convert_container([[1.0, 0.0], [0.0, 1.0], [1.0, 2.5]], constructor_type)\n     y = np.array([0, 1, -1])\n     mdl = label_propagation.LabelSpreading(kernel=\"rbf\", max_iter=5000)\n     mdl.fit(X, y)\n",
  "problem_statement": "LabelPropagation raises TypeError: A sparse matrix was passed\n#### Describe the bug\r\n\r\nLabelPropagation (and LabelSpreading) error out for sparse matrices.\r\n\r\n#### Steps/Code to Reproduce\r\n\r\n```\r\nimport sklearn\r\nfrom scipy.sparse import csr_matrix\r\nfrom sklearn.datasets import make_classification\r\nfrom sklearn.semi_supervised import LabelPropagation\r\n\r\nprint(sklearn.__version__)\r\n\r\nX, y = make_classification()\r\nclassifier = LabelPropagation(kernel='knn')\r\nclassifier.fit(X, y)\r\ny_pred = classifier.predict(X)\r\n\r\nX, y = make_classification()\r\nclassifier = LabelPropagation(kernel='knn')\r\nclassifier.fit(csr_matrix(X), y)\r\ny_pred = classifier.predict(csr_matrix(X))\r\n```\r\n\r\n#### Expected Results\r\n\r\nSparse case should work as does the dense one.\r\n\r\n#### Actual Results\r\n\r\n```\r\n0.22.2.post1\r\nTraceback (most recent call last):\r\n[...]\r\nTypeError: A sparse matrix was passed, but dense data is required. Use X.toarray() to convert to a dense numpy array.\r\n```\r\n\r\n#### Fix\r\n\r\nChanging \r\n\r\n```\r\n        X, y = check_X_y(X, y)\r\n```\r\n\r\nin _label_propagation.py line 224 to \r\n\r\n```\r\n        X, y = check_X_y(X, y, accept_sparse=['csc', 'csr', 'coo', 'dok',\r\n                                              'bsr', 'lil', 'dia'])\r\n```\r\n\r\nseems to fix the problem for me (BTW: a similar check accepting sparse matrices is done in BaseLabelPropagations predict_proba at line 189). This fix also heals LabelSpreading.\r\n\nFIX LabelPropagation handling of sparce matrices #17085\n#### Reference Issues/PRs\r\n\r\nFixes #17085\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n\r\nLabel propagation and spreading allow to classify using sparse data according to documentation. Tests only covered the dense case. Newly added coverage for sparse matrices allows to reproduce the problem in #17085. The proposed fix in #17085 works for the extended tests.\r\n\r\n#### Any other comments?\r\n\r\n- Supporting scipy's dok_matrix produces the UserWarning \"Can't check dok sparse matrix for nan or inf.\". So this format seems to be unsuitable?\r\n- `test_label_propagation_closed_form` fails for sparse matrices \r\n\n",
  "hints_text": "Just checked: the fix seems to work for kernel='rbf', too.\nHi, I would like to take over since this is stalled.\nHi @cozek , sure go ahead: FYI you can comment \"take\" in this issue and it will automatically assigned to you.\n",
  "created_at": "2021-03-11T17:53:04Z",
  "version": "1.3",
  "FAIL_TO_PASS": "[\"sklearn/semi_supervised/tests/test_label_propagation.py::test_convergence_speed[sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_convergence_speed[sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters0-float32-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters0-float32-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters0-float32-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters0-float32-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters0-float64-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters0-float64-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters0-float64-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters0-float64-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters1-float32-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters1-float32-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters1-float32-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters1-float32-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters1-float64-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters1-float64-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters1-float64-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters1-float64-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters2-float32-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters2-float32-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters2-float32-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters2-float32-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters2-float64-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters2-float64-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters2-float64-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelPropagation-parameters2-float64-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters3-float32-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters3-float32-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters3-float32-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters3-float32-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters3-float64-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters3-float64-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters3-float64-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters3-float64-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters4-float32-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters4-float32-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters4-float32-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters4-float32-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters4-float64-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters4-float64-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters4-float64-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters4-float64-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters5-float32-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters5-float32-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters5-float32-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters5-float32-int64-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters5-float64-int32-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters5-float64-int32-sparse_csr]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters5-float64-int64-sparse_csc]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_sparse_input_types[LabelSpreading-parameters5-float64-int64-sparse_csr]\"]",
  "PASS_TO_PASS": "[\"sklearn/semi_supervised/tests/test_label_propagation.py::test_convergence_speed[array]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_convergence_warning\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_distribution[float64-LabelPropagation-parameters0]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_distribution[float64-LabelPropagation-parameters2]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_distribution[float64-LabelSpreading-parameters3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_distribution[float64-LabelSpreading-parameters5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_fit_transduction[float64-LabelPropagation-parameters0]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_fit_transduction[float64-LabelPropagation-parameters1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_fit_transduction[float64-LabelPropagation-parameters2]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_fit_transduction[float64-LabelSpreading-parameters3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_fit_transduction[float64-LabelSpreading-parameters4]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_fit_transduction[float64-LabelSpreading-parameters5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_propagation_closed_form[float64]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_propagation_non_zero_normalizer[LabelPropagation]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_propagation_non_zero_normalizer[LabelSpreading]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters0-0.1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters0-0.3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters0-0.5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters0-0.7]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters0-0.9]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters1-0.1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters1-0.3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters1-0.5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters1-0.7]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters1-0.9]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters2-0.1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters2-0.3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters2-0.5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters2-0.7]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelPropagation-parameters2-0.9]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters3-0.1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters3-0.3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters3-0.5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters3-0.7]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters3-0.9]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters4-0.1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters4-0.3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters4-0.5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters4-0.7]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters4-0.9]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters5-0.1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters5-0.3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters5-0.5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters5-0.7]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_label_spreading_closed_form[float64-LabelSpreading-parameters5-0.9]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict[float64-LabelPropagation-parameters0]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict[float64-LabelPropagation-parameters1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict[float64-LabelPropagation-parameters2]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict[float64-LabelSpreading-parameters3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict[float64-LabelSpreading-parameters4]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict[float64-LabelSpreading-parameters5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict_proba[float64-LabelPropagation-parameters0]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict_proba[float64-LabelPropagation-parameters1]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict_proba[float64-LabelPropagation-parameters2]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict_proba[float64-LabelSpreading-parameters3]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict_proba[float64-LabelSpreading-parameters4]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict_proba[float64-LabelSpreading-parameters5]\", \"sklearn/semi_supervised/tests/test_label_propagation.py::test_predict_sparse_callable_kernel[float64]\"]",
  "environment_setup_commit": "1e8a5b833d1b58f3ab84099c4582239af854b23a",
  "patch_files": [
    "sklearn/semi_supervised/_label_propagation.py"
  ],
  "test_patch_files": [
    "sklearn/semi_supervised/tests/test_label_propagation.py"
  ],
  "patch_diff_details": {
    "sklearn/semi_supervised/_label_propagation.py": {
      "diffs": [
        {
          "start_line_old": 244,
          "end_line_old": 244,
          "file_pos": 1,
          "file_context_length": 4814,
          "closest_snippet_id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelSpreading_LabelSpreading.1",
          "closest_snippet_line_distance": 239,
          "pos": 8,
          "context_length": 4105
        },
        {
          "start_line_old": 259,
          "end_line_old": 259,
          "file_pos": 1,
          "file_context_length": 4814,
          "closest_snippet_id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelSpreading_LabelSpreading.1",
          "closest_snippet_line_distance": 224,
          "pos": 8,
          "context_length": 4105
        },
        {
          "start_line_old": 368,
          "end_line_old": 368,
          "file_pos": 1,
          "file_context_length": 4814,
          "closest_snippet_id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelSpreading._build_graph_",
          "closest_snippet_line_distance": 239,
          "pos": 3,
          "context_length": 1520
        },
        {
          "start_line_old": 466,
          "end_line_old": 466,
          "file_pos": 1,
          "file_context_length": 4814,
          "closest_snippet_id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_BaseLabelPropagation_BaseLabelPropagation.__init__.self.n_jobs.1",
          "closest_snippet_line_distance": 323,
          "pos": 11,
          "context_length": 4994
        }
      ]
    }
  },
  "vectors": 3914,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_1_ConvergenceWarning",
      "distance": 0.6803146600723267,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 1,
      "end_line": 73,
      "tokens": 616,
      "context_length": 616,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelSpreading._build_graph_",
      "distance": 0.7276896834373474,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 607,
      "end_line": 622,
      "tokens": 185,
      "context_length": 801,
      "file_pos": 1
    },
    {
      "position": 3,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelPropagation_LabelPropagation.4",
      "distance": 0.738040030002594,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 334,
      "end_line": 423,
      "tokens": 719,
      "context_length": 1520,
      "file_pos": 1
    },
    {
      "position": 4,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelSpreading._variant_LabelSpreading.__init__.2",
      "distance": 0.765273928642273,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 579,
      "end_line": 605,
      "tokens": 165,
      "context_length": 1685,
      "file_pos": 1
    },
    {
      "position": 5,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelPropagation.__init___LabelPropagation._build_graph.6.1",
      "distance": 0.8025718927383423,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 425,
      "end_line": 459,
      "tokens": 228,
      "context_length": 1913,
      "file_pos": 1
    },
    {
      "position": 6,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelSpreading_LabelSpreading.1",
      "distance": 0.8037379384040833,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 483,
      "end_line": 577,
      "tokens": 797,
      "context_length": 2710,
      "file_pos": 1
    },
    {
      "position": 7,
      "id": "/tmp/repos/scikit-learn/examples/semi_supervised/plot_label_propagation_structure.py_1_",
      "distance": 0.8261922001838684,
      "file_path": "examples/semi_supervised/plot_label_propagation_structure.py",
      "start_line": 1,
      "end_line": 106,
      "tokens": 620,
      "context_length": 3330
    },
    {
      "position": 8,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_BaseLabelPropagation.fit_BaseLabelPropagation.fit.31.1",
      "distance": 0.8288949131965637,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 234,
      "end_line": 331,
      "tokens": 775,
      "context_length": 4105,
      "file_pos": 2
    },
    {
      "position": 9,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_BaseLabelPropagation._get_kernel_BaseLabelPropagation._get_kernel.1.3.1.2.1.1",
      "distance": 0.8642933368682861,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 145,
      "end_line": 166,
      "tokens": 200,
      "context_length": 4305,
      "file_pos": 2
    },
    {
      "position": 10,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_BaseLabelPropagation_BaseLabelPropagation.__init__.self.n_jobs.1",
      "distance": 0.8723750114440918,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 76,
      "end_line": 143,
      "tokens": 538,
      "context_length": 4843,
      "file_pos": 2
    },
    {
      "position": 11,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_LabelPropagation.fit_LabelPropagation.fit.2.1",
      "distance": 0.9039642810821533,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 461,
      "end_line": 480,
      "tokens": 151,
      "context_length": 4994,
      "file_pos": 2
    },
    {
      "position": 12,
      "id": "/tmp/repos/scikit-learn/sklearn/semi_supervised/_label_propagation.py_BaseLabelPropagation._build_graph_BaseLabelPropagation.predict.7.1",
      "distance": 0.9084633588790894,
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "start_line": 168,
      "end_line": 192,
      "tokens": 213,
      "context_length": 5207,
      "file_pos": 2
    },
    {
      "position": 13,
      "id": "/tmp/repos/scikit-learn/examples/semi_supervised/plot_label_propagation_digits_active_learning.py_22_",
      "distance": 0.9096229076385498,
      "file_path": "examples/semi_supervised/plot_label_propagation_digits_active_learning.py",
      "start_line": 50,
      "end_line": 124,
      "tokens": 689,
      "context_length": 5896
    },
    {
      "position": 14,
      "id": "/tmp/repos/scikit-learn/examples/semi_supervised/plot_label_propagation_digits.py_1_",
      "distance": 0.9115016460418701,
      "file_path": "examples/semi_supervised/plot_label_propagation_digits.py",
      "start_line": 1,
      "end_line": 118,
      "tokens": 693,
      "context_length": 6589
    },
    {
      "position": 15,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_0_0.py_X_131_",
      "distance": 0.9768369197845459,
      "file_path": "examples/release_highlights/plot_release_highlights_1_0_0.py",
      "start_line": 167,
      "end_line": 242,
      "tokens": 729,
      "context_length": 7318
    },
    {
      "position": 16,
      "id": "/tmp/repos/scikit-learn/examples/semi_supervised/plot_label_propagation_digits_active_learning.py_1_f.1",
      "distance": 0.9971514940261841,
      "file_path": "examples/semi_supervised/plot_label_propagation_digits_active_learning.py",
      "start_line": 1,
      "end_line": 48,
      "tokens": 317,
      "context_length": 7635
    },
    {
      "position": 17,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py__generate_sparse_matrix_check_estimator_sparse_data.11.2.5.3.3",
      "distance": 0.9977121353149414,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 817,
      "end_line": 901,
      "tokens": 772,
      "context_length": 8407
    },
    {
      "position": 18,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_sparsify.py_32_",
      "distance": 1.0065356492996216,
      "file_path": "benchmarks/bench_sparsify.py",
      "start_line": 83,
      "end_line": 107,
      "tokens": 153,
      "context_length": 8560
    },
    {
      "position": 19,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_2_0.py___48_",
      "distance": 1.010364294052124,
      "file_path": "examples/release_highlights/plot_release_highlights_1_2_0.py",
      "start_line": 92,
      "end_line": 167,
      "tokens": 718,
      "context_length": 9278
    },
    {
      "position": 20,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_24_0.py_display_",
      "distance": 1.016268253326416,
      "file_path": "examples/release_highlights/plot_release_highlights_0_24_0.py",
      "start_line": 211,
      "end_line": 265,
      "tokens": 510,
      "context_length": 9788
    },
    {
      "position": 21,
      "id": "/tmp/repos/scikit-learn/sklearn/decomposition/_dict_learning.py__sparse_encode.6__sparse_encode.10.1",
      "distance": 1.0211822986602783,
      "file_path": "sklearn/decomposition/_dict_learning.py",
      "start_line": 133,
      "end_line": 228,
      "tokens": 821,
      "context_length": 10609
    },
    {
      "position": 22,
      "id": "/tmp/repos/scikit-learn/sklearn/decomposition/_dict_learning.py_sparse_encode.2_sparse_encode.14.1",
      "distance": 1.0263491868972778,
      "file_path": "sklearn/decomposition/_dict_learning.py",
      "start_line": 368,
      "end_line": 437,
      "tokens": 747,
      "context_length": 11356
    },
    {
      "position": 23,
      "id": "/tmp/repos/scikit-learn/examples/miscellaneous/plot_multilabel.py_13_",
      "distance": 1.0297338962554932,
      "file_path": "examples/miscellaneous/plot_multilabel.py",
      "start_line": 113,
      "end_line": 131,
      "tokens": 199,
      "context_length": 11555
    },
    {
      "position": 24,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_label.py_LabelBinarizer_LabelBinarizer._parameter_constraints.1",
      "distance": 1.0426230430603027,
      "file_path": "sklearn/preprocessing/_label.py",
      "start_line": 170,
      "end_line": 263,
      "tokens": 741,
      "context_length": 12296
    },
    {
      "position": 25,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_estimators_nan_inf_check_classifiers_multilabel_output_format_predict_proba.17",
      "distance": 1.045957326889038,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1807,
      "end_line": 2553,
      "tokens": 6231,
      "context_length": 18527
    },
    {
      "position": 26,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_label.py_label_binarize.10_label_binarize.22.1",
      "distance": 1.0462617874145508,
      "file_path": "sklearn/preprocessing/_label.py",
      "start_line": 519,
      "end_line": 593,
      "tokens": 599,
      "context_length": 19126
    },
    {
      "position": 27,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_sparsify.py_1_31",
      "distance": 1.0467231273651123,
      "file_path": "benchmarks/bench_sparsify.py",
      "start_line": 1,
      "end_line": 82,
      "tokens": 746,
      "context_length": 19872
    },
    {
      "position": 28,
      "id": "/tmp/repos/scikit-learn/sklearn/cluster/_affinity_propagation.py__affinity_propagation.16__affinity_propagation.21.2.1.1",
      "distance": 1.0521106719970703,
      "file_path": "sklearn/cluster/_affinity_propagation.py",
      "start_line": 88,
      "end_line": 174,
      "tokens": 763,
      "context_length": 20635
    },
    {
      "position": 29,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_22_0.py_X_132_",
      "distance": 1.0529963970184326,
      "file_path": "examples/release_highlights/plot_release_highlights_0_22_0.py",
      "start_line": 195,
      "end_line": 281,
      "tokens": 764,
      "context_length": 21399
    },
    {
      "position": 30,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_label.py_8___all__.1",
      "distance": 1.0554730892181396,
      "file_path": "sklearn/preprocessing/_label.py",
      "start_line": 9,
      "end_line": 33,
      "tokens": 142,
      "context_length": 21541
    },
    {
      "position": 31,
      "id": "/tmp/repos/scikit-learn/sklearn/cluster/_affinity_propagation.py_AffinityPropagation._parameter_constraints_AffinityPropagation._more_tags.1.1",
      "distance": 1.0644207000732422,
      "file_path": "sklearn/cluster/_affinity_propagation.py",
      "start_line": 429,
      "end_line": 467,
      "tokens": 292,
      "context_length": 21833
    },
    {
      "position": 32,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_22_0.py_1_58",
      "distance": 1.06454598903656,
      "file_path": "examples/release_highlights/plot_release_highlights_0_22_0.py",
      "start_line": 1,
      "end_line": 89,
      "tokens": 749,
      "context_length": 22582
    },
    {
      "position": 33,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_lasso_dense_vs_sparse_data.py_1_",
      "distance": 1.0678409337997437,
      "file_path": "examples/linear_model/plot_lasso_dense_vs_sparse_data.py",
      "start_line": 1,
      "end_line": 88,
      "tokens": 759,
      "context_length": 23341
    },
    {
      "position": 34,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_2_0.py_1_47",
      "distance": 1.0680365562438965,
      "file_path": "examples/release_highlights/plot_release_highlights_1_2_0.py",
      "start_line": 1,
      "end_line": 90,
      "tokens": 766,
      "context_length": 24107
    },
    {
      "position": 35,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_23_0.py_np_62_117",
      "distance": 1.068246841430664,
      "file_path": "examples/release_highlights/plot_release_highlights_0_23_0.py",
      "start_line": 98,
      "end_line": 175,
      "tokens": 789,
      "context_length": 24896
    },
    {
      "position": 36,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_label.py_label_binarize_label_binarize.9.1",
      "distance": 1.0704107284545898,
      "file_path": "sklearn/preprocessing/_label.py",
      "start_line": 425,
      "end_line": 518,
      "tokens": 766,
      "context_length": 25662
    },
    {
      "position": 37,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_23_0.py_1_scipy",
      "distance": 1.071981430053711,
      "file_path": "examples/release_highlights/plot_release_highlights_0_23_0.py",
      "start_line": 1,
      "end_line": 97,
      "tokens": 857,
      "context_length": 26519
    },
    {
      "position": 38,
      "id": "/tmp/repos/scikit-learn/sklearn/cluster/_affinity_propagation.py_AffinityPropagation_AffinityPropagation.1",
      "distance": 1.0724034309387207,
      "file_path": "sklearn/cluster/_affinity_propagation.py",
      "start_line": 294,
      "end_line": 427,
      "tokens": 1166,
      "context_length": 27685
    },
    {
      "position": 39,
      "id": "/tmp/repos/scikit-learn/examples/svm/plot_svm_scale_c.py_44_",
      "distance": 1.0753321647644043,
      "file_path": "examples/svm/plot_svm_scale_c.py",
      "start_line": 105,
      "end_line": 173,
      "tokens": 676,
      "context_length": 28361
    },
    {
      "position": 40,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_24_0.py_83_149",
      "distance": 1.0767593383789062,
      "file_path": "examples/release_highlights/plot_release_highlights_0_24_0.py",
      "start_line": 121,
      "end_line": 210,
      "tokens": 777,
      "context_length": 29138
    },
    {
      "position": 41,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_sparse_logistic_regression_20newsgroups.py_1_models.1",
      "distance": 1.0781652927398682,
      "file_path": "examples/linear_model/plot_sparse_logistic_regression_20newsgroups.py",
      "start_line": 1,
      "end_line": 63,
      "tokens": 484,
      "context_length": 29622
    },
    {
      "position": 42,
      "id": "/tmp/repos/scikit-learn/sklearn/svm/_base.py_BaseLibSVM._validate_for_predict_BaseLibSVM._validate_for_predict.11.1",
      "distance": 1.0823578834533691,
      "file_path": "sklearn/svm/_base.py",
      "start_line": 609,
      "end_line": 647,
      "tokens": 325,
      "context_length": 29947
    },
    {
      "position": 43,
      "id": "/tmp/repos/scikit-learn/sklearn/svm/_base.py_BaseLibSVM._sparse_predict_BaseLibSVM._sparse_predict.kernel.6.1",
      "distance": 1.0833255052566528,
      "file_path": "sklearn/svm/_base.py",
      "start_line": 471,
      "end_line": 506,
      "tokens": 255,
      "context_length": 30202
    },
    {
      "position": 44,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_22_0.py_estimators_131",
      "distance": 1.0851783752441406,
      "file_path": "examples/release_highlights/plot_release_highlights_0_22_0.py",
      "start_line": 90,
      "end_line": 193,
      "tokens": 896,
      "context_length": 31098
    },
    {
      "position": 45,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/validation.py__ensure_sparse_format.8__check_estimator_name.2.1",
      "distance": 1.0865894556045532,
      "file_path": "sklearn/utils/validation.py",
      "start_line": 547,
      "end_line": 587,
      "tokens": 292,
      "context_length": 31390
    },
    {
      "position": 46,
      "id": "/tmp/repos/scikit-learn/sklearn/cluster/_affinity_propagation.py_AffinityPropagation.fit_predict_",
      "distance": 1.086908221244812,
      "file_path": "sklearn/cluster/_affinity_propagation.py",
      "start_line": 567,
      "end_line": 587,
      "tokens": 173,
      "context_length": 31563
    },
    {
      "position": 47,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_affinity_propagation.py_1_",
      "distance": 1.089091420173645,
      "file_path": "examples/cluster/plot_affinity_propagation.py",
      "start_line": 1,
      "end_line": 75,
      "tokens": 554,
      "context_length": 32117
    },
    {
      "position": 48,
      "id": "/tmp/repos/scikit-learn/examples/miscellaneous/plot_multilabel.py_1_plot_hyperplane.w.6",
      "distance": 1.0896785259246826,
      "file_path": "examples/miscellaneous/plot_multilabel.py",
      "start_line": 1,
      "end_line": 51,
      "tokens": 449,
      "context_length": 32566
    },
    {
      "position": 49,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/fixes.py_1__object_dtype_isnan.1.1",
      "distance": 1.0914089679718018,
      "file_path": "sklearn/utils/fixes.py",
      "start_line": 1,
      "end_line": 46,
      "tokens": 303,
      "context_length": 32869
    },
    {
      "position": 50,
      "id": "/tmp/repos/scikit-learn/examples/multioutput/plot_classifier_chain_yeast.py_1_Y_pred_ensemble.1",
      "distance": 1.0950055122375488,
      "file_path": "examples/multioutput/plot_classifier_chain_yeast.py",
      "start_line": 1,
      "end_line": 73,
      "tokens": 732,
      "context_length": 33601
    },
    {
      "position": 51,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_logistic_l1_l2_sparsity.py_19_",
      "distance": 1.0976389646530151,
      "file_path": "examples/linear_model/plot_logistic_l1_l2_sparsity.py",
      "start_line": 42,
      "end_line": 93,
      "tokens": 619,
      "context_length": 34220
    },
    {
      "position": 52,
      "id": "/tmp/repos/scikit-learn/sklearn/decomposition/_lda.py_LatentDirichletAllocation._more_tags_LatentDirichletAllocation._check_non_neg_array.5.1",
      "distance": 1.0980780124664307,
      "file_path": "sklearn/decomposition/_lda.py",
      "start_line": 543,
      "end_line": 569,
      "tokens": 175,
      "context_length": 34395
    },
    {
      "position": 53,
      "id": "/tmp/repos/scikit-learn/sklearn/svm/_base.py_BaseSVC._sparse_predict_proba_BaseSVC._sparse_predict_proba.5.1",
      "distance": 1.0986690521240234,
      "file_path": "sklearn/svm/_base.py",
      "start_line": 930,
      "end_line": 964,
      "tokens": 249,
      "context_length": 34644
    },
    {
      "position": 54,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_sparse_logistic_regression_mnist.py_1_",
      "distance": 1.0991809368133545,
      "file_path": "examples/linear_model/plot_sparse_logistic_regression_mnist.py",
      "start_line": 1,
      "end_line": 85,
      "tokens": 678,
      "context_length": 35322
    },
    {
      "position": 55,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_sgdocsvm_vs_ocsvm.py_n_error_outliers_sgd_",
      "distance": 1.099504828453064,
      "file_path": "examples/linear_model/plot_sgdocsvm_vs_ocsvm.py",
      "start_line": 78,
      "end_line": 155,
      "tokens": 780,
      "context_length": 36102
    },
    {
      "position": 56,
      "id": "/tmp/repos/scikit-learn/examples/cross_decomposition/plot_compare_cross_decomposition.py_1_54",
      "distance": 1.0995489358901978,
      "file_path": "examples/cross_decomposition/plot_compare_cross_decomposition.py",
      "start_line": 1,
      "end_line": 94,
      "tokens": 756,
      "context_length": 36858
    },
    {
      "position": 57,
      "id": "/tmp/repos/scikit-learn/sklearn/svm/_base.py_warnings_LIBSVM_IMPL.1",
      "distance": 1.0995776653289795,
      "file_path": "sklearn/svm/_base.py",
      "start_line": 1,
      "end_line": 30,
      "tokens": 291,
      "context_length": 37149
    },
    {
      "position": 58,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/validation.py__ensure_sparse_format__ensure_sparse_format.7.3.2",
      "distance": 1.102134346961975,
      "file_path": "sklearn/utils/validation.py",
      "start_line": 447,
      "end_line": 545,
      "tokens": 760,
      "context_length": 37909
    },
    {
      "position": 59,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_1_0.py_log_reg_input_features_np_120",
      "distance": 1.103548288345337,
      "file_path": "examples/release_highlights/plot_release_highlights_1_1_0.py",
      "start_line": 98,
      "end_line": 177,
      "tokens": 847,
      "context_length": 38756
    },
    {
      "position": 60,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_label.py_LabelBinarizer.fit_transform_LabelBinarizer.transform.5.1",
      "distance": 1.1047004461288452,
      "file_path": "sklearn/preprocessing/_label.py",
      "start_line": 314,
      "end_line": 368,
      "tokens": 297,
      "context_length": 39053
    },
    {
      "position": 61,
      "id": "/tmp/repos/scikit-learn/sklearn/linear_model/_logistic.py_LogisticRegression.1_LogisticRegression.1",
      "distance": 1.1068878173828125,
      "file_path": "sklearn/linear_model/_logistic.py",
      "start_line": 784,
      "end_line": 1066,
      "tokens": 3073,
      "context_length": 42126
    },
    {
      "position": 62,
      "id": "/tmp/repos/scikit-learn/examples/semi_supervised/plot_semi_supervised_newsgroups.py_28_",
      "distance": 1.1071343421936035,
      "file_path": "examples/semi_supervised/plot_semi_supervised_newsgroups.py",
      "start_line": 88,
      "end_line": 112,
      "tokens": 313,
      "context_length": 42439
    },
    {
      "position": 63,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_classifiers_multilabel_output_format_predict_proba.18_check_estimators_data_not_an_array.14",
      "distance": 1.1074594259262085,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 2554,
      "end_line": 3236,
      "tokens": 5959,
      "context_length": 48398
    },
    {
      "position": 64,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_scaling_importance.py_1_clf.1",
      "distance": 1.1106055974960327,
      "file_path": "examples/preprocessing/plot_scaling_importance.py",
      "start_line": 1,
      "end_line": 74,
      "tokens": 520,
      "context_length": 48918
    },
    {
      "position": 65,
      "id": "/tmp/repos/scikit-learn/examples/cross_decomposition/plot_compare_cross_decomposition.py_55_",
      "distance": 1.1110548973083496,
      "file_path": "examples/cross_decomposition/plot_compare_cross_decomposition.py",
      "start_line": 95,
      "end_line": 172,
      "tokens": 719,
      "context_length": 49637
    },
    {
      "position": 66,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/sparsefuncs.py_sp__raise_error_wrong_axis.1.1",
      "distance": 1.1135859489440918,
      "file_path": "sklearn/utils/sparsefuncs.py",
      "start_line": 6,
      "end_line": 28,
      "tokens": 186,
      "context_length": 49823
    },
    {
      "position": 67,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_saga.py__predict_proba_exp.9.1",
      "distance": 1.1154417991638184,
      "file_path": "benchmarks/bench_saga.py",
      "start_line": 136,
      "end_line": 234,
      "tokens": 651,
      "context_length": 50474
    },
    {
      "position": 68,
      "id": "/tmp/repos/scikit-learn/examples/gaussian_process/plot_gpr_on_structured_data.py_kernel_",
      "distance": 1.1179567575454712,
      "file_path": "examples/gaussian_process/plot_gpr_on_structured_data.py",
      "start_line": 103,
      "end_line": 189,
      "tokens": 671,
      "context_length": 51145
    },
    {
      "position": 69,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_scaling_importance.py_89_",
      "distance": 1.118539571762085,
      "file_path": "examples/preprocessing/plot_scaling_importance.py",
      "start_line": 157,
      "end_line": 256,
      "tokens": 911,
      "context_length": 52056
    },
    {
      "position": 70,
      "id": "/tmp/repos/scikit-learn/examples/impute/plot_iterative_imputer_variants_comparison.py_1_score_simple_imputer.1",
      "distance": 1.1191661357879639,
      "file_path": "examples/impute/plot_iterative_imputer_variants_comparison.py",
      "start_line": 1,
      "end_line": 91,
      "tokens": 780,
      "context_length": 52836
    },
    {
      "position": 71,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_label.py_LabelBinarizer.__init___LabelBinarizer.fit.10.1",
      "distance": 1.121321439743042,
      "file_path": "sklearn/preprocessing/_label.py",
      "start_line": 265,
      "end_line": 312,
      "tokens": 358,
      "context_length": 53194
    },
    {
      "position": 72,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_1_0.py_1_pd",
      "distance": 1.1214661598205566,
      "file_path": "examples/release_highlights/plot_release_highlights_1_1_0.py",
      "start_line": 1,
      "end_line": 96,
      "tokens": 775,
      "context_length": 53969
    },
    {
      "position": 73,
      "id": "/tmp/repos/scikit-learn/sklearn/decomposition/_dict_learning.py_sparse_encode_sparse_encode.1",
      "distance": 1.1216814517974854,
      "file_path": "sklearn/decomposition/_dict_learning.py",
      "start_line": 231,
      "end_line": 367,
      "tokens": 1186,
      "context_length": 55155
    },
    {
      "position": 74,
      "id": "/tmp/repos/scikit-learn/sklearn/datasets/_samples_generator.py_make_multilabel_classification.X_indices_make_multilabel_classification.22.1",
      "distance": 1.122901201248169,
      "file_path": "sklearn/datasets/_samples_generator.py",
      "start_line": 435,
      "end_line": 457,
      "tokens": 301,
      "context_length": 55456
    },
    {
      "position": 75,
      "id": "/tmp/repos/scikit-learn/examples/covariance/plot_sparse_cov.py_1_33",
      "distance": 1.1244261264801025,
      "file_path": "examples/covariance/plot_sparse_cov.py",
      "start_line": 1,
      "end_line": 93,
      "tokens": 761,
      "context_length": 56217
    },
    {
      "position": 76,
      "id": "/tmp/repos/scikit-learn/sklearn/cluster/_affinity_propagation.py_AffinityPropagation.fit_AffinityPropagation.fit.12.1",
      "distance": 1.1250733137130737,
      "file_path": "sklearn/cluster/_affinity_propagation.py",
      "start_line": 469,
      "end_line": 532,
      "tokens": 475,
      "context_length": 56692
    },
    {
      "position": 77,
      "id": "/tmp/repos/scikit-learn/sklearn/decomposition/_dict_learning.py__sparse_encode__sparse_encode.5.1",
      "distance": 1.1287052631378174,
      "file_path": "sklearn/decomposition/_dict_learning.py",
      "start_line": 35,
      "end_line": 132,
      "tokens": 756,
      "context_length": 57448
    },
    {
      "position": 78,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_lasso_and_elasticnet.py_1_",
      "distance": 1.1287848949432373,
      "file_path": "examples/linear_model/plot_lasso_and_elasticnet.py",
      "start_line": 1,
      "end_line": 98,
      "tokens": 653,
      "context_length": 58101
    },
    {
      "position": 79,
      "id": "/tmp/repos/scikit-learn/sklearn/linear_model/_least_angle.py__lars_path_solver.27__lars_path_solver.27.10.3.AA.3",
      "distance": 1.128891944885254,
      "file_path": "sklearn/linear_model/_least_angle.py",
      "start_line": 551,
      "end_line": 713,
      "tokens": 1625,
      "context_length": 59726
    }
  ],
  "files": [
    {
      "file_path": "sklearn/semi_supervised/_label_propagation.py",
      "position": 1,
      "tokens": 4814,
      "context_length": 4814
    },
    {
      "file_path": "examples/semi_supervised/plot_label_propagation_structure.py",
      "position": 2,
      "tokens": 727,
      "context_length": 5541
    },
    {
      "file_path": "examples/semi_supervised/plot_label_propagation_digits_active_learning.py",
      "position": 3,
      "tokens": 1026,
      "context_length": 6567
    },
    {
      "file_path": "examples/semi_supervised/plot_label_propagation_digits.py",
      "position": 4,
      "tokens": 740,
      "context_length": 7307
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_1_0_0.py",
      "position": 5,
      "tokens": 2335,
      "context_length": 9642
    },
    {
      "file_path": "sklearn/utils/estimator_checks.py",
      "position": 6,
      "tokens": 36315,
      "context_length": 45957
    },
    {
      "file_path": "benchmarks/bench_sparsify.py",
      "position": 7,
      "tokens": 899,
      "context_length": 46856
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_1_2_0.py",
      "position": 8,
      "tokens": 1485,
      "context_length": 48341
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_0_24_0.py",
      "position": 9,
      "tokens": 2438,
      "context_length": 50779
    },
    {
      "file_path": "sklearn/decomposition/_dict_learning.py",
      "position": 10,
      "tokens": 18951,
      "context_length": 69730
    },
    {
      "file_path": "examples/miscellaneous/plot_multilabel.py",
      "position": 11,
      "tokens": 1137,
      "context_length": 70867
    },
    {
      "file_path": "sklearn/preprocessing/_label.py",
      "position": 12,
      "tokens": 7187,
      "context_length": 78054
    },
    {
      "file_path": "sklearn/cluster/_affinity_propagation.py",
      "position": 13,
      "tokens": 4479,
      "context_length": 82533
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_0_22_0.py",
      "position": 14,
      "tokens": 2410,
      "context_length": 84943
    },
    {
      "file_path": "examples/linear_model/plot_lasso_dense_vs_sparse_data.py",
      "position": 15,
      "tokens": 759,
      "context_length": 85702
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_0_23_0.py",
      "position": 16,
      "tokens": 1782,
      "context_length": 87484
    },
    {
      "file_path": "examples/svm/plot_svm_scale_c.py",
      "position": 17,
      "tokens": 1616,
      "context_length": 89100
    },
    {
      "file_path": "examples/linear_model/plot_sparse_logistic_regression_20newsgroups.py",
      "position": 18,
      "tokens": 1011,
      "context_length": 90111
    },
    {
      "file_path": "sklearn/svm/_base.py",
      "position": 19,
      "tokens": 9591,
      "context_length": 99702
    },
    {
      "file_path": "sklearn/utils/validation.py",
      "position": 20,
      "tokens": 16943,
      "context_length": 116645
    },
    {
      "file_path": "examples/cluster/plot_affinity_propagation.py",
      "position": 21,
      "tokens": 554,
      "context_length": 117199
    },
    {
      "file_path": "sklearn/utils/fixes.py",
      "position": 22,
      "tokens": 1743,
      "context_length": 118942
    },
    {
      "file_path": "examples/multioutput/plot_classifier_chain_yeast.py",
      "position": 23,
      "tokens": 1058,
      "context_length": 120000
    },
    {
      "file_path": "examples/linear_model/plot_logistic_l1_l2_sparsity.py",
      "position": 24,
      "tokens": 929,
      "context_length": 120929
    },
    {
      "file_path": "sklearn/decomposition/_lda.py",
      "position": 25,
      "tokens": 7452,
      "context_length": 128381
    },
    {
      "file_path": "examples/linear_model/plot_sparse_logistic_regression_mnist.py",
      "position": 26,
      "tokens": 702,
      "context_length": 129083
    },
    {
      "file_path": "examples/linear_model/plot_sgdocsvm_vs_ocsvm.py",
      "position": 27,
      "tokens": 1553,
      "context_length": 130636
    },
    {
      "file_path": "examples/cross_decomposition/plot_compare_cross_decomposition.py",
      "position": 28,
      "tokens": 1474,
      "context_length": 132110
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_1_1_0.py",
      "position": 29,
      "tokens": 2137,
      "context_length": 134247
    },
    {
      "file_path": "sklearn/linear_model/_logistic.py",
      "position": 30,
      "tokens": 19357,
      "context_length": 153604
    },
    {
      "file_path": "examples/semi_supervised/plot_semi_supervised_newsgroups.py",
      "position": 31,
      "tokens": 911,
      "context_length": 154515
    },
    {
      "file_path": "examples/preprocessing/plot_scaling_importance.py",
      "position": 32,
      "tokens": 2316,
      "context_length": 156831
    },
    {
      "file_path": "sklearn/utils/sparsefuncs.py",
      "position": 33,
      "tokens": 4882,
      "context_length": 161713
    },
    {
      "file_path": "benchmarks/bench_saga.py",
      "position": 34,
      "tokens": 2568,
      "context_length": 164281
    },
    {
      "file_path": "examples/gaussian_process/plot_gpr_on_structured_data.py",
      "position": 35,
      "tokens": 1490,
      "context_length": 165771
    },
    {
      "file_path": "examples/impute/plot_iterative_imputer_variants_comparison.py",
      "position": 36,
      "tokens": 1335,
      "context_length": 167106
    },
    {
      "file_path": "sklearn/datasets/_samples_generator.py",
      "position": 37,
      "tokens": 15411,
      "context_length": 182517
    },
    {
      "file_path": "examples/covariance/plot_sparse_cov.py",
      "position": 38,
      "tokens": 1271,
      "context_length": 183788
    },
    {
      "file_path": "examples/linear_model/plot_lasso_and_elasticnet.py",
      "position": 39,
      "tokens": 653,
      "context_length": 184441
    },
    {
      "file_path": "sklearn/linear_model/_least_angle.py",
      "position": 40,
      "tokens": 19871,
      "context_length": 204312
    }
  ]
}