{
  "instance_id": "scikit-learn__scikit-learn-25747",
  "model_patch": "diff --git a/sklearn/utils/_set_output.py b/sklearn/utils/_set_output.py\nindex 335773c6a..71dd1b200 100644\n--- a/sklearn/utils/_set_output.py\n+++ b/sklearn/utils/_set_output.py\n@@ -3,6 +3,7 @@ from functools import wraps\n from scipy.sparse import issparse\n \n from . import check_pandas_support\n+import pandas as pd\n from .._config import get_config\n from ._available_if import available_if\n \n@@ -127,9 +128,11 @@ def _wrap_data_with_container(method, data_to_wrap, original_input, estimator):\n         return data_to_wrap\n \n     # dense_config == \"pandas\"\n+    # Use the index from the transformed data if it's a DataFrame\n+    transformed_index = data_to_wrap.index if isinstance(data_to_wrap, pd.DataFrame) else getattr(original_input, \"index\", None)\n     return _wrap_in_pandas_container(\n         data_to_wrap=data_to_wrap,\n-        index=getattr(original_input, \"index\", None),\n+        index=transformed_index,\n         columns=estimator.get_feature_names_out,\n     )\n \n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "pass",
  "model_patch_files": [
    "sklearn/utils/_set_output.py"
  ],
  "repo": "scikit-learn/scikit-learn",
  "base_commit": "2c867b8f822eb7a684f0d5c4359e4426e1c9cfe0",
  "patch": "diff --git a/sklearn/utils/_set_output.py b/sklearn/utils/_set_output.py\n--- a/sklearn/utils/_set_output.py\n+++ b/sklearn/utils/_set_output.py\n@@ -34,7 +34,7 @@ def _wrap_in_pandas_container(\n         `range(n_features)`.\n \n     index : array-like, default=None\n-        Index for data.\n+        Index for data. `index` is ignored if `data_to_wrap` is already a DataFrame.\n \n     Returns\n     -------\n@@ -55,8 +55,6 @@ def _wrap_in_pandas_container(\n     if isinstance(data_to_wrap, pd.DataFrame):\n         if columns is not None:\n             data_to_wrap.columns = columns\n-        if index is not None:\n-            data_to_wrap.index = index\n         return data_to_wrap\n \n     return pd.DataFrame(data_to_wrap, index=index, columns=columns)\n",
  "test_patch": "diff --git a/sklearn/utils/tests/test_set_output.py b/sklearn/utils/tests/test_set_output.py\n--- a/sklearn/utils/tests/test_set_output.py\n+++ b/sklearn/utils/tests/test_set_output.py\n@@ -33,7 +33,9 @@ def test__wrap_in_pandas_container_dense_update_columns_and_index():\n \n     new_df = _wrap_in_pandas_container(X_df, columns=new_columns, index=new_index)\n     assert_array_equal(new_df.columns, new_columns)\n-    assert_array_equal(new_df.index, new_index)\n+\n+    # Index does not change when the input is a DataFrame\n+    assert_array_equal(new_df.index, X_df.index)\n \n \n def test__wrap_in_pandas_container_error_validation():\n@@ -260,3 +262,33 @@ class C(A, B):\n         pass\n \n     assert C().transform(None) == \"B\"\n+\n+\n+class EstimatorWithSetOutputIndex(_SetOutputMixin):\n+    def fit(self, X, y=None):\n+        self.n_features_in_ = X.shape[1]\n+        return self\n+\n+    def transform(self, X, y=None):\n+        import pandas as pd\n+\n+        # transform by giving output a new index.\n+        return pd.DataFrame(X.to_numpy(), index=[f\"s{i}\" for i in range(X.shape[0])])\n+\n+    def get_feature_names_out(self, input_features=None):\n+        return np.asarray([f\"X{i}\" for i in range(self.n_features_in_)], dtype=object)\n+\n+\n+def test_set_output_pandas_keep_index():\n+    \"\"\"Check that set_output does not override index.\n+\n+    Non-regression test for gh-25730.\n+    \"\"\"\n+    pd = pytest.importorskip(\"pandas\")\n+\n+    X = pd.DataFrame([[1, 2, 3], [4, 5, 6]], index=[0, 1])\n+    est = EstimatorWithSetOutputIndex().set_output(transform=\"pandas\")\n+    est.fit(X)\n+\n+    X_trans = est.transform(X)\n+    assert_array_equal(X_trans.index, [\"s0\", \"s1\"])\n",
  "problem_statement": "FeatureUnion not working when aggregating data and pandas transform output selected\n### Describe the bug\n\nI would like to use `pandas` transform output and use a custom transformer in a feature union which aggregates data. When I'm using this combination I got an error. When I use default `numpy` output it works fine.\n\n### Steps/Code to Reproduce\n\n```python\r\nimport pandas as pd\r\nfrom sklearn.base import BaseEstimator, TransformerMixin\r\nfrom sklearn import set_config\r\nfrom sklearn.pipeline import make_union\r\n\r\nindex = pd.date_range(start=\"2020-01-01\", end=\"2020-01-05\", inclusive=\"left\", freq=\"H\")\r\ndata = pd.DataFrame(index=index, data=[10] * len(index), columns=[\"value\"])\r\ndata[\"date\"] = index.date\r\n\r\n\r\nclass MyTransformer(BaseEstimator, TransformerMixin):\r\n    def fit(self, X: pd.DataFrame, y: pd.Series | None = None, **kwargs):\r\n        return self\r\n\r\n    def transform(self, X: pd.DataFrame, y: pd.Series | None = None) -> pd.DataFrame:\r\n        return X[\"value\"].groupby(X[\"date\"]).sum()\r\n\r\n\r\n# This works.\r\nset_config(transform_output=\"default\")\r\nprint(make_union(MyTransformer()).fit_transform(data))\r\n\r\n# This does not work.\r\nset_config(transform_output=\"pandas\")\r\nprint(make_union(MyTransformer()).fit_transform(data))\r\n```\n\n### Expected Results\n\nNo error is thrown when using `pandas` transform output.\n\n### Actual Results\n\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\nCell In[5], line 25\r\n     23 # This does not work.\r\n     24 set_config(transform_output=\"pandas\")\r\n---> 25 print(make_union(MyTransformer()).fit_transform(data))\r\n\r\nFile ~/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/sklearn/utils/_set_output.py:150, in _wrap_method_output.<locals>.wrapped(self, X, *args, **kwargs)\r\n    143 if isinstance(data_to_wrap, tuple):\r\n    144     # only wrap the first output for cross decomposition\r\n    145     return (\r\n    146         _wrap_data_with_container(method, data_to_wrap[0], X, self),\r\n    147         *data_to_wrap[1:],\r\n    148     )\r\n--> 150 return _wrap_data_with_container(method, data_to_wrap, X, self)\r\n\r\nFile ~/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/sklearn/utils/_set_output.py:130, in _wrap_data_with_container(method, data_to_wrap, original_input, estimator)\r\n    127     return data_to_wrap\r\n    129 # dense_config == \"pandas\"\r\n--> 130 return _wrap_in_pandas_container(\r\n    131     data_to_wrap=data_to_wrap,\r\n    132     index=getattr(original_input, \"index\", None),\r\n    133     columns=estimator.get_feature_names_out,\r\n    134 )\r\n\r\nFile ~/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/sklearn/utils/_set_output.py:59, in _wrap_in_pandas_container(data_to_wrap, columns, index)\r\n     57         data_to_wrap.columns = columns\r\n     58     if index is not None:\r\n---> 59         data_to_wrap.index = index\r\n     60     return data_to_wrap\r\n     62 return pd.DataFrame(data_to_wrap, index=index, columns=columns)\r\n\r\nFile ~/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/pandas/core/generic.py:5588, in NDFrame.__setattr__(self, name, value)\r\n   5586 try:\r\n   5587     object.__getattribute__(self, name)\r\n-> 5588     return object.__setattr__(self, name, value)\r\n   5589 except AttributeError:\r\n   5590     pass\r\n\r\nFile ~/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/pandas/_libs/properties.pyx:70, in pandas._libs.properties.AxisProperty.__set__()\r\n\r\nFile ~/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/pandas/core/generic.py:769, in NDFrame._set_axis(self, axis, labels)\r\n    767 def _set_axis(self, axis: int, labels: Index) -> None:\r\n    768     labels = ensure_index(labels)\r\n--> 769     self._mgr.set_axis(axis, labels)\r\n    770     self._clear_item_cache()\r\n\r\nFile ~/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/pandas/core/internals/managers.py:214, in BaseBlockManager.set_axis(self, axis, new_labels)\r\n    212 def set_axis(self, axis: int, new_labels: Index) -> None:\r\n    213     # Caller is responsible for ensuring we have an Index object.\r\n--> 214     self._validate_set_axis(axis, new_labels)\r\n    215     self.axes[axis] = new_labels\r\n\r\nFile ~/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/pandas/core/internals/base.py:69, in DataManager._validate_set_axis(self, axis, new_labels)\r\n     66     pass\r\n     68 elif new_len != old_len:\r\n---> 69     raise ValueError(\r\n     70         f\"Length mismatch: Expected axis has {old_len} elements, new \"\r\n     71         f\"values have {new_len} elements\"\r\n     72     )\r\n\r\nValueError: Length mismatch: Expected axis has 4 elements, new values have 96 elements\r\n```\n\n### Versions\n\n```shell\nSystem:\r\n    python: 3.10.6 (main, Aug 30 2022, 05:11:14) [Clang 13.0.0 (clang-1300.0.29.30)]\r\nexecutable: /Users/macbookpro/.local/share/virtualenvs/3e_VBrf2/bin/python\r\n   machine: macOS-11.3-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n      sklearn: 1.2.1\r\n          pip: 22.3.1\r\n   setuptools: 67.3.2\r\n        numpy: 1.23.5\r\n        scipy: 1.10.1\r\n       Cython: None\r\n       pandas: 1.4.4\r\n   matplotlib: 3.7.0\r\n       joblib: 1.2.0\r\nthreadpoolctl: 3.1.0\r\n\r\nBuilt with OpenMP: True\r\n\r\nthreadpoolctl info:\r\n       user_api: blas\r\n   internal_api: openblas\r\n         prefix: libopenblas\r\n       filepath: /Users/macbookpro/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/numpy/.dylibs/libopenblas64_.0.dylib\r\n        version: 0.3.20\r\nthreading_layer: pthreads\r\n   architecture: Haswell\r\n    num_threads: 4\r\n\r\n       user_api: openmp\r\n   internal_api: openmp\r\n         prefix: libomp\r\n       filepath: /Users/macbookpro/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/sklearn/.dylibs/libomp.dylib\r\n        version: None\r\n    num_threads: 8\r\n\r\n       user_api: blas\r\n   internal_api: openblas\r\n         prefix: libopenblas\r\n       filepath: /Users/macbookpro/.local/share/virtualenvs/3e_VBrf2/lib/python3.10/site-packages/scipy/.dylibs/libopenblas.0.dylib\r\n        version: 0.3.18\r\nthreading_layer: pthreads\r\n   architecture: Haswell\r\n    num_threads: 4\n```\n\n",
  "hints_text": "As noted in the [glossery](https://scikit-learn.org/dev/glossary.html#term-transform), Scikit-learn transformers expects that `transform`'s output have the same number of samples as the input. This exception is held in `FeatureUnion` when processing data and tries to make sure that the output index is the same as the input index. In principle, we can have a less restrictive requirement and only set the index if it is not defined.\r\n\r\nTo better understand your use case, how do you intend to use the `FeatureUnion` in the overall pipeline?\r\n\r\n\n> Scikit-learn transformers expects that transform's output have the same number of samples as the input\r\n\r\nI haven't known that. Good to know. What is the correct way to aggregate or drop rows in a pipeline? Isn't that supported?\r\n\r\n> To better understand your use case, how do you intend to use the FeatureUnion in the overall pipeline?\r\n\r\nThe actual use case: I have a time series (`price`) with hourly frequency. It is a single series with a datetime index. I have built a dataframe with pipeline and custom transformers (by also violating the rule to have same number of inputs and outputs) which aggregates the data (calculates daily mean, and some moving average of daily means) then I have transformed back to hourly frequency (using same values for all the hours of a day). So the dataframe has (`date`, `price`, `mean`, `moving_avg`) columns at that point with hourly frequency (\"same number input/output\" rule violated again). After that I have added the problematic `FeatureUnion`. One part of the union simply drops `price` and \"collapses\" the remaining part to daily data (as I said all the remaining columns has the same values on the same day). On the other part of the feature union I calculate a standard devition between `price` and `moving_avg` on daily basis. So I have the (`date`, `mean`, `moving_avg`) on the left side of the feature union and an `std` on the right side. Both have daily frequency. I would like to have a dataframe with (`date`, `mean`, `moving_avg`, `std`) at the end of the transformation.\nAs I see there is the same \"problem\" in `ColumnTransfromer`.\nI have a look at how `scikit-learn` encapsulates output into a `DataFrame` and found this code block:\r\n\r\nhttps://github.com/scikit-learn/scikit-learn/blob/main/sklearn/utils/_set_output.py#L55-L62\r\n\r\nIs there any reason to set index here? If transformer returned a `DataFrame` this already has some kind of index. Why should we restore the original input index? What is the use case when a transformer changes the `DataFrame`'s index and `scikit-learn` has to restore it automatically to the input index?\r\n\r\nWith index restoration it is also expected for transformers that index should not be changed (or if it is changed by transformer then `scikit-learn` restores the original one which could be a bit unintuitive). Is this an intended behaviour?\r\n\r\nWhat is the design decision to not allow changing index and row count in data by transformers? In time series problems I think it is very common to aggregate raw data and modify original index.",
  "created_at": "2023-03-02T20:38:47Z",
  "version": "1.3",
  "FAIL_TO_PASS": "[\"sklearn/utils/tests/test_set_output.py::test_set_output_pandas_keep_index\"]",
  "PASS_TO_PASS": "[\"sklearn/utils/tests/test_set_output.py::test__get_output_config\", \"sklearn/utils/tests/test_set_output.py::test__safe_set_output\", \"sklearn/utils/tests/test_set_output.py::test__safe_set_output_error\", \"sklearn/utils/tests/test_set_output.py::test__wrap_in_pandas_container_column_errors\", \"sklearn/utils/tests/test_set_output.py::test__wrap_in_pandas_container_dense\", \"sklearn/utils/tests/test_set_output.py::test__wrap_in_pandas_container_dense_update_columns_and_index\", \"sklearn/utils/tests/test_set_output.py::test__wrap_in_pandas_container_error_validation\", \"sklearn/utils/tests/test_set_output.py::test_auto_wrap_output_keys_errors_with_incorrect_input\", \"sklearn/utils/tests/test_set_output.py::test_get_output_auto_wrap_false\", \"sklearn/utils/tests/test_set_output.py::test_set_output_method\", \"sklearn/utils/tests/test_set_output.py::test_set_output_method_error\", \"sklearn/utils/tests/test_set_output.py::test_set_output_mixin\", \"sklearn/utils/tests/test_set_output.py::test_set_output_mixin_custom_mixin\", \"sklearn/utils/tests/test_set_output.py::test_set_output_mro\"]",
  "environment_setup_commit": "1e8a5b833d1b58f3ab84099c4582239af854b23a",
  "patch_files": [
    "sklearn/utils/_set_output.py"
  ],
  "test_patch_files": [
    "sklearn/utils/tests/test_set_output.py"
  ],
  "patch_diff_details": {
    "sklearn/utils/_set_output.py": {
      "diffs": [
        {
          "start_line_old": 37,
          "end_line_old": 37
        },
        {
          "start_line_old": 58,
          "end_line_old": 59
        }
      ]
    }
  },
  "vectors": 3922,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion._hstack_FeatureUnion._hstack.4.1",
      "distance": 0.775333046913147,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1279,
      "end_line": 1289,
      "tokens": 125,
      "context_length": 125
    },
    {
      "position": 2,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion._validate_transformers_FeatureUnion._validate_transformers.5.2.1",
      "distance": 0.7959972620010376,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1101,
      "end_line": 1117,
      "tokens": 138,
      "context_length": 263
    },
    {
      "position": 3,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion._update_transformer_list_FeatureUnion.__getitem__.3.1",
      "distance": 0.8310588598251343,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1291,
      "end_line": 1325,
      "tokens": 298,
      "context_length": 561
    },
    {
      "position": 4,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion._log_message_FeatureUnion._parallel_func.6.1",
      "distance": 0.8337048292160034,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1229,
      "end_line": 1252,
      "tokens": 193,
      "context_length": 754
    },
    {
      "position": 5,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_global_ouptut_transform_pandas_",
      "distance": 0.8516256809234619,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 4362,
      "end_line": 4405,
      "tokens": 369,
      "context_length": 1123
    },
    {
      "position": 6,
      "id": "/tmp/repos/scikit-learn/examples/miscellaneous/plot_set_output.py_1_num_cols.1",
      "distance": 0.8598881959915161,
      "file_path": "examples/miscellaneous/plot_set_output.py",
      "start_line": 1,
      "end_line": 87,
      "tokens": 701,
      "context_length": 1824
    },
    {
      "position": 7,
      "id": "/tmp/repos/scikit-learn/examples/miscellaneous/plot_set_output.py_ct_",
      "distance": 0.8804600834846497,
      "file_path": "examples/miscellaneous/plot_set_output.py",
      "start_line": 88,
      "end_line": 139,
      "tokens": 364,
      "context_length": 2188
    },
    {
      "position": 8,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_decision_proba_consistency_check_set_output_transform_pandas.2.18.1",
      "distance": 0.8836706876754761,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 3546,
      "end_line": 4359,
      "tokens": 6526,
      "context_length": 8714
    },
    {
      "position": 9,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_sample_weights_pandas_series_check_pipeline_consistency.12.2.4",
      "distance": 0.8927029371261597,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 905,
      "end_line": 1696,
      "tokens": 6467,
      "context_length": 15181
    },
    {
      "position": 10,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion._validate_transformer_weights_FeatureUnion._iter.3.3",
      "distance": 0.8976655602455139,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1119,
      "end_line": 1144,
      "tokens": 188,
      "context_length": 15369
    },
    {
      "position": 11,
      "id": "/tmp/repos/scikit-learn/examples/compose/plot_feature_union.py_1_",
      "distance": 0.8980943560600281,
      "file_path": "examples/compose/plot_feature_union.py",
      "start_line": 1,
      "end_line": 63,
      "tokens": 406,
      "context_length": 15775
    },
    {
      "position": 12,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion._required_parameters_FeatureUnion.set_output.4.1",
      "distance": 0.901076078414917,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1020,
      "end_line": 1052,
      "tokens": 240,
      "context_length": 16015
    },
    {
      "position": 13,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_make_union_",
      "distance": 0.9057319760322571,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1328,
      "end_line": 1373,
      "tokens": 353,
      "context_length": 16368
    },
    {
      "position": 14,
      "id": "/tmp/repos/scikit-learn/examples/compose/plot_column_transformer_mixed_types.py_1_67",
      "distance": 0.9313380122184753,
      "file_path": "examples/compose/plot_column_transformer_mixed_types.py",
      "start_line": 1,
      "end_line": 122,
      "tokens": 879,
      "context_length": 17247
    },
    {
      "position": 15,
      "id": "/tmp/repos/scikit-learn/sklearn/compose/_column_transformer.py_ColumnTransformer.1_ColumnTransformer.1",
      "distance": 0.9352272748947144,
      "file_path": "sklearn/compose/_column_transformer.py",
      "start_line": 42,
      "end_line": 214,
      "tokens": 1827,
      "context_length": 19074
    },
    {
      "position": 16,
      "id": "/tmp/repos/scikit-learn/examples/compose/plot_column_transformer.py_1_30",
      "distance": 0.9405627846717834,
      "file_path": "examples/compose/plot_column_transformer.py",
      "start_line": 1,
      "end_line": 67,
      "tokens": 430,
      "context_length": 19504
    },
    {
      "position": 17,
      "id": "/tmp/repos/scikit-learn/sklearn/compose/_column_transformer.py_1_ColumnTransformer",
      "distance": 0.948735237121582,
      "file_path": "sklearn/compose/_column_transformer.py",
      "start_line": 1,
      "end_line": 899,
      "tokens": 293,
      "context_length": 19797
    },
    {
      "position": 18,
      "id": "/tmp/repos/scikit-learn/examples/compose/plot_column_transformer_mixed_types.py_subset_feature_cv_results_128.1",
      "distance": 0.955616295337677,
      "file_path": "examples/compose/plot_column_transformer_mixed_types.py",
      "start_line": 124,
      "end_line": 215,
      "tokens": 758,
      "context_length": 20555
    },
    {
      "position": 19,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_data.py_PowerTransformer._fit_PowerTransformer._fit.7.1",
      "distance": 0.9619020223617554,
      "file_path": "sklearn/preprocessing/_data.py",
      "start_line": 3105,
      "end_line": 3134,
      "tokens": 303,
      "context_length": 20858
    },
    {
      "position": 20,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion.fit_transform_FeatureUnion.fit_transform.6.1",
      "distance": 0.9633606672286987,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1198,
      "end_line": 1227,
      "tokens": 242,
      "context_length": 21100
    },
    {
      "position": 21,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_transformer_n_iter_check_classifiers_regression_target.2",
      "distance": 0.9734808206558228,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 3433,
      "end_line": 3543,
      "tokens": 957,
      "context_length": 22057
    },
    {
      "position": 22,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_random_projections.py_19_",
      "distance": 0.9739388227462769,
      "file_path": "benchmarks/bench_random_projections.py",
      "start_line": 96,
      "end_line": 304,
      "tokens": 1338,
      "context_length": 23395
    },
    {
      "position": 23,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion_FeatureUnion.1",
      "distance": 0.9785851240158081,
      "file_path": "sklearn/pipeline.py",
      "start_line": 931,
      "end_line": 1018,
      "tokens": 758,
      "context_length": 24153
    },
    {
      "position": 24,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_0_0.py_63_pd_130",
      "distance": 0.9790014624595642,
      "file_path": "examples/release_highlights/plot_release_highlights_1_0_0.py",
      "start_line": 92,
      "end_line": 165,
      "tokens": 775,
      "context_length": 24928
    },
    {
      "position": 25,
      "id": "/tmp/repos/scikit-learn/examples/neighbors/approximate_nearest_neighbors.py_load_mnist_plt",
      "distance": 0.9825328588485718,
      "file_path": "examples/neighbors/approximate_nearest_neighbors.py",
      "start_line": 103,
      "end_line": 213,
      "tokens": 983,
      "context_length": 25911
    },
    {
      "position": 26,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion.fit_FeatureUnion.fit.5.1",
      "distance": 0.9844732880592346,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1171,
      "end_line": 1196,
      "tokens": 169,
      "context_length": 26080
    },
    {
      "position": 27,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_44_135",
      "distance": 0.9848713874816895,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 250,
      "end_line": 351,
      "tokens": 964,
      "context_length": 27044
    },
    {
      "position": 28,
      "id": "/tmp/repos/scikit-learn/examples/inspection/plot_partial_dependence.py_categorical_features_95",
      "distance": 0.9870252013206482,
      "file_path": "examples/inspection/plot_partial_dependence.py",
      "start_line": 88,
      "end_line": 174,
      "tokens": 808,
      "context_length": 27852
    },
    {
      "position": 29,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_data.py_warnings___all__.1",
      "distance": 0.9918614625930786,
      "file_path": "sklearn/preprocessing/_data.py",
      "start_line": 11,
      "end_line": 71,
      "tokens": 317,
      "context_length": 28169
    },
    {
      "position": 30,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion.get_feature_names_out_FeatureUnion.get_feature_names_out.4.1",
      "distance": 0.9999381303787231,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1146,
      "end_line": 1169,
      "tokens": 181,
      "context_length": 28350
    },
    {
      "position": 31,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_24_0.py_83_149",
      "distance": 1.0021723508834839,
      "file_path": "examples/release_highlights/plot_release_highlights_0_24_0.py",
      "start_line": 121,
      "end_line": 210,
      "tokens": 777,
      "context_length": 29127
    },
    {
      "position": 32,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion.transform_FeatureUnion.transform.4.1",
      "distance": 1.0028878450393677,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1254,
      "end_line": 1277,
      "tokens": 189,
      "context_length": 29316
    },
    {
      "position": 33,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_2_0.py___48_",
      "distance": 1.006933331489563,
      "file_path": "examples/release_highlights/plot_release_highlights_1_2_0.py",
      "start_line": 92,
      "end_line": 167,
      "tokens": 718,
      "context_length": 30034
    },
    {
      "position": 34,
      "id": "/tmp/repos/scikit-learn/examples/applications/plot_cyclical_feature_engineering.py_403_455",
      "distance": 1.0124270915985107,
      "file_path": "examples/applications/plot_cyclical_feature_engineering.py",
      "start_line": 622,
      "end_line": 715,
      "tokens": 794,
      "context_length": 30828
    },
    {
      "position": 35,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_supervised_y_2d_check_non_transformer_estimators_n_iter.not_run_check_n_iter.7.7",
      "distance": 1.0184831619262695,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 2707,
      "end_line": 3430,
      "tokens": 6190,
      "context_length": 37018
    },
    {
      "position": 36,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_22_0.py_estimators_131",
      "distance": 1.0229945182800293,
      "file_path": "examples/release_highlights/plot_release_highlights_0_22_0.py",
      "start_line": 90,
      "end_line": 193,
      "tokens": 896,
      "context_length": 37914
    },
    {
      "position": 37,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_1_0.py_1_pd",
      "distance": 1.0230374336242676,
      "file_path": "examples/release_highlights/plot_release_highlights_1_1_0.py",
      "start_line": 1,
      "end_line": 96,
      "tokens": 775,
      "context_length": 38689
    },
    {
      "position": 38,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_feature_transformation.py_1_rf_apply.1.1",
      "distance": 1.0259208679199219,
      "file_path": "examples/ensemble/plot_feature_transformation.py",
      "start_line": 1,
      "end_line": 113,
      "tokens": 759,
      "context_length": 39448
    },
    {
      "position": 39,
      "id": "/tmp/repos/scikit-learn/examples/compose/plot_compare_reduction.py_1_location.1",
      "distance": 1.027329683303833,
      "file_path": "examples/compose/plot_compare_reduction.py",
      "start_line": 1,
      "end_line": 110,
      "tokens": 778,
      "context_length": 40226
    },
    {
      "position": 40,
      "id": "/tmp/repos/scikit-learn/sklearn/utils/estimator_checks.py_check_fit_score_takes_y_check_estimators_partial_fit_n_features.2.7.1",
      "distance": 1.0281471014022827,
      "file_path": "sklearn/utils/estimator_checks.py",
      "start_line": 1699,
      "end_line": 1953,
      "tokens": 2264,
      "context_length": 42490
    },
    {
      "position": 41,
      "id": "/tmp/repos/scikit-learn/sklearn/manifold/_t_sne.py_warnings_MACHINE_EPSILON.1",
      "distance": 1.0281870365142822,
      "file_path": "sklearn/manifold/_t_sne.py",
      "start_line": 11,
      "end_line": 34,
      "tokens": 218,
      "context_length": 42708
    },
    {
      "position": 42,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_1_X.1",
      "distance": 1.0287718772888184,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 1,
      "end_line": 86,
      "tokens": 641,
      "context_length": 43349
    },
    {
      "position": 43,
      "id": "/tmp/repos/scikit-learn/examples/applications/plot_cyclical_feature_engineering.py_75_gbrt_pipeline.1",
      "distance": 1.029632329940796,
      "file_path": "examples/applications/plot_cyclical_feature_engineering.py",
      "start_line": 110,
      "end_line": 220,
      "tokens": 753,
      "context_length": 44102
    },
    {
      "position": 44,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_all_scaling.py_136_",
      "distance": 1.030961275100708,
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "start_line": 353,
      "end_line": 402,
      "tokens": 389,
      "context_length": 44491
    },
    {
      "position": 45,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_data.py_PowerTransformer_PowerTransformer.1",
      "distance": 1.033538818359375,
      "file_path": "sklearn/preprocessing/_data.py",
      "start_line": 2956,
      "end_line": 3049,
      "tokens": 788,
      "context_length": 45279
    },
    {
      "position": 46,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_1_0.py_log_reg_input_features_np_120",
      "distance": 1.03383207321167,
      "file_path": "examples/release_highlights/plot_release_highlights_1_1_0.py",
      "start_line": 98,
      "end_line": 177,
      "tokens": 847,
      "context_length": 46126
    },
    {
      "position": 47,
      "id": "/tmp/repos/scikit-learn/examples/impute/plot_iterative_imputer_variants_comparison.py_1_score_simple_imputer.1",
      "distance": 1.039809226989746,
      "file_path": "examples/impute/plot_iterative_imputer_variants_comparison.py",
      "start_line": 1,
      "end_line": 91,
      "tokens": 780,
      "context_length": 46906
    },
    {
      "position": 48,
      "id": "/tmp/repos/scikit-learn/examples/applications/plot_cyclical_feature_engineering.py_280_329",
      "distance": 1.0430095195770264,
      "file_path": "examples/applications/plot_cyclical_feature_engineering.py",
      "start_line": 450,
      "end_line": 523,
      "tokens": 747,
      "context_length": 47653
    },
    {
      "position": 49,
      "id": "/tmp/repos/scikit-learn/examples/neighbors/approximate_nearest_neighbors.py_70_",
      "distance": 1.0449247360229492,
      "file_path": "examples/neighbors/approximate_nearest_neighbors.py",
      "start_line": 214,
      "end_line": 316,
      "tokens": 952,
      "context_length": 48605
    },
    {
      "position": 50,
      "id": "/tmp/repos/scikit-learn/examples/applications/plot_cyclical_feature_engineering.py_sin_transformer_278",
      "distance": 1.0466842651367188,
      "file_path": "examples/applications/plot_cyclical_feature_engineering.py",
      "start_line": 360,
      "end_line": 434,
      "tokens": 636,
      "context_length": 49241
    },
    {
      "position": 51,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_1__final_estimator_has.3.1",
      "distance": 1.05585515499115,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1,
      "end_line": 50,
      "tokens": 289,
      "context_length": 49530
    },
    {
      "position": 52,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion.set_params_FeatureUnion.set_params.3.1",
      "distance": 1.0600367784500122,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1079,
      "end_line": 1099,
      "tokens": 150,
      "context_length": 49680
    },
    {
      "position": 53,
      "id": "/tmp/repos/scikit-learn/examples/compose/plot_column_transformer.py_subject_body_transformer_",
      "distance": 1.0625576972961426,
      "file_path": "examples/compose/plot_column_transformer.py",
      "start_line": 103,
      "end_line": 188,
      "tokens": 537,
      "context_length": 50217
    },
    {
      "position": 54,
      "id": "/tmp/repos/scikit-learn/sklearn/impute/_base.py_numbers_is_scalar_nan",
      "distance": 1.062754511833191,
      "file_path": "sklearn/impute/_base.py",
      "start_line": 5,
      "end_line": 22,
      "tokens": 128,
      "context_length": 50345
    },
    {
      "position": 55,
      "id": "/tmp/repos/scikit-learn/examples/inspection/plot_partial_dependence.py_hgbdt_preprocessor_150",
      "distance": 1.0650181770324707,
      "file_path": "examples/inspection/plot_partial_dependence.py",
      "start_line": 176,
      "end_line": 268,
      "tokens": 749,
      "context_length": 51094
    },
    {
      "position": 56,
      "id": "/tmp/repos/scikit-learn/sklearn/pipeline.py_FeatureUnion.named_transformers_FeatureUnion.get_params.2.1",
      "distance": 1.0654842853546143,
      "file_path": "sklearn/pipeline.py",
      "start_line": 1054,
      "end_line": 1077,
      "tokens": 166,
      "context_length": 51260
    },
    {
      "position": 57,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_function_transformer.py_FunctionTransformer._parameter_constraints_FunctionTransformer._check_input.2.1",
      "distance": 1.0659160614013672,
      "file_path": "sklearn/preprocessing/_function_transformer.py",
      "start_line": 129,
      "end_line": 170,
      "tokens": 329,
      "context_length": 51589
    },
    {
      "position": 58,
      "id": "/tmp/repos/scikit-learn/sklearn/compose/_column_transformer.py_ColumnTransformer._validate_output_ColumnTransformer._validate_output.3.1.1",
      "distance": 1.066270112991333,
      "file_path": "sklearn/compose/_column_transformer.py",
      "start_line": 609,
      "end_line": 622,
      "tokens": 146,
      "context_length": 51735
    },
    {
      "position": 59,
      "id": "/tmp/repos/scikit-learn/sklearn/impute/_base.py_SimpleImputer._dense_fit_SimpleImputer._dense_fit.6.11.3.1",
      "distance": 1.0700702667236328,
      "file_path": "sklearn/impute/_base.py",
      "start_line": 477,
      "end_line": 533,
      "tokens": 497,
      "context_length": 52232
    },
    {
      "position": 60,
      "id": "/tmp/repos/scikit-learn/benchmarks/bench_random_projections.py_1_print_row.1",
      "distance": 1.0704938173294067,
      "file_path": "benchmarks/bench_random_projections.py",
      "start_line": 1,
      "end_line": 93,
      "tokens": 483,
      "context_length": 52715
    },
    {
      "position": 61,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_0_0.py_X_131_",
      "distance": 1.0707335472106934,
      "file_path": "examples/release_highlights/plot_release_highlights_1_0_0.py",
      "start_line": 167,
      "end_line": 242,
      "tokens": 729,
      "context_length": 53444
    },
    {
      "position": 62,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_gradient_boosting_categorical.py_hist_one_hot_native_result.1",
      "distance": 1.071793794631958,
      "file_path": "examples/ensemble/plot_gradient_boosting_categorical.py",
      "start_line": 106,
      "end_line": 178,
      "tokens": 592,
      "context_length": 54036
    },
    {
      "position": 63,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_1_2_0.py_1_47",
      "distance": 1.0723025798797607,
      "file_path": "examples/release_highlights/plot_release_highlights_1_2_0.py",
      "start_line": 1,
      "end_line": 90,
      "tokens": 766,
      "context_length": 54802
    },
    {
      "position": 64,
      "id": "/tmp/repos/scikit-learn/setup.py_USE_NEWEST_NUMPY_C_API_USE_NEWEST_NUMPY_C_API.1",
      "distance": 1.0724886655807495,
      "file_path": "setup.py",
      "start_line": 70,
      "end_line": 132,
      "tokens": 676,
      "context_length": 55478
    },
    {
      "position": 65,
      "id": "/tmp/repos/scikit-learn/examples/linear_model/plot_poisson_regression_non_normal_loss.py_45_72",
      "distance": 1.0738370418548584,
      "file_path": "examples/linear_model/plot_poisson_regression_non_normal_loss.py",
      "start_line": 101,
      "end_line": 161,
      "tokens": 441,
      "context_length": 55919
    },
    {
      "position": 66,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_data.py_QuantileTransformer._parameter_constraints_QuantileTransformer.__init__.self.copy.1",
      "distance": 1.0751969814300537,
      "file_path": "sklearn/preprocessing/_data.py",
      "start_line": 2492,
      "end_line": 2516,
      "tokens": 210,
      "context_length": 56129
    },
    {
      "position": 67,
      "id": "/tmp/repos/scikit-learn/sklearn/compose/__init__.py_1_",
      "distance": 1.0785255432128906,
      "file_path": "sklearn/compose/__init__.py",
      "start_line": 1,
      "end_line": 22,
      "tokens": 101,
      "context_length": 56230
    },
    {
      "position": 68,
      "id": "/tmp/repos/scikit-learn/sklearn/conftest.py_1_global_dtype.1",
      "distance": 1.081150770187378,
      "file_path": "sklearn/conftest.py",
      "start_line": 1,
      "end_line": 50,
      "tokens": 425,
      "context_length": 56655
    },
    {
      "position": 69,
      "id": "/tmp/repos/scikit-learn/sklearn/compose/_column_transformer.py_ColumnTransformer._sk_visual_block__ColumnTransformer._sk_visual_block_.3.1",
      "distance": 1.0822672843933105,
      "file_path": "sklearn/compose/_column_transformer.py",
      "start_line": 879,
      "end_line": 899,
      "tokens": 193,
      "context_length": 56848
    },
    {
      "position": 70,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_polynomial.py_SplineTransformer.transform.12_",
      "distance": 1.0828883647918701,
      "file_path": "sklearn/preprocessing/_polynomial.py",
      "start_line": 846,
      "end_line": 949,
      "tokens": 1019,
      "context_length": 57867
    },
    {
      "position": 71,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/__init__.py_1_",
      "distance": 1.0841518640518188,
      "file_path": "sklearn/preprocessing/__init__.py",
      "start_line": 1,
      "end_line": 71,
      "tokens": 419,
      "context_length": 58286
    },
    {
      "position": 72,
      "id": "/tmp/repos/scikit-learn/examples/cluster/plot_feature_agglomeration_vs_univariate_selection.py_1_76",
      "distance": 1.0855435132980347,
      "file_path": "examples/cluster/plot_feature_agglomeration_vs_univariate_selection.py",
      "start_line": 1,
      "end_line": 99,
      "tokens": 784,
      "context_length": 59070
    },
    {
      "position": 73,
      "id": "/tmp/repos/scikit-learn/examples/miscellaneous/plot_pipeline_display.py_1_categorical_preprocessor.1",
      "distance": 1.087438702583313,
      "file_path": "examples/miscellaneous/plot_pipeline_display.py",
      "start_line": 1,
      "end_line": 115,
      "tokens": 785,
      "context_length": 59855
    },
    {
      "position": 74,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_data.py_PowerTransformer._check_input_PowerTransformer._more_tags.1.1",
      "distance": 1.0880136489868164,
      "file_path": "sklearn/preprocessing/_data.py",
      "start_line": 3309,
      "end_line": 3355,
      "tokens": 376,
      "context_length": 60231
    },
    {
      "position": 75,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_22_0.py_X_132_",
      "distance": 1.0909373760223389,
      "file_path": "examples/release_highlights/plot_release_highlights_0_22_0.py",
      "start_line": 195,
      "end_line": 281,
      "tokens": 764,
      "context_length": 60995
    },
    {
      "position": 76,
      "id": "/tmp/repos/scikit-learn/examples/preprocessing/plot_map_data_to_normal.py_1_axes.1",
      "distance": 1.090968132019043,
      "file_path": "examples/preprocessing/plot_map_data_to_normal.py",
      "start_line": 1,
      "end_line": 102,
      "tokens": 760,
      "context_length": 61755
    },
    {
      "position": 77,
      "id": "/tmp/repos/scikit-learn/sklearn/preprocessing/_data.py_PowerTransformer._parameter_constraints_PowerTransformer.fit.4.1",
      "distance": 1.0918127298355103,
      "file_path": "sklearn/preprocessing/_data.py",
      "start_line": 3051,
      "end_line": 3083,
      "tokens": 225,
      "context_length": 61980
    },
    {
      "position": 78,
      "id": "/tmp/repos/scikit-learn/examples/applications/plot_cyclical_feature_engineering.py_147_234",
      "distance": 1.0926995277404785,
      "file_path": "examples/applications/plot_cyclical_feature_engineering.py",
      "start_line": 244,
      "end_line": 357,
      "tokens": 1067,
      "context_length": 63047
    },
    {
      "position": 79,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_gradient_boosting_categorical.py_1_one_hot_encoder.1",
      "distance": 1.0928057432174683,
      "file_path": "examples/ensemble/plot_gradient_boosting_categorical.py",
      "start_line": 1,
      "end_line": 104,
      "tokens": 744,
      "context_length": 63791
    },
    {
      "position": 80,
      "id": "/tmp/repos/scikit-learn/sklearn/feature_extraction/_dict_vectorizer.py_DictVectorizer._transform_DictVectorizer._transform.5",
      "distance": 1.0930641889572144,
      "file_path": "sklearn/feature_extraction/_dict_vectorizer.py",
      "start_line": 190,
      "end_line": 287,
      "tokens": 729,
      "context_length": 64520
    },
    {
      "position": 81,
      "id": "/tmp/repos/scikit-learn/sklearn/cluster/_agglomerative.py_warnings_AgglomerationTransform",
      "distance": 1.0935194492340088,
      "file_path": "sklearn/cluster/_agglomerative.py",
      "start_line": 10,
      "end_line": 37,
      "tokens": 215,
      "context_length": 64735
    },
    {
      "position": 82,
      "id": "/tmp/repos/scikit-learn/examples/release_highlights/plot_release_highlights_0_23_0.py_1_scipy",
      "distance": 1.0939915180206299,
      "file_path": "examples/release_highlights/plot_release_highlights_0_23_0.py",
      "start_line": 1,
      "end_line": 97,
      "tokens": 857,
      "context_length": 65592
    },
    {
      "position": 83,
      "id": "/tmp/repos/scikit-learn/examples/ensemble/plot_stack_predictors.py_26_estimators.1",
      "distance": 1.094241976737976,
      "file_path": "examples/ensemble/plot_stack_predictors.py",
      "start_line": 83,
      "end_line": 194,
      "tokens": 786,
      "context_length": 66378
    },
    {
      "position": 84,
      "id": "/tmp/repos/scikit-learn/sklearn/compose/_column_transformer.py_ColumnTransformer.fit_transform_ColumnTransformer.fit_transform.18.1",
      "distance": 1.0961153507232666,
      "file_path": "sklearn/compose/_column_transformer.py",
      "start_line": 705,
      "end_line": 760,
      "tokens": 456,
      "context_length": 66834
    },
    {
      "position": 85,
      "id": "/tmp/repos/scikit-learn/sklearn/feature_extraction/text.py_array___all__.1",
      "distance": 1.0974271297454834,
      "file_path": "sklearn/feature_extraction/text.py",
      "start_line": 14,
      "end_line": 46,
      "tokens": 202,
      "context_length": 67036
    }
  ],
  "files": [
    {
      "file_path": "sklearn/pipeline.py",
      "position": 1,
      "tokens": 10389,
      "context_length": 10389
    },
    {
      "file_path": "sklearn/utils/estimator_checks.py",
      "position": 2,
      "tokens": 36356,
      "context_length": 46745
    },
    {
      "file_path": "examples/miscellaneous/plot_set_output.py",
      "position": 3,
      "tokens": 1065,
      "context_length": 47810
    },
    {
      "file_path": "examples/compose/plot_feature_union.py",
      "position": 4,
      "tokens": 430,
      "context_length": 48240
    },
    {
      "file_path": "examples/compose/plot_column_transformer_mixed_types.py",
      "position": 5,
      "tokens": 1797,
      "context_length": 50037
    },
    {
      "file_path": "sklearn/compose/_column_transformer.py",
      "position": 6,
      "tokens": 9306,
      "context_length": 59343
    },
    {
      "file_path": "examples/compose/plot_column_transformer.py",
      "position": 7,
      "tokens": 1236,
      "context_length": 60579
    },
    {
      "file_path": "sklearn/preprocessing/_data.py",
      "position": 8,
      "tokens": 27559,
      "context_length": 88138
    },
    {
      "file_path": "benchmarks/bench_random_projections.py",
      "position": 9,
      "tokens": 1821,
      "context_length": 89959
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_1_0_0.py",
      "position": 10,
      "tokens": 2335,
      "context_length": 92294
    },
    {
      "file_path": "examples/neighbors/approximate_nearest_neighbors.py",
      "position": 11,
      "tokens": 2734,
      "context_length": 95028
    },
    {
      "file_path": "examples/preprocessing/plot_all_scaling.py",
      "position": 12,
      "tokens": 3451,
      "context_length": 98479
    },
    {
      "file_path": "examples/inspection/plot_partial_dependence.py",
      "position": 13,
      "tokens": 4949,
      "context_length": 103428
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_0_24_0.py",
      "position": 14,
      "tokens": 2438,
      "context_length": 105866
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_1_2_0.py",
      "position": 15,
      "tokens": 1485,
      "context_length": 107351
    },
    {
      "file_path": "examples/applications/plot_cyclical_feature_engineering.py",
      "position": 16,
      "tokens": 7142,
      "context_length": 114493
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_0_22_0.py",
      "position": 17,
      "tokens": 2410,
      "context_length": 116903
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_1_1_0.py",
      "position": 18,
      "tokens": 2137,
      "context_length": 119040
    },
    {
      "file_path": "examples/ensemble/plot_feature_transformation.py",
      "position": 19,
      "tokens": 1226,
      "context_length": 120266
    },
    {
      "file_path": "examples/compose/plot_compare_reduction.py",
      "position": 20,
      "tokens": 986,
      "context_length": 121252
    },
    {
      "file_path": "sklearn/manifold/_t_sne.py",
      "position": 21,
      "tokens": 10109,
      "context_length": 131361
    },
    {
      "file_path": "examples/impute/plot_iterative_imputer_variants_comparison.py",
      "position": 22,
      "tokens": 1335,
      "context_length": 132696
    },
    {
      "file_path": "sklearn/impute/_base.py",
      "position": 23,
      "tokens": 8561,
      "context_length": 141257
    },
    {
      "file_path": "sklearn/preprocessing/_function_transformer.py",
      "position": 24,
      "tokens": 2724,
      "context_length": 143981
    },
    {
      "file_path": "examples/ensemble/plot_gradient_boosting_categorical.py",
      "position": 25,
      "tokens": 2287,
      "context_length": 146268
    },
    {
      "file_path": "setup.py",
      "position": 26,
      "tokens": 5971,
      "context_length": 152239
    },
    {
      "file_path": "examples/linear_model/plot_poisson_regression_non_normal_loss.py",
      "position": 27,
      "tokens": 5333,
      "context_length": 157572
    },
    {
      "file_path": "sklearn/compose/__init__.py",
      "position": 28,
      "tokens": 101,
      "context_length": 157673
    },
    {
      "file_path": "sklearn/conftest.py",
      "position": 29,
      "tokens": 1815,
      "context_length": 159488
    },
    {
      "file_path": "sklearn/preprocessing/_polynomial.py",
      "position": 30,
      "tokens": 8359,
      "context_length": 167847
    },
    {
      "file_path": "sklearn/preprocessing/__init__.py",
      "position": 31,
      "tokens": 419,
      "context_length": 168266
    },
    {
      "file_path": "examples/cluster/plot_feature_agglomeration_vs_univariate_selection.py",
      "position": 32,
      "tokens": 987,
      "context_length": 169253
    },
    {
      "file_path": "examples/miscellaneous/plot_pipeline_display.py",
      "position": 33,
      "tokens": 1242,
      "context_length": 170495
    },
    {
      "file_path": "examples/preprocessing/plot_map_data_to_normal.py",
      "position": 34,
      "tokens": 1286,
      "context_length": 171781
    },
    {
      "file_path": "sklearn/feature_extraction/_dict_vectorizer.py",
      "position": 35,
      "tokens": 3203,
      "context_length": 174984
    },
    {
      "file_path": "sklearn/cluster/_agglomerative.py",
      "position": 36,
      "tokens": 11187,
      "context_length": 186171
    },
    {
      "file_path": "examples/release_highlights/plot_release_highlights_0_23_0.py",
      "position": 37,
      "tokens": 1782,
      "context_length": 187953
    },
    {
      "file_path": "examples/ensemble/plot_stack_predictors.py",
      "position": 38,
      "tokens": 1875,
      "context_length": 189828
    },
    {
      "file_path": "sklearn/feature_extraction/text.py",
      "position": 39,
      "tokens": 17011,
      "context_length": 206839
    }
  ]
}