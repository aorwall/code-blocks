{
  "instance_id": "sphinx-doc__sphinx-10067",
  "model_patch": "diff --git a/sphinx/templates/quickstart/conf.py_t b/sphinx/templates/quickstart/conf.py_t\nindex 07a1aa867..59dfe2a46 100644\n--- a/sphinx/templates/quickstart/conf.py_t\n+++ b/sphinx/templates/quickstart/conf.py_t\n@@ -69,15 +69,13 @@ source_suffix = {{ suffix | repr }}\n root_doc = {{ root_doc | repr }}\n \n {% endif -%}\n-{% if language -%}\n # The language for content autogenerated by Sphinx. Refer to documentation\n # for a list of supported languages.\n #\n # This is also used if you do content translation via gettext catalogs.\n # Usually you set \"language\" from the command line for these cases.\n-language = {{ language | repr }}\n+language = {{ language | default('en') | repr }}\n \n-{% endif -%}\n # List of patterns, relative to source directory, that match files and\n # directories to ignore when looking for source files.\n # This pattern also affects html_static_path and html_extra_path.\ndiff --git a/tox.ini b/tox.ini\nindex f0afd779b..30ca90275 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -28,7 +28,7 @@ setenv =\n     PYTHONWARNINGS = all\n     PYTEST_ADDOPTS = {env:PYTEST_ADDOPTS:} --color yes\n commands=\n-    python -X dev -m pytest --durations 25 {posargs}\n+    python -X dev -m pytest -rA --durations 25 {posargs}\n \n [testenv:du-latest]\n commands =\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "sphinx/templates/quickstart/conf.py_t",
    "tox.ini"
  ],
  "repo": "sphinx-doc/sphinx",
  "base_commit": "e1fa6c79be8b3928c21e312a0c0e65e1cfd9a7f7",
  "patch": "diff --git a/sphinx/application.py b/sphinx/application.py\n--- a/sphinx/application.py\n+++ b/sphinx/application.py\n@@ -266,7 +266,7 @@ def _init_i18n(self) -> None:\n         \"\"\"Load translated strings from the configured localedirs if enabled in\n         the configuration.\n         \"\"\"\n-        if self.config.language is None:\n+        if self.config.language == 'en':\n             self.translator, has_translation = locale.init([], None)\n         else:\n             logger.info(bold(__('loading translations [%s]... ') % self.config.language),\n@@ -285,8 +285,7 @@ def _init_i18n(self) -> None:\n             locale_dirs += [path.join(package_dir, 'locale')]\n \n             self.translator, has_translation = locale.init(locale_dirs, self.config.language)\n-            if has_translation or self.config.language == 'en':\n-                # \"en\" never needs to be translated\n+            if has_translation:\n                 logger.info(__('done'))\n             else:\n                 logger.info(__('not available for built-in messages'))\ndiff --git a/sphinx/builders/html/__init__.py b/sphinx/builders/html/__init__.py\n--- a/sphinx/builders/html/__init__.py\n+++ b/sphinx/builders/html/__init__.py\n@@ -326,7 +326,7 @@ def init_js_files(self) -> None:\n             attrs.setdefault('priority', 800)  # User's JSs are loaded after extensions'\n             self.add_js_file(filename, **attrs)\n \n-        if self.config.language and self._get_translations_js():\n+        if self._get_translations_js():\n             self.add_js_file('translations.js')\n \n     def add_js_file(self, filename: str, **kwargs: Any) -> None:\n@@ -431,8 +431,6 @@ def prepare_writing(self, docnames: Set[str]) -> None:\n         if self.search:\n             from sphinx.search import IndexBuilder\n             lang = self.config.html_search_language or self.config.language\n-            if not lang:\n-                lang = 'en'\n             self.indexer = IndexBuilder(self.env, lang,\n                                         self.config.html_search_options,\n                                         self.config.html_search_scorer)\n@@ -767,10 +765,9 @@ def create_pygments_style_file(self) -> None:\n \n     def copy_translation_js(self) -> None:\n         \"\"\"Copy a JavaScript file for translations.\"\"\"\n-        if self.config.language is not None:\n-            jsfile = self._get_translations_js()\n-            if jsfile:\n-                copyfile(jsfile, path.join(self.outdir, '_static', 'translations.js'))\n+        jsfile = self._get_translations_js()\n+        if jsfile:\n+            copyfile(jsfile, path.join(self.outdir, '_static', 'translations.js'))\n \n     def copy_stemmer_js(self) -> None:\n         \"\"\"Copy a JavaScript file for stemmer.\"\"\"\ndiff --git a/sphinx/builders/latex/__init__.py b/sphinx/builders/latex/__init__.py\n--- a/sphinx/builders/latex/__init__.py\n+++ b/sphinx/builders/latex/__init__.py\n@@ -170,9 +170,8 @@ def init_context(self) -> None:\n         self.context.update(ADDITIONAL_SETTINGS.get(self.config.latex_engine, {}))\n \n         # Add special settings for (latex_engine, language_code)\n-        if self.config.language:\n-            key = (self.config.latex_engine, self.config.language[:2])\n-            self.context.update(ADDITIONAL_SETTINGS.get(key, {}))\n+        key = (self.config.latex_engine, self.config.language[:2])\n+        self.context.update(ADDITIONAL_SETTINGS.get(key, {}))\n \n         # Apply user settings to context\n         self.context.update(self.config.latex_elements)\n@@ -203,7 +202,7 @@ def update_context(self) -> None:\n \n     def init_babel(self) -> None:\n         self.babel = ExtBabel(self.config.language, not self.context['babel'])\n-        if self.config.language and not self.babel.is_supported_language():\n+        if not self.babel.is_supported_language():\n             # emit warning if specified language is invalid\n             # (only emitting, nothing changed to processing)\n             logger.warning(__('no Babel option known for language %r'),\n@@ -232,12 +231,11 @@ def init_multilingual(self) -> None:\n             self.context['classoptions'] += ',' + self.babel.get_language()\n             # this branch is not taken for xelatex/lualatex if default settings\n             self.context['multilingual'] = self.context['babel']\n-            if self.config.language:\n-                self.context['shorthandoff'] = SHORTHANDOFF\n+            self.context['shorthandoff'] = SHORTHANDOFF\n \n-                # Times fonts don't work with Cyrillic languages\n-                if self.babel.uses_cyrillic() and 'fontpkg' not in self.config.latex_elements:\n-                    self.context['fontpkg'] = ''\n+            # Times fonts don't work with Cyrillic languages\n+            if self.babel.uses_cyrillic() and 'fontpkg' not in self.config.latex_elements:\n+                self.context['fontpkg'] = ''\n         elif self.context['polyglossia']:\n             self.context['classoptions'] += ',' + self.babel.get_language()\n             options = self.babel.get_mainlanguage_options()\n@@ -380,14 +378,10 @@ def copy_support_files(self) -> None:\n         # configure usage of xindy (impacts Makefile and latexmkrc)\n         # FIXME: convert this rather to a confval with suitable default\n         #        according to language ? but would require extra documentation\n-        if self.config.language:\n-            xindy_lang_option = \\\n-                XINDY_LANG_OPTIONS.get(self.config.language[:2],\n-                                       '-L general -C utf8 ')\n-            xindy_cyrillic = self.config.language[:2] in XINDY_CYRILLIC_SCRIPTS\n-        else:\n-            xindy_lang_option = '-L english -C utf8 '\n-            xindy_cyrillic = False\n+        xindy_lang_option = XINDY_LANG_OPTIONS.get(self.config.language[:2],\n+                                                   '-L general -C utf8 ')\n+        xindy_cyrillic = self.config.language[:2] in XINDY_CYRILLIC_SCRIPTS\n+\n         context = {\n             'latex_engine':      self.config.latex_engine,\n             'xindy_use':         self.config.latex_use_xindy,\n@@ -474,7 +468,7 @@ def default_latex_engine(config: Config) -> str:\n     \"\"\" Better default latex_engine settings for specific languages. \"\"\"\n     if config.language == 'ja':\n         return 'uplatex'\n-    elif (config.language or '').startswith('zh'):\n+    elif config.language.startswith('zh'):\n         return 'xelatex'\n     elif config.language == 'el':\n         return 'xelatex'\ndiff --git a/sphinx/builders/latex/util.py b/sphinx/builders/latex/util.py\n--- a/sphinx/builders/latex/util.py\n+++ b/sphinx/builders/latex/util.py\n@@ -20,7 +20,7 @@ def __init__(self, language_code: str, use_polyglossia: bool = False) -> None:\n         self.language_code = language_code\n         self.use_polyglossia = use_polyglossia\n         self.supported = True\n-        super().__init__(language_code or '')\n+        super().__init__(language_code)\n \n     def uses_cyrillic(self) -> bool:\n         return self.language in self.cyrillic_languages\ndiff --git a/sphinx/config.py b/sphinx/config.py\n--- a/sphinx/config.py\n+++ b/sphinx/config.py\n@@ -100,7 +100,7 @@ class Config:\n         # the real default is locale-dependent\n         'today_fmt': (None, 'env', [str]),\n \n-        'language': (None, 'env', [str]),\n+        'language': ('en', 'env', [str]),\n         'locale_dirs': (['locales'], 'env', []),\n         'figure_language_filename': ('{root}.{language}{ext}', 'env', [str]),\n         'gettext_allow_fuzzy_translations': (False, 'gettext', []),\ndiff --git a/sphinx/environment/__init__.py b/sphinx/environment/__init__.py\n--- a/sphinx/environment/__init__.py\n+++ b/sphinx/environment/__init__.py\n@@ -261,7 +261,7 @@ def _update_settings(self, config: Config) -> None:\n         \"\"\"Update settings by new config.\"\"\"\n         self.settings['input_encoding'] = config.source_encoding\n         self.settings['trim_footnote_reference_space'] = config.trim_footnote_reference_space\n-        self.settings['language_code'] = config.language or 'en'\n+        self.settings['language_code'] = config.language\n \n         # Allow to disable by 3rd party extension (workaround)\n         self.settings.setdefault('smart_quotes', True)\ndiff --git a/sphinx/environment/collectors/asset.py b/sphinx/environment/collectors/asset.py\n--- a/sphinx/environment/collectors/asset.py\n+++ b/sphinx/environment/collectors/asset.py\n@@ -64,18 +64,16 @@ def process_doc(self, app: Sphinx, doctree: nodes.document) -> None:\n                 rel_imgpath, full_imgpath = app.env.relfn2path(imguri, docname)\n                 node['uri'] = rel_imgpath\n \n-                if app.config.language:\n-                    # Search language-specific figures at first\n-                    i18n_imguri = get_image_filename_for_language(imguri, app.env)\n-                    _, full_i18n_imgpath = app.env.relfn2path(i18n_imguri, docname)\n-                    self.collect_candidates(app.env, full_i18n_imgpath, candidates, node)\n+                # Search language-specific figures at first\n+                i18n_imguri = get_image_filename_for_language(imguri, app.env)\n+                _, full_i18n_imgpath = app.env.relfn2path(i18n_imguri, docname)\n+                self.collect_candidates(app.env, full_i18n_imgpath, candidates, node)\n \n                 self.collect_candidates(app.env, full_imgpath, candidates, node)\n             else:\n-                if app.config.language:\n-                    # substitute imguri by figure_language_filename\n-                    # (ex. foo.png -> foo.en.png)\n-                    imguri = search_image_for_language(imguri, app.env)\n+                # substitute imguri by figure_language_filename\n+                # (ex. foo.png -> foo.en.png)\n+                imguri = search_image_for_language(imguri, app.env)\n \n                 # Update `node['uri']` to a relative path from srcdir\n                 # from a relative path from current document.\ndiff --git a/sphinx/util/i18n.py b/sphinx/util/i18n.py\n--- a/sphinx/util/i18n.py\n+++ b/sphinx/util/i18n.py\n@@ -10,14 +10,16 @@\n \n import os\n import re\n+import warnings\n from datetime import datetime, timezone\n from os import path\n-from typing import TYPE_CHECKING, Callable, Generator, List, NamedTuple, Optional, Tuple, Union\n+from typing import TYPE_CHECKING, Callable, Generator, List, NamedTuple, Tuple, Union\n \n import babel.dates\n from babel.messages.mofile import write_mo\n from babel.messages.pofile import read_po\n \n+from sphinx.deprecation import RemovedInSphinx70Warning\n from sphinx.errors import SphinxError\n from sphinx.locale import __\n from sphinx.util import logging\n@@ -173,9 +175,11 @@ def docname_to_domain(docname: str, compaction: Union[bool, str]) -> str:\n date_format_re = re.compile('(%s)' % '|'.join(date_format_mappings))\n \n \n-def babel_format_date(date: datetime, format: str, locale: Optional[str],\n+def babel_format_date(date: datetime, format: str, locale: str,\n                       formatter: Callable = babel.dates.format_date) -> str:\n     if locale is None:\n+        warnings.warn('The locale argument for babel_format_date() becomes required.',\n+                      RemovedInSphinx70Warning)\n         locale = 'en'\n \n     # Check if we have the tzinfo attribute. If not we cannot do any time\n@@ -194,7 +198,7 @@ def babel_format_date(date: datetime, format: str, locale: Optional[str],\n         return format\n \n \n-def format_date(format: str, date: datetime = None, language: Optional[str] = None) -> str:\n+def format_date(format: str, date: datetime = None, language: str = None) -> str:\n     if date is None:\n         # If time is not specified, try to use $SOURCE_DATE_EPOCH variable\n         # See https://wiki.debian.org/ReproducibleBuilds/TimestampsProposal\n@@ -204,6 +208,11 @@ def format_date(format: str, date: datetime = None, language: Optional[str] = No\n         else:\n             date = datetime.now(timezone.utc).astimezone()\n \n+    if language is None:\n+        warnings.warn('The language argument for format_date() becomes required.',\n+                      RemovedInSphinx70Warning)\n+        language = 'en'\n+\n     result = []\n     tokens = date_format_re.split(format)\n     for token in tokens:\n@@ -229,9 +238,6 @@ def format_date(format: str, date: datetime = None, language: Optional[str] = No\n \n \n def get_image_filename_for_language(filename: str, env: \"BuildEnvironment\") -> str:\n-    if not env.config.language:\n-        return filename\n-\n     filename_format = env.config.figure_language_filename\n     d = dict()\n     d['root'], d['ext'] = path.splitext(filename)\n@@ -252,9 +258,6 @@ def get_image_filename_for_language(filename: str, env: \"BuildEnvironment\") -> s\n \n \n def search_image_for_language(filename: str, env: \"BuildEnvironment\") -> str:\n-    if not env.config.language:\n-        return filename\n-\n     translated = get_image_filename_for_language(filename, env)\n     _, abspath = env.relfn2path(translated)\n     if path.exists(abspath):\ndiff --git a/sphinx/writers/latex.py b/sphinx/writers/latex.py\n--- a/sphinx/writers/latex.py\n+++ b/sphinx/writers/latex.py\n@@ -333,7 +333,7 @@ def __init__(self, document: nodes.document, builder: \"LaTeXBuilder\",\n         if self.config.numfig and self.config.math_numfig:\n             sphinxpkgoptions.append('mathnumfig')\n \n-        if (self.config.language not in {None, 'en', 'ja'} and\n+        if (self.config.language not in {'en', 'ja'} and\n                 'fncychap' not in self.config.latex_elements):\n             # use Sonny style if any language specified (except English)\n             self.elements['fncychap'] = (r'\\usepackage[Sonny]{fncychap}' + CR +\n@@ -341,7 +341,7 @@ def __init__(self, document: nodes.document, builder: \"LaTeXBuilder\",\n                                          r'\\ChTitleVar{\\Large\\normalfont\\sffamily}')\n \n         self.babel = self.builder.babel\n-        if self.config.language and not self.babel.is_supported_language():\n+        if not self.babel.is_supported_language():\n             # emit warning if specified language is invalid\n             # (only emitting, nothing changed to processing)\n             logger.warning(__('no Babel option known for language %r'),\n",
  "test_patch": "diff --git a/tests/test_build_latex.py b/tests/test_build_latex.py\n--- a/tests/test_build_latex.py\n+++ b/tests/test_build_latex.py\n@@ -528,7 +528,7 @@ def test_babel_with_no_language_settings(app, status, warning):\n     assert '\\\\usepackage[Bjarne]{fncychap}' in result\n     assert ('\\\\addto\\\\captionsenglish{\\\\renewcommand{\\\\contentsname}{Table of content}}\\n'\n             in result)\n-    assert '\\\\shorthandoff' not in result\n+    assert '\\\\shorthandoff{\"}' in result\n \n     # sphinxmessages.sty\n     result = (app.outdir / 'sphinxmessages.sty').read_text()\ndiff --git a/tests/test_util_i18n.py b/tests/test_util_i18n.py\n--- a/tests/test_util_i18n.py\n+++ b/tests/test_util_i18n.py\n@@ -98,15 +98,6 @@ def test_format_date():\n def test_get_filename_for_language(app):\n     app.env.temp_data['docname'] = 'index'\n \n-    # language is None\n-    app.env.config.language = None\n-    assert app.env.config.language is None\n-    assert i18n.get_image_filename_for_language('foo.png', app.env) == 'foo.png'\n-    assert i18n.get_image_filename_for_language('foo.bar.png', app.env) == 'foo.bar.png'\n-    assert i18n.get_image_filename_for_language('subdir/foo.png', app.env) == 'subdir/foo.png'\n-    assert i18n.get_image_filename_for_language('../foo.png', app.env) == '../foo.png'\n-    assert i18n.get_image_filename_for_language('foo', app.env) == 'foo'\n-\n     # language is en\n     app.env.config.language = 'en'\n     assert i18n.get_image_filename_for_language('foo.png', app.env) == 'foo.en.png'\n@@ -115,15 +106,6 @@ def test_get_filename_for_language(app):\n     assert i18n.get_image_filename_for_language('../foo.png', app.env) == '../foo.en.png'\n     assert i18n.get_image_filename_for_language('foo', app.env) == 'foo.en'\n \n-    # modify figure_language_filename and language is None\n-    app.env.config.language = None\n-    app.env.config.figure_language_filename = 'images/{language}/{root}{ext}'\n-    assert i18n.get_image_filename_for_language('foo.png', app.env) == 'foo.png'\n-    assert i18n.get_image_filename_for_language('foo.bar.png', app.env) == 'foo.bar.png'\n-    assert i18n.get_image_filename_for_language('subdir/foo.png', app.env) == 'subdir/foo.png'\n-    assert i18n.get_image_filename_for_language('../foo.png', app.env) == '../foo.png'\n-    assert i18n.get_image_filename_for_language('foo', app.env) == 'foo'\n-\n     # modify figure_language_filename and language is 'en'\n     app.env.config.language = 'en'\n     app.env.config.figure_language_filename = 'images/{language}/{root}{ext}'\n",
  "problem_statement": "To improve accessibility, set language in conf.py using sphinx-quickstart\n**Is your feature request related to a problem? Please describe.**\r\nBy default, Sphinx documentation does not include the language, for example in `docs/conf.py`\r\n`language = 'en'`\r\n\r\nresult in built web pages:\r\n`<html lang=\"en\">`\r\n\r\nThis leads to the following accessibility issue identified by [Lighthouse](https://developers.google.com/web/tools/lighthouse/):\r\n\r\n`<html> element does not have a [lang] attribute `\r\n> If a page doesn't specify a lang attribute, a screen reader assumes that the page is in the default language that the user chose when setting up the screen reader. If the page isn't actually in the default language, then the screen reader might not announce the page's text correctly. [Learn more](https://web.dev/html-has-lang/?utm_source=lighthouse&utm_medium=lr).`\r\n\r\nAlso, Sphinx sites thus do not by default take advantage of the [features offered by setting the language](https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-language).\r\n\r\nThis [accessibility issue is present in major sites including NumPy](https://googlechrome.github.io/lighthouse/viewer/?psiurl=https%3A%2F%2Fnumpy.org%2Fdoc%2Fstable%2F&strategy=mobile&category=performance&category=accessibility&category=best-practices&category=seo&category=pwa&utm_source=lh-chrome-ext).\r\n\r\n**Describe the solution you'd like**\r\nUser already enters language when they run sphinx-quickstart:\r\n```\r\nFor a list of supported codes, see\r\nhttps://www.sphinx-doc.org/en/master/usage/configuration.html#confval-language.\r\n> Project language [en]: \r\n```\r\n\r\nso it should automatically set that `language` value in the generated `conf.py` file.\r\n\r\nIt would also be nice if there was some prompt to set the `language` of existing Sphinx installations, upon an update of Sphinx version, or build of the documentation, for example.\r\n\r\n**Describe alternatives you've considered**\r\nStatus quo, which retains accessibility issue.\r\n\r\n**Additional context**\r\nRelated issue: #10056.\r\n\r\n\n",
  "hints_text": "",
  "created_at": "2022-01-08T17:42:55Z",
  "version": "5.0",
  "FAIL_TO_PASS": "[\"tests/test_build_latex.py::test_babel_with_no_language_settings\"]",
  "PASS_TO_PASS": "[\"tests/test_build_latex.py::test_babel_with_language_de\", \"tests/test_build_latex.py::test_babel_with_language_ja\", \"tests/test_build_latex.py::test_babel_with_language_ru\", \"tests/test_build_latex.py::test_babel_with_language_tr\", \"tests/test_build_latex.py::test_babel_with_unknown_language\", \"tests/test_build_latex.py::test_default_latex_documents\", \"tests/test_build_latex.py::test_footnote\", \"tests/test_build_latex.py::test_image_in_section\", \"tests/test_build_latex.py::test_index_on_title\", \"tests/test_build_latex.py::test_latex_add_latex_package\", \"tests/test_build_latex.py::test_latex_additional_settings_for_greek\", \"tests/test_build_latex.py::test_latex_additional_settings_for_language_code\", \"tests/test_build_latex.py::test_latex_basic\", \"tests/test_build_latex.py::test_latex_basic_howto\", \"tests/test_build_latex.py::test_latex_basic_howto_ja\", \"tests/test_build_latex.py::test_latex_basic_manual\", \"tests/test_build_latex.py::test_latex_basic_manual_ja\", \"tests/test_build_latex.py::test_latex_container\", \"tests/test_build_latex.py::test_latex_elements_extrapackages\", \"tests/test_build_latex.py::test_latex_equations\", \"tests/test_build_latex.py::test_latex_figure_in_admonition\", \"tests/test_build_latex.py::test_latex_glossary\", \"tests/test_build_latex.py::test_latex_image_in_parsed_literal\", \"tests/test_build_latex.py::test_latex_images\", \"tests/test_build_latex.py::test_latex_index\", \"tests/test_build_latex.py::test_latex_labels\", \"tests/test_build_latex.py::test_latex_logo_if_not_found\", \"tests/test_build_latex.py::test_latex_nested_enumerated_list\", \"tests/test_build_latex.py::test_latex_nested_tables\", \"tests/test_build_latex.py::test_latex_obey_numfig_but_math_numfig_false\", \"tests/test_build_latex.py::test_latex_obey_numfig_is_false\", \"tests/test_build_latex.py::test_latex_obey_numfig_secnum_depth_is_two\", \"tests/test_build_latex.py::test_latex_obey_numfig_secnum_depth_is_zero\", \"tests/test_build_latex.py::test_latex_raw_directive\", \"tests/test_build_latex.py::test_latex_release\", \"tests/test_build_latex.py::test_latex_show_urls_footnote_and_substitutions\", \"tests/test_build_latex.py::test_latex_show_urls_is_footnote\", \"tests/test_build_latex.py::test_latex_show_urls_is_inline\", \"tests/test_build_latex.py::test_latex_show_urls_is_no\", \"tests/test_build_latex.py::test_latex_table_complex_tables\", \"tests/test_build_latex.py::test_latex_table_custom_template_caseA\", \"tests/test_build_latex.py::test_latex_table_custom_template_caseB\", \"tests/test_build_latex.py::test_latex_table_custom_template_caseC\", \"tests/test_build_latex.py::test_latex_table_longtable\", \"tests/test_build_latex.py::test_latex_table_tabulars\", \"tests/test_build_latex.py::test_latex_thebibliography\", \"tests/test_build_latex.py::test_latex_theme\", \"tests/test_build_latex.py::test_latex_theme_options\", \"tests/test_build_latex.py::test_latex_theme_papersize\", \"tests/test_build_latex.py::test_latex_title_after_admonitions\", \"tests/test_build_latex.py::test_latex_toplevel_sectioning_is_None\", \"tests/test_build_latex.py::test_latex_toplevel_sectioning_is_chapter\", \"tests/test_build_latex.py::test_latex_toplevel_sectioning_is_chapter_with_howto\", \"tests/test_build_latex.py::test_latex_toplevel_sectioning_is_part\", \"tests/test_build_latex.py::test_latex_toplevel_sectioning_is_part_with_howto\", \"tests/test_build_latex.py::test_latex_toplevel_sectioning_is_section\", \"tests/test_build_latex.py::test_latex_warnings\", \"tests/test_build_latex.py::test_numref\", \"tests/test_build_latex.py::test_numref_with_language_ja\", \"tests/test_build_latex.py::test_numref_with_prefix1\", \"tests/test_build_latex.py::test_numref_with_prefix2\", \"tests/test_build_latex.py::test_polyglossia_with_language_de\", \"tests/test_build_latex.py::test_polyglossia_with_language_de_1901\", \"tests/test_build_latex.py::test_reference_in_caption_and_codeblock_in_footnote\", \"tests/test_build_latex.py::test_texescape_for_non_unicode_supported_engine\", \"tests/test_build_latex.py::test_texescape_for_unicode_supported_engine\", \"tests/test_build_latex.py::test_toctree_maxdepth_howto\", \"tests/test_build_latex.py::test_toctree_maxdepth_manual\", \"tests/test_build_latex.py::test_toctree_not_found\", \"tests/test_build_latex.py::test_toctree_with_deeper_maxdepth\", \"tests/test_build_latex.py::test_toctree_without_maxdepth\", \"tests/test_build_latex.py::test_writer\", \"tests/test_util_i18n.py::test_CatalogRepository\", \"tests/test_util_i18n.py::test_catalog_info_for_file_and_path\", \"tests/test_util_i18n.py::test_catalog_info_for_sub_domain_file_and_path\", \"tests/test_util_i18n.py::test_catalog_outdated\", \"tests/test_util_i18n.py::test_catalog_write_mo\", \"tests/test_util_i18n.py::test_get_filename_for_language\"]",
  "environment_setup_commit": "60775ec4c4ea08509eee4b564cbf90f316021aff",
  "patch_files": [
    "sphinx/application.py",
    "sphinx/builders/html/__init__.py",
    "sphinx/builders/latex/__init__.py",
    "sphinx/builders/latex/util.py",
    "sphinx/config.py",
    "sphinx/environment/__init__.py",
    "sphinx/environment/collectors/asset.py",
    "sphinx/util/i18n.py",
    "sphinx/writers/latex.py"
  ],
  "test_patch_files": [
    "tests/test_build_latex.py",
    "tests/test_util_i18n.py"
  ],
  "patch_diff_details": {
    "sphinx/application.py": {
      "diffs": [
        {
          "start_line_old": 269,
          "end_line_old": 269,
          "file_pos": 13,
          "file_context_length": 84448,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/application.py_builtin_extensions_logger.1",
          "closest_snippet_line_distance": 147
        },
        {
          "start_line_old": 288,
          "end_line_old": 289,
          "file_pos": 13,
          "file_context_length": 84448,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/application.py_builtin_extensions_logger.1",
          "closest_snippet_line_distance": 167
        }
      ]
    },
    "sphinx/builders/html/__init__.py": {
      "diffs": [
        {
          "start_line_old": 329,
          "end_line_old": 329,
          "file_pos": 4,
          "file_context_length": 21776,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_html_return_codes_re.1",
          "closest_snippet_line_distance": 266
        },
        {
          "start_line_old": 434,
          "end_line_old": 435,
          "file_pos": 4,
          "file_context_length": 21776,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_html_return_codes_re.1",
          "closest_snippet_line_distance": 372
        },
        {
          "start_line_old": 770,
          "end_line_old": 773,
          "file_pos": 4,
          "file_context_length": 21776,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_html_return_codes_re.1",
          "closest_snippet_line_distance": 710
        }
      ]
    },
    "sphinx/builders/latex/__init__.py": {
      "diffs": [
        {
          "start_line_old": 173,
          "end_line_old": 175,
          "file_pos": 5,
          "file_context_length": 27354,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_os_31",
          "closest_snippet_line_distance": 135
        },
        {
          "start_line_old": 206,
          "end_line_old": 206,
          "file_pos": 5,
          "file_context_length": 27354,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_os_31",
          "closest_snippet_line_distance": 166
        },
        {
          "start_line_old": 235,
          "end_line_old": 240,
          "file_pos": 5,
          "file_context_length": 27354,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_os_31",
          "closest_snippet_line_distance": 200
        },
        {
          "start_line_old": 383,
          "end_line_old": 390,
          "file_pos": 5,
          "file_context_length": 27354,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_os_31",
          "closest_snippet_line_distance": 350
        },
        {
          "start_line_old": 477,
          "end_line_old": 477,
          "file_pos": 5,
          "file_context_length": 27354,
          "pos": 8,
          "context_length": 5042
        }
      ]
    },
    "sphinx/builders/latex/util.py": {
      "diffs": [
        {
          "start_line_old": 23,
          "end_line_old": 23,
          "file_pos": 15,
          "file_context_length": 85879,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/latex/util.py_ExtBabel.language_name_",
          "closest_snippet_line_distance": 8
        }
      ]
    },
    "sphinx/config.py": {
      "diffs": [
        {
          "start_line_old": 103,
          "end_line_old": 103,
          "file_pos": 12,
          "file_context_length": 72582,
          "pos": 17,
          "context_length": 8688
        }
      ]
    },
    "sphinx/environment/__init__.py": {
      "diffs": [
        {
          "start_line_old": 264,
          "end_line_old": 264,
          "file_pos": 10,
          "file_context_length": 64256,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment.check_dependents_BuildEnvironment.get_doctree.6.1",
          "closest_snippet_line_distance": 181
        }
      ]
    },
    "sphinx/environment/collectors/asset.py": {
      "diffs": [
        {
          "start_line_old": 67,
          "end_line_old": 78
        }
      ]
    },
    "sphinx/util/i18n.py": {
      "diffs": [
        {
          "start_line_old": 13,
          "end_line_old": 13,
          "file_pos": 36,
          "file_context_length": 158480,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/util/i18n.py_get_image_filename_for_language_",
          "closest_snippet_line_distance": 218
        },
        {
          "start_line_old": 176,
          "end_line_old": 176,
          "file_pos": 36,
          "file_context_length": 158480,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/util/i18n.py_get_image_filename_for_language_",
          "closest_snippet_line_distance": 55
        },
        {
          "start_line_old": 197,
          "end_line_old": 197,
          "file_pos": 36,
          "file_context_length": 158480,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/util/i18n.py_get_image_filename_for_language_",
          "closest_snippet_line_distance": 34
        },
        {
          "start_line_old": 207,
          "end_line_old": 207,
          "file_pos": 36,
          "file_context_length": 158480,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/util/i18n.py_get_image_filename_for_language_",
          "closest_snippet_line_distance": 24
        },
        {
          "start_line_old": 232,
          "end_line_old": 234,
          "file_pos": 36,
          "file_context_length": 158480,
          "pos": 61,
          "context_length": 26050
        },
        {
          "start_line_old": 255,
          "end_line_old": 257,
          "file_pos": 36,
          "file_context_length": 158480,
          "pos": 61,
          "context_length": 26050
        }
      ]
    },
    "sphinx/writers/latex.py": {
      "diffs": [
        {
          "start_line_old": 336,
          "end_line_old": 336,
          "file_pos": 37,
          "file_context_length": 177476,
          "pos": 62,
          "context_length": 27553
        },
        {
          "start_line_old": 344,
          "end_line_old": 344,
          "file_pos": 37,
          "file_context_length": 177476,
          "pos": 62,
          "context_length": 27553
        }
      ]
    }
  },
  "vectors": 1529,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_ask_user.13_ask_user.20",
      "distance": 0.965958833694458,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 268,
      "end_line": 326,
      "tokens": 739,
      "context_length": 739
    },
    {
      "position": 2,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_ask_user_ask_user.12.1",
      "distance": 0.9735313653945923,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 191,
      "end_line": 266,
      "tokens": 675,
      "context_length": 1414
    },
    {
      "position": 3,
      "id": "/tmp/repos/sphinx/sphinx/locale/__init__.py_16_",
      "distance": 0.9818435907363892,
      "file_path": "sphinx/locale/__init__.py",
      "start_line": 241,
      "end_line": 269,
      "tokens": 222,
      "context_length": 1636
    },
    {
      "position": 4,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_argparse_choice",
      "distance": 0.9878984689712524,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 11,
      "end_line": 119,
      "tokens": 756,
      "context_length": 2392
    },
    {
      "position": 5,
      "id": "/tmp/repos/sphinx/setup.py_os_Tee.flush.1",
      "distance": 0.9942494630813599,
      "file_path": "setup.py",
      "start_line": 1,
      "end_line": 76,
      "tokens": 478,
      "context_length": 2870
    },
    {
      "position": 6,
      "id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_70_",
      "distance": 1.0036277770996094,
      "file_path": "sphinx/builders/html/__init__.py",
      "start_line": 1305,
      "end_line": 1386,
      "tokens": 1000,
      "context_length": 3870,
      "file_pos": 4
    },
    {
      "position": 7,
      "id": "/tmp/repos/sphinx/setup.py_15_",
      "distance": 1.0059573650360107,
      "file_path": "setup.py",
      "start_line": 174,
      "end_line": 251,
      "tokens": 651,
      "context_length": 4521
    },
    {
      "position": 8,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_validate_config_values_default_latex_documents.4.1",
      "distance": 1.0093457698822021,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 451,
      "end_line": 511,
      "tokens": 521,
      "context_length": 5042,
      "file_pos": 5
    },
    {
      "position": 9,
      "id": "/tmp/repos/sphinx/sphinx/util/docutils.py_using_user_docutils_conf_ElementLookupError.1",
      "distance": 1.0260554552078247,
      "file_path": "sphinx/util/docutils.py",
      "start_line": 146,
      "end_line": 170,
      "tokens": 194,
      "context_length": 5236
    },
    {
      "position": 10,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_main_",
      "distance": 1.027392864227295,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 544,
      "end_line": 611,
      "tokens": 491,
      "context_length": 5727
    },
    {
      "position": 11,
      "id": "/tmp/repos/sphinx/doc/conf.py_setup_",
      "distance": 1.0304007530212402,
      "file_path": "doc/conf.py",
      "start_line": 165,
      "end_line": 187,
      "tokens": 269,
      "context_length": 5996
    },
    {
      "position": 12,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_105_",
      "distance": 1.0338019132614136,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2846,
      "end_line": 2891,
      "tokens": 557,
      "context_length": 6553
    },
    {
      "position": 13,
      "id": "/tmp/repos/sphinx/sphinx/builders/manpage.py_default_man_pages_",
      "distance": 1.0384931564331055,
      "file_path": "sphinx/builders/manpage.py",
      "start_line": 110,
      "end_line": 129,
      "tokens": 166,
      "context_length": 6719
    },
    {
      "position": 14,
      "id": "/tmp/repos/sphinx/doc/conf.py_extlinks_parse_event.8.1",
      "distance": 1.0503945350646973,
      "file_path": "doc/conf.py",
      "start_line": 84,
      "end_line": 140,
      "tokens": 502,
      "context_length": 7221
    },
    {
      "position": 15,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_os_versioning_conditions.1",
      "distance": 1.0565749406814575,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 11,
      "end_line": 85,
      "tokens": 535,
      "context_length": 7756,
      "file_pos": 10
    },
    {
      "position": 16,
      "id": "/tmp/repos/sphinx/sphinx/directives/code.py_Highlight_Highlight.run.5.1",
      "distance": 1.058001160621643,
      "file_path": "sphinx/directives/code.py",
      "start_line": 33,
      "end_line": 56,
      "tokens": 176,
      "context_length": 7932
    },
    {
      "position": 17,
      "id": "/tmp/repos/sphinx/sphinx/config.py_Config.config_values_Config.config_values.1",
      "distance": 1.0624949932098389,
      "file_path": "sphinx/config.py",
      "start_line": 91,
      "end_line": 151,
      "tokens": 756,
      "context_length": 8688,
      "file_pos": 12
    },
    {
      "position": 18,
      "id": "/tmp/repos/sphinx/sphinx/application.py_Sphinx.add_search_language_Sphinx.add_search_language.5",
      "distance": 1.0698126554489136,
      "file_path": "sphinx/application.py",
      "start_line": 1154,
      "end_line": 1168,
      "tokens": 154,
      "context_length": 8842,
      "file_pos": 13
    },
    {
      "position": 19,
      "id": "/tmp/repos/sphinx/sphinx/transforms/post_transforms/code.py_HighlightLanguageVisitor_HighlightLanguageVisitor.visit_literal_block.3.2",
      "distance": 1.0792157649993896,
      "file_path": "sphinx/transforms/post_transforms/code.py",
      "start_line": 49,
      "end_line": 85,
      "tokens": 310,
      "context_length": 9152
    },
    {
      "position": 20,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_do_prompt_do_prompt.2.7.1",
      "distance": 1.0839693546295166,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 138,
      "end_line": 163,
      "tokens": 234,
      "context_length": 9386
    },
    {
      "position": 21,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/util.py_ExtBabel.language_name_",
      "distance": 1.0881543159484863,
      "file_path": "sphinx/builders/latex/util.py",
      "start_line": 31,
      "end_line": 57,
      "tokens": 231,
      "context_length": 9617,
      "file_pos": 15
    },
    {
      "position": 22,
      "id": "/tmp/repos/sphinx/sphinx/locale/__init__.py_setlocale_setlocale.2.2.1",
      "distance": 1.0894722938537598,
      "file_path": "sphinx/locale/__init__.py",
      "start_line": 151,
      "end_line": 168,
      "tokens": 132,
      "context_length": 9749
    },
    {
      "position": 23,
      "id": "/tmp/repos/sphinx/sphinx/highlighting.py_2_30.1",
      "distance": 1.092512607574463,
      "file_path": "sphinx/highlighting.py",
      "start_line": 11,
      "end_line": 68,
      "tokens": 613,
      "context_length": 10362
    },
    {
      "position": 24,
      "id": "/tmp/repos/sphinx/sphinx/util/smartypants.py_12_",
      "distance": 1.0953059196472168,
      "file_path": "sphinx/util/smartypants.py",
      "start_line": 380,
      "end_line": 392,
      "tokens": 137,
      "context_length": 10499
    },
    {
      "position": 25,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/constants.py_DEFAULT_SETTINGS_DEFAULT_SETTINGS.1",
      "distance": 1.097090721130371,
      "file_path": "sphinx/builders/latex/constants.py",
      "start_line": 74,
      "end_line": 124,
      "tokens": 537,
      "context_length": 11036
    },
    {
      "position": 26,
      "id": "/tmp/repos/sphinx/sphinx/directives/code.py_LiteralInclude.run_",
      "distance": 1.105698823928833,
      "file_path": "sphinx/directives/code.py",
      "start_line": 407,
      "end_line": 470,
      "tokens": 642,
      "context_length": 11678
    },
    {
      "position": 27,
      "id": "/tmp/repos/sphinx/sphinx/domains/changeset.py_VersionChange_VersionChange.run.15.1",
      "distance": 1.1067851781845093,
      "file_path": "sphinx/domains/changeset.py",
      "start_line": 49,
      "end_line": 107,
      "tokens": 516,
      "context_length": 12194
    },
    {
      "position": 28,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_get_parser_get_parser.26",
      "distance": 1.1104216575622559,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 459,
      "end_line": 525,
      "tokens": 752,
      "context_length": 12946
    },
    {
      "position": 29,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment.check_dependents_BuildEnvironment.get_doctree.6.1",
      "distance": 1.1126514673233032,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 445,
      "end_line": 523,
      "tokens": 687,
      "context_length": 13633,
      "file_pos": 19
    },
    {
      "position": 30,
      "id": "/tmp/repos/sphinx/sphinx/application.py_Sphinx.set_html_assets_policy_Sphinx.html_themes.2.1",
      "distance": 1.1152315139770508,
      "file_path": "sphinx/application.py",
      "start_line": 1284,
      "end_line": 1300,
      "tokens": 143,
      "context_length": 13776,
      "file_pos": 19
    },
    {
      "position": 31,
      "id": "/tmp/repos/sphinx/sphinx/util/docutils.py_patched_get_language_patched_get_language.4.3.docutils.languages.get_language.1",
      "distance": 1.1154453754425049,
      "file_path": "sphinx/util/docutils.py",
      "start_line": 126,
      "end_line": 143,
      "tokens": 132,
      "context_length": 13908
    },
    {
      "position": 32,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/constants.py_ADDITIONAL_SETTINGS_",
      "distance": 1.1160454750061035,
      "file_path": "sphinx/builders/latex/constants.py",
      "start_line": 126,
      "end_line": 217,
      "tokens": 1040,
      "context_length": 14948
    },
    {
      "position": 33,
      "id": "/tmp/repos/sphinx/sphinx/application.py_Sphinx._init_env_Sphinx._init_env.2.3.1.2.2",
      "distance": 1.119873046875,
      "file_path": "sphinx/application.py",
      "start_line": 294,
      "end_line": 307,
      "tokens": 132,
      "context_length": 15080,
      "file_pos": 19
    },
    {
      "position": 34,
      "id": "/tmp/repos/sphinx/sphinx/config.py_check_primary_domain_check_root_doc.3.1",
      "distance": 1.1213634014129639,
      "file_path": "sphinx/config.py",
      "start_line": 464,
      "end_line": 483,
      "tokens": 223,
      "context_length": 15303,
      "file_pos": 19
    },
    {
      "position": 35,
      "id": "/tmp/repos/sphinx/sphinx/util/rst.py_re_default_role.3",
      "distance": 1.121756911277771,
      "file_path": "sphinx/util/rst.py",
      "start_line": 11,
      "end_line": 81,
      "tokens": 556,
      "context_length": 15859
    },
    {
      "position": 36,
      "id": "/tmp/repos/sphinx/sphinx/setup_command.py_BuildDoc.initialize_options_BuildDoc._guess_source_dir.2.1",
      "distance": 1.123136043548584,
      "file_path": "sphinx/setup_command.py",
      "start_line": 93,
      "end_line": 120,
      "tokens": 229,
      "context_length": 16088
    },
    {
      "position": 37,
      "id": "/tmp/repos/sphinx/sphinx/builders/changes.py_ChangesBuilder.write.16_",
      "distance": 1.123384714126587,
      "file_path": "sphinx/builders/changes.py",
      "start_line": 125,
      "end_line": 168,
      "tokens": 438,
      "context_length": 16526
    },
    {
      "position": 38,
      "id": "/tmp/repos/sphinx/sphinx/builders/manpage.py_2_logger.1",
      "distance": 1.1250505447387695,
      "file_path": "sphinx/builders/manpage.py",
      "start_line": 11,
      "end_line": 29,
      "tokens": 154,
      "context_length": 16680
    },
    {
      "position": 39,
      "id": "/tmp/repos/sphinx/sphinx/config.py_setup_",
      "distance": 1.1257166862487793,
      "file_path": "sphinx/config.py",
      "start_line": 486,
      "end_line": 500,
      "tokens": 154,
      "context_length": 16834,
      "file_pos": 22
    },
    {
      "position": 40,
      "id": "/tmp/repos/sphinx/sphinx/ext/intersphinx.py_setup_setup.8.1",
      "distance": 1.1262999773025513,
      "file_path": "sphinx/ext/intersphinx.py",
      "start_line": 493,
      "end_line": 505,
      "tokens": 145,
      "context_length": 16979
    },
    {
      "position": 41,
      "id": "/tmp/repos/sphinx/sphinx/builders/texinfo.py_default_texinfo_documents_",
      "distance": 1.1266000270843506,
      "file_path": "sphinx/builders/texinfo.py",
      "start_line": 198,
      "end_line": 221,
      "tokens": 242,
      "context_length": 17221
    },
    {
      "position": 42,
      "id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_html_return_codes_re.1",
      "distance": 1.126659631729126,
      "file_path": "sphinx/builders/html/__init__.py",
      "start_line": 11,
      "end_line": 63,
      "tokens": 443,
      "context_length": 17664,
      "file_pos": 24
    },
    {
      "position": 43,
      "id": "/tmp/repos/sphinx/sphinx/ext/viewcode.py_setup_",
      "distance": 1.1304945945739746,
      "file_path": "sphinx/ext/viewcode.py",
      "start_line": 344,
      "end_line": 363,
      "tokens": 216,
      "context_length": 17880
    },
    {
      "position": 44,
      "id": "/tmp/repos/sphinx/sphinx/writers/html5.py_HTML5Translator.visit_note_HTML5Translator.149",
      "distance": 1.1325364112854004,
      "file_path": "sphinx/writers/html5.py",
      "start_line": 661,
      "end_line": 747,
      "tokens": 686,
      "context_length": 18566
    },
    {
      "position": 45,
      "id": "/tmp/repos/sphinx/sphinx/domains/python.py_setup_",
      "distance": 1.1327402591705322,
      "file_path": "sphinx/domains/python.py",
      "start_line": 1468,
      "end_line": 1482,
      "tokens": 110,
      "context_length": 18676
    },
    {
      "position": 46,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_setup_",
      "distance": 1.1329293251037598,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 514,
      "end_line": 547,
      "tokens": 404,
      "context_length": 19080,
      "file_pos": 27
    },
    {
      "position": 47,
      "id": "/tmp/repos/sphinx/sphinx/builders/gettext.py_setup_",
      "distance": 1.1337151527404785,
      "file_path": "sphinx/builders/gettext.py",
      "start_line": 289,
      "end_line": 305,
      "tokens": 168,
      "context_length": 19248
    },
    {
      "position": 48,
      "id": "/tmp/repos/sphinx/sphinx/setup_command.py_BuildDoc.run_",
      "distance": 1.1339441537857056,
      "file_path": "sphinx/setup_command.py",
      "start_line": 144,
      "end_line": 195,
      "tokens": 440,
      "context_length": 19688
    },
    {
      "position": 49,
      "id": "/tmp/repos/sphinx/sphinx/application.py_os_41.3",
      "distance": 1.1344096660614014,
      "file_path": "sphinx/application.py",
      "start_line": 13,
      "end_line": 57,
      "tokens": 358,
      "context_length": 20046,
      "file_pos": 28
    },
    {
      "position": 50,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_ManualPageTranslator.visit_desc_parameterlist_ManualPageTranslator.depart_seealso.1",
      "distance": 1.1350005865097046,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 192,
      "end_line": 260,
      "tokens": 531,
      "context_length": 20577
    },
    {
      "position": 51,
      "id": "/tmp/repos/sphinx/sphinx/search/__init__.py_html_SearchLanguage.word_filter.2.1",
      "distance": 1.1352027654647827,
      "file_path": "sphinx/search/__init__.py",
      "start_line": 10,
      "end_line": 114,
      "tokens": 766,
      "context_length": 21343
    },
    {
      "position": 52,
      "id": "/tmp/repos/sphinx/sphinx/__init__.py_os_",
      "distance": 1.142514944076538,
      "file_path": "sphinx/__init__.py",
      "start_line": 14,
      "end_line": 60,
      "tokens": 476,
      "context_length": 21819
    },
    {
      "position": 53,
      "id": "/tmp/repos/sphinx/sphinx/setup_command.py_os_BuildDoc.boolean_options.1",
      "distance": 1.1439433097839355,
      "file_path": "sphinx/setup_command.py",
      "start_line": 14,
      "end_line": 91,
      "tokens": 431,
      "context_length": 22250
    },
    {
      "position": 54,
      "id": "/tmp/repos/sphinx/sphinx/application.py_builtin_extensions_logger.1",
      "distance": 1.1450810432434082,
      "file_path": "sphinx/application.py",
      "start_line": 60,
      "end_line": 122,
      "tokens": 494,
      "context_length": 22744,
      "file_pos": 31
    },
    {
      "position": 55,
      "id": "/tmp/repos/sphinx/sphinx/ext/apidoc.py_get_parser.19_get_parser.30.1",
      "distance": 1.1453953981399536,
      "file_path": "sphinx/ext/apidoc.py",
      "start_line": 369,
      "end_line": 397,
      "tokens": 374,
      "context_length": 23118
    },
    {
      "position": 56,
      "id": "/tmp/repos/sphinx/sphinx/transforms/__init__.py_re_default_substitutions.1",
      "distance": 1.147303819656372,
      "file_path": "sphinx/transforms/__init__.py",
      "start_line": 11,
      "end_line": 44,
      "tokens": 231,
      "context_length": 23349
    },
    {
      "position": 57,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_XINDY_LANG_OPTIONS_XINDY_LANG_OPTIONS.1",
      "distance": 1.1477326154708862,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 42,
      "end_line": 97,
      "tokens": 825,
      "context_length": 24174,
      "file_pos": 33
    },
    {
      "position": 58,
      "id": "/tmp/repos/sphinx/sphinx/cmd/make_mode.py_os_BUILDERS.1",
      "distance": 1.1495635509490967,
      "file_path": "sphinx/cmd/make_mode.py",
      "start_line": 17,
      "end_line": 54,
      "tokens": 532,
      "context_length": 24706
    },
    {
      "position": 59,
      "id": "/tmp/repos/sphinx/sphinx/writers/html.py_HTMLTranslator.visit_note_HTMLTranslator.depart_table.2",
      "distance": 1.149912714958191,
      "file_path": "sphinx/writers/html.py",
      "start_line": 721,
      "end_line": 819,
      "tokens": 769,
      "context_length": 25475
    },
    {
      "position": 60,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_os_31",
      "distance": 1.1500041484832764,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 11,
      "end_line": 40,
      "tokens": 315,
      "context_length": 25790,
      "file_pos": 35
    },
    {
      "position": 61,
      "id": "/tmp/repos/sphinx/sphinx/util/i18n.py_get_image_filename_for_language_",
      "distance": 1.150601863861084,
      "file_path": "sphinx/util/i18n.py",
      "start_line": 231,
      "end_line": 264,
      "tokens": 260,
      "context_length": 26050,
      "file_pos": 36
    },
    {
      "position": 62,
      "id": "/tmp/repos/sphinx/sphinx/writers/latex.py_LaTeXTranslator_LaTeXTranslator.__init__.self.handled_abbrs.1",
      "distance": 1.1508501768112183,
      "file_path": "sphinx/writers/latex.py",
      "start_line": 266,
      "end_line": 401,
      "tokens": 1503,
      "context_length": 27553,
      "file_pos": 37
    },
    {
      "position": 63,
      "id": "/tmp/repos/sphinx/sphinx/builders/linkcheck.py_setup_",
      "distance": 1.15243661403656,
      "file_path": "sphinx/builders/linkcheck.py",
      "start_line": 553,
      "end_line": 584,
      "tokens": 325,
      "context_length": 27878
    },
    {
      "position": 64,
      "id": "/tmp/repos/sphinx/sphinx/writers/texinfo.py_TexinfoTranslator.init_settings_TexinfoTranslator.init_settings.13",
      "distance": 1.152612328529358,
      "file_path": "sphinx/writers/texinfo.py",
      "start_line": 218,
      "end_line": 258,
      "tokens": 433,
      "context_length": 28311
    },
    {
      "position": 65,
      "id": "/tmp/repos/sphinx/sphinx/builders/_epub_base.py_html_ssp.1",
      "distance": 1.1528332233428955,
      "file_path": "sphinx/builders/_epub_base.py",
      "start_line": 11,
      "end_line": 118,
      "tokens": 687,
      "context_length": 28998
    }
  ],
  "files": [
    {
      "file_path": "sphinx/cmd/quickstart.py",
      "position": 1,
      "tokens": 5570,
      "context_length": 5570
    },
    {
      "file_path": "sphinx/locale/__init__.py",
      "position": 2,
      "tokens": 2070,
      "context_length": 7640
    },
    {
      "file_path": "setup.py",
      "position": 3,
      "tokens": 1774,
      "context_length": 9414
    },
    {
      "file_path": "sphinx/builders/html/__init__.py",
      "position": 4,
      "tokens": 12362,
      "context_length": 21776
    },
    {
      "file_path": "sphinx/builders/latex/__init__.py",
      "position": 5,
      "tokens": 5578,
      "context_length": 27354
    },
    {
      "file_path": "sphinx/util/docutils.py",
      "position": 6,
      "tokens": 4331,
      "context_length": 31685
    },
    {
      "file_path": "doc/conf.py",
      "position": 7,
      "tokens": 1721,
      "context_length": 33406
    },
    {
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "position": 8,
      "tokens": 24371,
      "context_length": 57777
    },
    {
      "file_path": "sphinx/builders/manpage.py",
      "position": 9,
      "tokens": 962,
      "context_length": 58739
    },
    {
      "file_path": "sphinx/environment/__init__.py",
      "position": 10,
      "tokens": 5517,
      "context_length": 64256
    },
    {
      "file_path": "sphinx/directives/code.py",
      "position": 11,
      "tokens": 3851,
      "context_length": 68107
    },
    {
      "file_path": "sphinx/config.py",
      "position": 12,
      "tokens": 4475,
      "context_length": 72582
    },
    {
      "file_path": "sphinx/application.py",
      "position": 13,
      "tokens": 11866,
      "context_length": 84448
    },
    {
      "file_path": "sphinx/transforms/post_transforms/code.py",
      "position": 14,
      "tokens": 998,
      "context_length": 85446
    },
    {
      "file_path": "sphinx/builders/latex/util.py",
      "position": 15,
      "tokens": 433,
      "context_length": 85879
    },
    {
      "file_path": "sphinx/highlighting.py",
      "position": 16,
      "tokens": 1539,
      "context_length": 87418
    },
    {
      "file_path": "sphinx/util/smartypants.py",
      "position": 17,
      "tokens": 4143,
      "context_length": 91561
    },
    {
      "file_path": "sphinx/builders/latex/constants.py",
      "position": 18,
      "tokens": 2245,
      "context_length": 93806
    },
    {
      "file_path": "sphinx/domains/changeset.py",
      "position": 19,
      "tokens": 1254,
      "context_length": 95060
    },
    {
      "file_path": "sphinx/util/rst.py",
      "position": 20,
      "tokens": 868,
      "context_length": 95928
    },
    {
      "file_path": "sphinx/setup_command.py",
      "position": 21,
      "tokens": 1587,
      "context_length": 97515
    },
    {
      "file_path": "sphinx/builders/changes.py",
      "position": 22,
      "tokens": 1513,
      "context_length": 99028
    },
    {
      "file_path": "sphinx/ext/intersphinx.py",
      "position": 23,
      "tokens": 4665,
      "context_length": 103693
    },
    {
      "file_path": "sphinx/builders/texinfo.py",
      "position": 24,
      "tokens": 2026,
      "context_length": 105719
    },
    {
      "file_path": "sphinx/ext/viewcode.py",
      "position": 25,
      "tokens": 3094,
      "context_length": 108813
    },
    {
      "file_path": "sphinx/writers/html5.py",
      "position": 26,
      "tokens": 7274,
      "context_length": 116087
    },
    {
      "file_path": "sphinx/domains/python.py",
      "position": 27,
      "tokens": 12642,
      "context_length": 128729
    },
    {
      "file_path": "sphinx/builders/gettext.py",
      "position": 28,
      "tokens": 2523,
      "context_length": 131252
    },
    {
      "file_path": "sphinx/writers/manpage.py",
      "position": 29,
      "tokens": 3488,
      "context_length": 134740
    },
    {
      "file_path": "sphinx/search/__init__.py",
      "position": 30,
      "tokens": 4066,
      "context_length": 138806
    },
    {
      "file_path": "sphinx/__init__.py",
      "position": 31,
      "tokens": 550,
      "context_length": 139356
    },
    {
      "file_path": "sphinx/ext/apidoc.py",
      "position": 32,
      "tokens": 4234,
      "context_length": 143590
    },
    {
      "file_path": "sphinx/transforms/__init__.py",
      "position": 33,
      "tokens": 3162,
      "context_length": 146752
    },
    {
      "file_path": "sphinx/cmd/make_mode.py",
      "position": 34,
      "tokens": 1702,
      "context_length": 148454
    },
    {
      "file_path": "sphinx/writers/html.py",
      "position": 35,
      "tokens": 7687,
      "context_length": 156141
    },
    {
      "file_path": "sphinx/util/i18n.py",
      "position": 36,
      "tokens": 2339,
      "context_length": 158480
    },
    {
      "file_path": "sphinx/writers/latex.py",
      "position": 37,
      "tokens": 18996,
      "context_length": 177476
    },
    {
      "file_path": "sphinx/builders/linkcheck.py",
      "position": 38,
      "tokens": 4807,
      "context_length": 182283
    },
    {
      "file_path": "sphinx/writers/texinfo.py",
      "position": 39,
      "tokens": 12330,
      "context_length": 194613
    },
    {
      "file_path": "sphinx/builders/_epub_base.py",
      "position": 40,
      "tokens": 6301,
      "context_length": 200914
    }
  ]
}