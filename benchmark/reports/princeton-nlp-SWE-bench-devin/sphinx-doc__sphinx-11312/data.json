{
  "instance_id": "sphinx-doc__sphinx-11312",
  "model_patch": "diff --git a/sphinx/util/inspect.py b/sphinx/util/inspect.py\nindex 986419da9..839362a41 100644\n--- a/sphinx/util/inspect.py\n+++ b/sphinx/util/inspect.py\n@@ -363,20 +363,23 @@ def object_description(object: Any) -> str:\n                      for key in sorted_keys)\n             return \"{%s}\" % \", \".join(items)\n     elif isinstance(object, set):\n+        # To ensure deterministic ordering of set elements across different builds,\n+        # the elements are sorted based on their string representation before joining.\n         try:\n-            sorted_values = sorted(object)\n+            sorted_values = sorted(object, key=lambda x: str(x))\n         except TypeError:\n             pass  # Cannot sort set values, fall back to generic repr\n         else:\n             return \"{%s}\" % \", \".join(object_description(x) for x in sorted_values)\n     elif isinstance(object, frozenset):\n+        # To ensure deterministic ordering of set elements across different builds,\n+        # the elements are sorted based on their string representation before joining.\n         try:\n-            sorted_values = sorted(object)\n+            sorted_values = sorted(object, key=lambda x: str(x))\n         except TypeError:\n             pass  # Cannot sort frozenset values, fall back to generic repr\n         else:\n-            return \"frozenset({%s})\" % \", \".join(object_description(x)\n-                                                 for x in sorted_values)\n+            return \"frozenset({%s})\" % \", \".join(object_description(x) for x in sorted_values)\n     elif isinstance(object, enum.Enum):\n         return f\"{object.__class__.__name__}.{object.name}\"\n \ndiff --git a/tox.ini b/tox.ini\nindex a3dc56211..c76147de3 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -24,7 +24,7 @@ setenv =\n     PYTHONWARNINGS = error\n     PYTEST_ADDOPTS = {env:PYTEST_ADDOPTS:} --color yes\n commands=\n-    python -X dev -X warn_default_encoding -m pytest --durations 25 {posargs}\n+    python -X dev -X warn_default_encoding -m pytest -rA --durations 25 {posargs}\n \n [testenv:docs]\n basepython = python3\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "sphinx/util/inspect.py",
    "tox.ini"
  ],
  "repo": "sphinx-doc/sphinx",
  "base_commit": "5cf3dce36ec35c429724bf1312ece9faa0c8db39",
  "patch": "diff --git a/sphinx/util/inspect.py b/sphinx/util/inspect.py\n--- a/sphinx/util/inspect.py\n+++ b/sphinx/util/inspect.py\n@@ -350,38 +350,64 @@ def safe_getattr(obj: Any, name: str, *defargs: Any) -> Any:\n         raise AttributeError(name) from exc\n \n \n-def object_description(object: Any) -> str:\n-    \"\"\"A repr() implementation that returns text safe to use in reST context.\"\"\"\n-    if isinstance(object, dict):\n+def object_description(obj: Any, *, _seen: frozenset = frozenset()) -> str:\n+    \"\"\"A repr() implementation that returns text safe to use in reST context.\n+\n+    Maintains a set of 'seen' object IDs to detect and avoid infinite recursion.\n+    \"\"\"\n+    seen = _seen\n+    if isinstance(obj, dict):\n+        if id(obj) in seen:\n+            return 'dict(...)'\n+        seen |= {id(obj)}\n         try:\n-            sorted_keys = sorted(object)\n-        except Exception:\n-            pass  # Cannot sort dict keys, fall back to generic repr\n-        else:\n-            items = (\"%s: %s\" %\n-                     (object_description(key), object_description(object[key]))\n-                     for key in sorted_keys)\n-            return \"{%s}\" % \", \".join(items)\n-    elif isinstance(object, set):\n+            sorted_keys = sorted(obj)\n+        except TypeError:\n+            # Cannot sort dict keys, fall back to using descriptions as a sort key\n+            sorted_keys = sorted(obj, key=lambda k: object_description(k, _seen=seen))\n+\n+        items = ((object_description(key, _seen=seen),\n+                  object_description(obj[key], _seen=seen)) for key in sorted_keys)\n+        return '{%s}' % ', '.join(f'{key}: {value}' for (key, value) in items)\n+    elif isinstance(obj, set):\n+        if id(obj) in seen:\n+            return 'set(...)'\n+        seen |= {id(obj)}\n         try:\n-            sorted_values = sorted(object)\n+            sorted_values = sorted(obj)\n         except TypeError:\n-            pass  # Cannot sort set values, fall back to generic repr\n-        else:\n-            return \"{%s}\" % \", \".join(object_description(x) for x in sorted_values)\n-    elif isinstance(object, frozenset):\n+            # Cannot sort set values, fall back to using descriptions as a sort key\n+            sorted_values = sorted(obj, key=lambda x: object_description(x, _seen=seen))\n+        return '{%s}' % ', '.join(object_description(x, _seen=seen) for x in sorted_values)\n+    elif isinstance(obj, frozenset):\n+        if id(obj) in seen:\n+            return 'frozenset(...)'\n+        seen |= {id(obj)}\n         try:\n-            sorted_values = sorted(object)\n+            sorted_values = sorted(obj)\n         except TypeError:\n-            pass  # Cannot sort frozenset values, fall back to generic repr\n-        else:\n-            return \"frozenset({%s})\" % \", \".join(object_description(x)\n-                                                 for x in sorted_values)\n-    elif isinstance(object, enum.Enum):\n-        return f\"{object.__class__.__name__}.{object.name}\"\n+            # Cannot sort frozenset values, fall back to using descriptions as a sort key\n+            sorted_values = sorted(obj, key=lambda x: object_description(x, _seen=seen))\n+        return 'frozenset({%s})' % ', '.join(object_description(x, _seen=seen)\n+                                             for x in sorted_values)\n+    elif isinstance(obj, enum.Enum):\n+        return f'{obj.__class__.__name__}.{obj.name}'\n+    elif isinstance(obj, tuple):\n+        if id(obj) in seen:\n+            return 'tuple(...)'\n+        seen |= frozenset([id(obj)])\n+        return '(%s%s)' % (\n+            ', '.join(object_description(x, _seen=seen) for x in obj),\n+            ',' * (len(obj) == 1),\n+        )\n+    elif isinstance(obj, list):\n+        if id(obj) in seen:\n+            return 'list(...)'\n+        seen |= {id(obj)}\n+        return '[%s]' % ', '.join(object_description(x, _seen=seen) for x in obj)\n \n     try:\n-        s = repr(object)\n+        s = repr(obj)\n     except Exception as exc:\n         raise ValueError from exc\n     # Strip non-deterministic memory addresses such as\n",
  "test_patch": "diff --git a/tests/test_util_inspect.py b/tests/test_util_inspect.py\n--- a/tests/test_util_inspect.py\n+++ b/tests/test_util_inspect.py\n@@ -503,10 +503,32 @@ def test_set_sorting():\n     assert description == \"{'a', 'b', 'c', 'd', 'e', 'f', 'g'}\"\n \n \n+def test_set_sorting_enum():\n+    class MyEnum(enum.Enum):\n+        a = 1\n+        b = 2\n+        c = 3\n+\n+    set_ = set(MyEnum)\n+    description = inspect.object_description(set_)\n+    assert description == \"{MyEnum.a, MyEnum.b, MyEnum.c}\"\n+\n+\n def test_set_sorting_fallback():\n     set_ = {None, 1}\n     description = inspect.object_description(set_)\n-    assert description in (\"{1, None}\", \"{None, 1}\")\n+    assert description == \"{1, None}\"\n+\n+\n+def test_deterministic_nested_collection_descriptions():\n+    # sortable\n+    assert inspect.object_description([{1, 2, 3, 10}]) == \"[{1, 2, 3, 10}]\"\n+    assert inspect.object_description(({1, 2, 3, 10},)) == \"({1, 2, 3, 10},)\"\n+    # non-sortable (elements of varying datatype)\n+    assert inspect.object_description([{None, 1}]) == \"[{1, None}]\"\n+    assert inspect.object_description(({None, 1},)) == \"({1, None},)\"\n+    assert inspect.object_description([{None, 1, 'A'}]) == \"[{'A', 1, None}]\"\n+    assert inspect.object_description(({None, 1, 'A'},)) == \"({'A', 1, None},)\"\n \n \n def test_frozenset_sorting():\n@@ -518,7 +540,39 @@ def test_frozenset_sorting():\n def test_frozenset_sorting_fallback():\n     frozenset_ = frozenset((None, 1))\n     description = inspect.object_description(frozenset_)\n-    assert description in (\"frozenset({1, None})\", \"frozenset({None, 1})\")\n+    assert description == \"frozenset({1, None})\"\n+\n+\n+def test_nested_tuple_sorting():\n+    tuple_ = ({\"c\", \"b\", \"a\"},)  # nb. trailing comma\n+    description = inspect.object_description(tuple_)\n+    assert description == \"({'a', 'b', 'c'},)\"\n+\n+    tuple_ = ({\"c\", \"b\", \"a\"}, {\"f\", \"e\", \"d\"})\n+    description = inspect.object_description(tuple_)\n+    assert description == \"({'a', 'b', 'c'}, {'d', 'e', 'f'})\"\n+\n+\n+def test_recursive_collection_description():\n+    dict_a_, dict_b_ = {\"a\": 1}, {\"b\": 2}\n+    dict_a_[\"link\"], dict_b_[\"link\"] = dict_b_, dict_a_\n+    description_a, description_b = (\n+        inspect.object_description(dict_a_),\n+        inspect.object_description(dict_b_),\n+    )\n+    assert description_a == \"{'a': 1, 'link': {'b': 2, 'link': dict(...)}}\"\n+    assert description_b == \"{'b': 2, 'link': {'a': 1, 'link': dict(...)}}\"\n+\n+    list_c_, list_d_ = [1, 2, 3, 4], [5, 6, 7, 8]\n+    list_c_.append(list_d_)\n+    list_d_.append(list_c_)\n+    description_c, description_d = (\n+        inspect.object_description(list_c_),\n+        inspect.object_description(list_d_),\n+    )\n+\n+    assert description_c == \"[1, 2, 3, 4, [5, 6, 7, 8, list(...)]]\"\n+    assert description_d == \"[5, 6, 7, 8, [1, 2, 3, 4, list(...)]]\"\n \n \n def test_dict_customtype():\n",
  "problem_statement": "util.inspect.object_description: does not emit reliable ordering for a set nested within another collection\n### Describe the bug\r\n\r\n### Summary\r\nDifferences appear in some `sphinx` v5.3.0 generated `set` object descriptions for `alembic` v1.8.1, as demonstrated by [recent results visible on the Reproducible Builds diffoscope dashboard](https://tests.reproducible-builds.org/debian/rb-pkg/unstable/amd64/diffoscope-results/alembic.html).\r\n\r\nArguably it could make sense for code authors to intentionally write `set` elements in their code files in a way that does not correspond to their computed sort order -- as a means to communicate with human readers about abstract ideas that aren't relevant to computers at runtime, for example.\r\n\r\nHowever, the current behaviour does result in non-reproducible documentation output.\r\n\r\n### Details\r\nIn particular, the ordering of a class attribute with a value that contains a set-within-a-tuple seems unreliable across differing builds:\r\n\r\nhttps://github.com/sqlalchemy/alembic/blob/a968c9d2832173ee7d5dde50c7573f7b99424c38/alembic/ddl/impl.py#L90\r\n\r\n... is emitted variously as ...\r\n\r\n```\r\n<span\u00b7class=\"pre\">({'NUMERIC',</span>\u00b7<span\u00b7class=\"pre\">'DECIMAL'},)</span>\r\n```\r\n\r\n... or ...\r\n\r\n```\r\n<span\u00b7class=\"pre\">({'DECIMAL',</span>\u00b7<span\u00b7class=\"pre\">'NUMERIC'},)</span>\r\n```\r\n\r\ncc @lamby who has been [investigating a fix on the reproducible-builds mailing list](https://lists.reproducible-builds.org/pipermail/rb-general/2023-February/002862.html).\r\n\r\n### How to Reproduce\r\n\r\nIt is not yet clear to me exactly what circumstances cause the ordering of elements to vary - and it's OK not to proceed until that's figured out (maybe not a blocker, but it would be nice to have confidence about the cause).\r\n\r\nFrom searching around on previous issues while writing up this bugreport: I wonder if this could be an edge-case for / follow-up to #4834.\r\n\r\n### Environment Information\r\n\r\nAlthough these build log links are somewhat ephemeral, the system environment details for two builds that produce differing output are visible at:\r\n\r\n- https://tests.reproducible-builds.org/debian/rbuild/unstable/amd64/alembic_1.8.1-2.rbuild.log.gz\r\n- https://tests.reproducible-builds.org/debian/logs/unstable/amd64/alembic_1.8.1-2.build2.log.gz\r\n\r\n\r\n### Sphinx extensions\r\n\r\n```python\r\nhttps://github.com/sqlalchemy/alembic/blob/rel_1_8_1/docs/build/conf.py#L36-L42\r\n\r\n\r\nsphinx.ext.autodoc\r\nsphinx.ext.intersphinx\r\nchangelog\r\nsphinx_paramlinks\r\nsphinx_copybutton\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_\n",
  "hints_text": "",
  "created_at": "2023-04-10T15:35:57Z",
  "version": "7.2",
  "FAIL_TO_PASS": "[\"tests/test_util_inspect.py::test_deterministic_nested_collection_descriptions\", \"tests/test_util_inspect.py::test_nested_tuple_sorting\", \"tests/test_util_inspect.py::test_recursive_collection_description\", \"tests/test_util_inspect.py::test_set_sorting_enum\"]",
  "PASS_TO_PASS": "[\"tests/test_util_inspect.py::test_TypeAliasForwardRef\", \"tests/test_util_inspect.py::test_TypeAliasNamespace\", \"tests/test_util_inspect.py::test_dict_customtype\", \"tests/test_util_inspect.py::test_dictionary_sorting\", \"tests/test_util_inspect.py::test_frozenset_sorting\", \"tests/test_util_inspect.py::test_frozenset_sorting_fallback\", \"tests/test_util_inspect.py::test_getdoc_inherited_classmethod\", \"tests/test_util_inspect.py::test_getdoc_inherited_decorated_method\", \"tests/test_util_inspect.py::test_getslots\", \"tests/test_util_inspect.py::test_is_builtin_class_method\", \"tests/test_util_inspect.py::test_isattributedescriptor\", \"tests/test_util_inspect.py::test_isbuiltin\", \"tests/test_util_inspect.py::test_isclassmethod\", \"tests/test_util_inspect.py::test_iscoroutinefunction\", \"tests/test_util_inspect.py::test_isdescriptor\", \"tests/test_util_inspect.py::test_isfunction\", \"tests/test_util_inspect.py::test_isgenericalias\", \"tests/test_util_inspect.py::test_isproperty\", \"tests/test_util_inspect.py::test_isstaticmethod\", \"tests/test_util_inspect.py::test_object_description_enum\", \"tests/test_util_inspect.py::test_safe_getattr_with___dict___override\", \"tests/test_util_inspect.py::test_safe_getattr_with_default\", \"tests/test_util_inspect.py::test_safe_getattr_with_exception\", \"tests/test_util_inspect.py::test_safe_getattr_with_property_exception\", \"tests/test_util_inspect.py::test_set_sorting\", \"tests/test_util_inspect.py::test_set_sorting_fallback\", \"tests/test_util_inspect.py::test_signature\", \"tests/test_util_inspect.py::test_signature_annotations\", \"tests/test_util_inspect.py::test_signature_from_ast\", \"tests/test_util_inspect.py::test_signature_from_str_annotations\", \"tests/test_util_inspect.py::test_signature_from_str_basic\", \"tests/test_util_inspect.py::test_signature_from_str_complex_annotations\", \"tests/test_util_inspect.py::test_signature_from_str_default_values\", \"tests/test_util_inspect.py::test_signature_from_str_invalid\", \"tests/test_util_inspect.py::test_signature_from_str_kwonly_args\", \"tests/test_util_inspect.py::test_signature_from_str_positionaly_only_args\", \"tests/test_util_inspect.py::test_signature_methods\", \"tests/test_util_inspect.py::test_signature_partial\", \"tests/test_util_inspect.py::test_signature_partialmethod\", \"tests/test_util_inspect.py::test_unpartial\"]",
  "environment_setup_commit": "7758e016231c3886e5a290c00fcb2c75d1f36c18",
  "patch_files": [
    "sphinx/util/inspect.py"
  ],
  "test_patch_files": [
    "tests/test_util_inspect.py"
  ],
  "patch_diff_details": {
    "sphinx/util/inspect.py": {
      "diffs": [
        {
          "start_line_old": 353,
          "end_line_old": 384
        }
      ]
    }
  },
  "vectors": 1507,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/sphinx/doc/conf.py_nitpick_ignore_57",
      "distance": 0.9783585071563721,
      "file_path": "doc/conf.py",
      "start_line": 126,
      "end_line": 186,
      "tokens": 755,
      "context_length": 755
    },
    {
      "position": 2,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment.get_outdated_files_BuildEnvironment.get_outdated_files.7.1",
      "distance": 1.008083701133728,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 457,
      "end_line": 514,
      "tokens": 534,
      "context_length": 1289
    },
    {
      "position": 3,
      "id": "/tmp/repos/sphinx/sphinx/cmd/build.py__bug_report_info_",
      "distance": 1.0708540678024292,
      "file_path": "sphinx/cmd/build.py",
      "start_line": 297,
      "end_line": 331,
      "tokens": 266,
      "context_length": 1555
    },
    {
      "position": 4,
      "id": "/tmp/repos/sphinx/sphinx/builders/changes.py_ChangesBuilder.write.16_",
      "distance": 1.073859453201294,
      "file_path": "sphinx/builders/changes.py",
      "start_line": 117,
      "end_line": 160,
      "tokens": 430,
      "context_length": 1985
    },
    {
      "position": 5,
      "id": "/tmp/repos/sphinx/sphinx/errors.py_BuildEnvironmentError_",
      "distance": 1.089712142944336,
      "file_path": "sphinx/errors.py",
      "start_line": 71,
      "end_line": 128,
      "tokens": 297,
      "context_length": 2282
    },
    {
      "position": 6,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_Documenter.sort_members_Documenter.sort_members.3.1",
      "distance": 1.090641975402832,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 823,
      "end_line": 843,
      "tokens": 227,
      "context_length": 2509
    },
    {
      "position": 7,
      "id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_setup_",
      "distance": 1.0969887971878052,
      "file_path": "sphinx/builders/html/__init__.py",
      "start_line": 1348,
      "end_line": 1426,
      "tokens": 997,
      "context_length": 3506
    },
    {
      "position": 8,
      "id": "/tmp/repos/sphinx/sphinx/builders/changes.py_ChangesBuilder.write_ChangesBuilder.write.15",
      "distance": 1.1003341674804688,
      "file_path": "sphinx/builders/changes.py",
      "start_line": 45,
      "end_line": 116,
      "tokens": 777,
      "context_length": 4283
    },
    {
      "position": 9,
      "id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_BuildInfo.__init___BuildInfo.dump.1",
      "distance": 1.1003668308258057,
      "file_path": "sphinx/builders/html/__init__.py",
      "start_line": 166,
      "end_line": 192,
      "tokens": 227,
      "context_length": 4510
    },
    {
      "position": 10,
      "id": "/tmp/repos/sphinx/doc/conf.py_1_todo_include_todos.1",
      "distance": 1.1050968170166016,
      "file_path": "doc/conf.py",
      "start_line": 1,
      "end_line": 89,
      "tokens": 746,
      "context_length": 5256
    },
    {
      "position": 11,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment.check_dependents_BuildEnvironment.29",
      "distance": 1.1085436344146729,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 516,
      "end_line": 587,
      "tokens": 590,
      "context_length": 5846
    },
    {
      "position": 12,
      "id": "/tmp/repos/sphinx/sphinx/domains/c.py_CNamespaceObject_",
      "distance": 1.1088494062423706,
      "file_path": "sphinx/domains/c.py",
      "start_line": 3394,
      "end_line": 3900,
      "tokens": 4351,
      "context_length": 10197
    },
    {
      "position": 13,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment.collect_relations_BuildEnvironment.collect_relations.9.1",
      "distance": 1.1098322868347168,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 680,
      "end_line": 714,
      "tokens": 283,
      "context_length": 10480
    },
    {
      "position": 14,
      "id": "/tmp/repos/sphinx/sphinx/transforms/__init__.py_SortIds_ApplySourceWorkaround.apply.1.2.1",
      "distance": 1.1120057106018066,
      "file_path": "sphinx/transforms/__init__.py",
      "start_line": 195,
      "end_line": 225,
      "tokens": 229,
      "context_length": 10709
    },
    {
      "position": 15,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment_BuildEnvironment.__init__.95",
      "distance": 1.1166670322418213,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 136,
      "end_line": 260,
      "tokens": 1229,
      "context_length": 11938
    },
    {
      "position": 16,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_1_inherited_members_option.2.3.1.1",
      "distance": 1.1188831329345703,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1,
      "end_line": 115,
      "tokens": 808,
      "context_length": 12746
    },
    {
      "position": 17,
      "id": "/tmp/repos/sphinx/sphinx/domains/cpp.py_CPPDomain._resolve_xref_inner_",
      "distance": 1.1192984580993652,
      "file_path": "sphinx/domains/cpp.py",
      "start_line": 7974,
      "end_line": 8194,
      "tokens": 2071,
      "context_length": 14817
    },
    {
      "position": 18,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_ModuleDocumenter.sort_members_ModuleDocumenter.sort_members.1.3.1.1",
      "distance": 1.1284573078155518,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1078,
      "end_line": 1095,
      "tokens": 182,
      "context_length": 14999
    },
    {
      "position": 19,
      "id": "/tmp/repos/sphinx/sphinx/versioning.py_1_VERSIONING_RATIO.1",
      "distance": 1.131014347076416,
      "file_path": "sphinx/versioning.py",
      "start_line": 1,
      "end_line": 27,
      "tokens": 140,
      "context_length": 15139
    },
    {
      "position": 20,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_40_40.17._DomainsType.1",
      "distance": 1.133697509765625,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 80,
      "end_line": 133,
      "tokens": 682,
      "context_length": 15821
    },
    {
      "position": 21,
      "id": "/tmp/repos/sphinx/sphinx/builders/changes.py_1_logger.1",
      "distance": 1.135819673538208,
      "file_path": "sphinx/builders/changes.py",
      "start_line": 1,
      "end_line": 20,
      "tokens": 130,
      "context_length": 15951
    },
    {
      "position": 22,
      "id": "/tmp/repos/sphinx/sphinx/transforms/references.py_1_",
      "distance": 1.1378060579299927,
      "file_path": "sphinx/transforms/references.py",
      "start_line": 1,
      "end_line": 48,
      "tokens": 277,
      "context_length": 16228
    },
    {
      "position": 23,
      "id": "/tmp/repos/sphinx/sphinx/domains/cpp.py_1_ASTIdentifier.describe_signature.3.10.1",
      "distance": 1.1389998197555542,
      "file_path": "sphinx/domains/cpp.py",
      "start_line": 1,
      "end_line": 685,
      "tokens": 6015,
      "context_length": 22243
    },
    {
      "position": 24,
      "id": "/tmp/repos/sphinx/sphinx/application.py_1_builtin_extensions.1",
      "distance": 1.1410372257232666,
      "file_path": "sphinx/application.py",
      "start_line": 1,
      "end_line": 102,
      "tokens": 762,
      "context_length": 23005
    },
    {
      "position": 25,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment.set_versioning_method_BuildEnvironment.set_versioning_method.self.versioning_compare.1",
      "distance": 1.1424700021743774,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 338,
      "end_line": 359,
      "tokens": 205,
      "context_length": 23210
    },
    {
      "position": 26,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/constants.py_DEFAULT_SETTINGS_DEFAULT_SETTINGS.1",
      "distance": 1.1426639556884766,
      "file_path": "sphinx/builders/latex/constants.py",
      "start_line": 68,
      "end_line": 118,
      "tokens": 537,
      "context_length": 23747
    },
    {
      "position": 27,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_1_versioning_conditions.1",
      "distance": 1.1458271741867065,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 1,
      "end_line": 78,
      "tokens": 524,
      "context_length": 24271
    },
    {
      "position": 28,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_AttributeDocumenter.import_object_AttributeDocumenter.should_suppress_value_header.2.1",
      "distance": 1.1481024026870728,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2561,
      "end_line": 2584,
      "tokens": 221,
      "context_length": 24492
    },
    {
      "position": 29,
      "id": "/tmp/repos/sphinx/sphinx/util/cfamily.py_1_integers_literal_suffix_re.1",
      "distance": 1.1519310474395752,
      "file_path": "sphinx/util/cfamily.py",
      "start_line": 1,
      "end_line": 44,
      "tokens": 433,
      "context_length": 24925
    },
    {
      "position": 30,
      "id": "/tmp/repos/sphinx/doc/conf.py_extlinks_gettext_compact.1",
      "distance": 1.1525721549987793,
      "file_path": "doc/conf.py",
      "start_line": 90,
      "end_line": 124,
      "tokens": 359,
      "context_length": 25284
    },
    {
      "position": 31,
      "id": "/tmp/repos/sphinx/sphinx/config.py_check_confval_types_check_confval_types.2.4.4.6.5.2",
      "distance": 1.152811050415039,
      "file_path": "sphinx/config.py",
      "start_line": 435,
      "end_line": 486,
      "tokens": 478,
      "context_length": 25762
    },
    {
      "position": 32,
      "id": "/tmp/repos/sphinx/sphinx/builders/__init__.py_Builder._read_serial_Builder._read_parallel.13",
      "distance": 1.156806468963623,
      "file_path": "sphinx/builders/__init__.py",
      "start_line": 434,
      "end_line": 474,
      "tokens": 359,
      "context_length": 26121
    },
    {
      "position": 33,
      "id": "/tmp/repos/sphinx/sphinx/domains/c.py_1_ASTDeclSpecsSimple.mergeWith.2.1",
      "distance": 1.1589372158050537,
      "file_path": "sphinx/domains/c.py",
      "start_line": 1,
      "end_line": 787,
      "tokens": 6476,
      "context_length": 32597
    },
    {
      "position": 34,
      "id": "/tmp/repos/sphinx/sphinx/environment/collectors/metadata.py_1_",
      "distance": 1.159063458442688,
      "file_path": "sphinx/environment/collectors/metadata.py",
      "start_line": 1,
      "end_line": 69,
      "tokens": 528,
      "context_length": 33125
    },
    {
      "position": 35,
      "id": "/tmp/repos/sphinx/sphinx/ext/doctest.py_DocTestBuilder.test_doc_DocTestBuilder.test_doc.23.3",
      "distance": 1.159522533416748,
      "file_path": "sphinx/ext/doctest.py",
      "start_line": 397,
      "end_line": 473,
      "tokens": 752,
      "context_length": 33877
    },
    {
      "position": 36,
      "id": "/tmp/repos/sphinx/sphinx/domains/cpp.py_CPPObject.add_target_and_index_CPPDomain.merge_domaindata.5.4",
      "distance": 1.1620734930038452,
      "file_path": "sphinx/domains/cpp.py",
      "start_line": 7263,
      "end_line": 7972,
      "tokens": 6045,
      "context_length": 39922
    },
    {
      "position": 37,
      "id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_StandaloneHTMLBuilder.prepare_writing_StandaloneHTMLBuilder.prepare_writing.self.indexer.31",
      "distance": 1.1625494956970215,
      "file_path": "sphinx/builders/html/__init__.py",
      "start_line": 464,
      "end_line": 576,
      "tokens": 1075,
      "context_length": 40997
    },
    {
      "position": 38,
      "id": "/tmp/repos/sphinx/sphinx/config.py_Config.config_values_Config.config_values.1",
      "distance": 1.1629180908203125,
      "file_path": "sphinx/config.py",
      "start_line": 90,
      "end_line": 157,
      "tokens": 892,
      "context_length": 41889
    },
    {
      "position": 39,
      "id": "/tmp/repos/sphinx/sphinx/events.py_1_core_events.1",
      "distance": 1.1656596660614014,
      "file_path": "sphinx/events.py",
      "start_line": 1,
      "end_line": 47,
      "tokens": 332,
      "context_length": 42221
    },
    {
      "position": 40,
      "id": "/tmp/repos/sphinx/sphinx/application.py_Sphinx.build_Sphinx.build.7",
      "distance": 1.1664119958877563,
      "file_path": "sphinx/application.py",
      "start_line": 343,
      "end_line": 390,
      "tokens": 383,
      "context_length": 42604
    },
    {
      "position": 41,
      "id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_1_DOMAIN_INDEX_TYPE.1",
      "distance": 1.166593313217163,
      "file_path": "sphinx/builders/html/__init__.py",
      "start_line": 1,
      "end_line": 71,
      "tokens": 518,
      "context_length": 43122
    },
    {
      "position": 42,
      "id": "/tmp/repos/sphinx/sphinx/builders/__init__.py_Builder._write_serial_Builder._write_serial.1.1.5",
      "distance": 1.1693354845046997,
      "file_path": "sphinx/builders/__init__.py",
      "start_line": 571,
      "end_line": 579,
      "tokens": 120,
      "context_length": 43242
    },
    {
      "position": 43,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment.check_consistency_BuildEnvironment.check_consistency.6",
      "distance": 1.175559639930725,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 716,
      "end_line": 735,
      "tokens": 172,
      "context_length": 43414
    },
    {
      "position": 44,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/typehints.py_augment_descriptions_with_types_",
      "distance": 1.176518440246582,
      "file_path": "sphinx/ext/autodoc/typehints.py",
      "start_line": 153,
      "end_line": 217,
      "tokens": 521,
      "context_length": 43935
    },
    {
      "position": 45,
      "id": "/tmp/repos/sphinx/sphinx/directives/other.py_1_int_or_nothing.2.1",
      "distance": 1.1770200729370117,
      "file_path": "sphinx/directives/other.py",
      "start_line": 1,
      "end_line": 33,
      "tokens": 245,
      "context_length": 44180
    },
    {
      "position": 46,
      "id": "/tmp/repos/sphinx/sphinx/registry.py_SphinxComponentRegistry_SphinxComponentRegistry.__init__.self.autodoc_attrgettrs.self.publishers.1",
      "distance": 1.1779261827468872,
      "file_path": "sphinx/registry.py",
      "start_line": 53,
      "end_line": 129,
      "tokens": 745,
      "context_length": 44925
    }
  ],
  "files": [
    {
      "file_path": "doc/conf.py",
      "position": 1,
      "tokens": 2367,
      "context_length": 2367
    },
    {
      "file_path": "sphinx/environment/__init__.py",
      "position": 2,
      "tokens": 6702,
      "context_length": 9069
    },
    {
      "file_path": "sphinx/cmd/build.py",
      "position": 3,
      "tokens": 2938,
      "context_length": 12007
    },
    {
      "file_path": "sphinx/builders/changes.py",
      "position": 4,
      "tokens": 1433,
      "context_length": 13440
    },
    {
      "file_path": "sphinx/errors.py",
      "position": 5,
      "tokens": 752,
      "context_length": 14192
    },
    {
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "position": 6,
      "tokens": 23482,
      "context_length": 37674
    },
    {
      "file_path": "sphinx/builders/html/__init__.py",
      "position": 7,
      "tokens": 12657,
      "context_length": 50331
    },
    {
      "file_path": "sphinx/domains/c.py",
      "position": 8,
      "tokens": 31852,
      "context_length": 82183
    },
    {
      "file_path": "sphinx/transforms/__init__.py",
      "position": 9,
      "tokens": 3208,
      "context_length": 85391
    },
    {
      "file_path": "sphinx/domains/cpp.py",
      "position": 10,
      "tokens": 69155,
      "context_length": 154546
    },
    {
      "file_path": "sphinx/versioning.py",
      "position": 11,
      "tokens": 1409,
      "context_length": 155955
    },
    {
      "file_path": "sphinx/transforms/references.py",
      "position": 12,
      "tokens": 277,
      "context_length": 156232
    },
    {
      "file_path": "sphinx/application.py",
      "position": 13,
      "tokens": 11927,
      "context_length": 168159
    },
    {
      "file_path": "sphinx/builders/latex/constants.py",
      "position": 14,
      "tokens": 2201,
      "context_length": 170360
    },
    {
      "file_path": "sphinx/util/cfamily.py",
      "position": 15,
      "tokens": 3698,
      "context_length": 174058
    },
    {
      "file_path": "sphinx/config.py",
      "position": 16,
      "tokens": 4775,
      "context_length": 178833
    },
    {
      "file_path": "sphinx/builders/__init__.py",
      "position": 17,
      "tokens": 5647,
      "context_length": 184480
    },
    {
      "file_path": "sphinx/environment/collectors/metadata.py",
      "position": 18,
      "tokens": 528,
      "context_length": 185008
    },
    {
      "file_path": "sphinx/ext/doctest.py",
      "position": 19,
      "tokens": 4996,
      "context_length": 190004
    },
    {
      "file_path": "sphinx/events.py",
      "position": 20,
      "tokens": 921,
      "context_length": 190925
    },
    {
      "file_path": "sphinx/ext/autodoc/typehints.py",
      "position": 21,
      "tokens": 1668,
      "context_length": 192593
    },
    {
      "file_path": "sphinx/directives/other.py",
      "position": 22,
      "tokens": 3142,
      "context_length": 195735
    },
    {
      "file_path": "sphinx/registry.py",
      "position": 23,
      "tokens": 4669,
      "context_length": 200404
    }
  ]
}