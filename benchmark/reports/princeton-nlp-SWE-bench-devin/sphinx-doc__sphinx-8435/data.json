{
  "instance_id": "sphinx-doc__sphinx-8435",
  "model_patch": "diff --git a/setup.py b/setup.py\nindex ca08a6d4a..6a02727b1 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -21,7 +21,7 @@ install_requires = [\n     'sphinxcontrib-htmlhelp',\n     'sphinxcontrib-serializinghtml',\n     'sphinxcontrib-qthelp',\n-    'Jinja2>=2.3',\n+    'Jinja2<3.1',\n     'Pygments>=2.0',\n     'docutils>=0.12',\n     'snowballstemmer>=1.1',\ndiff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py\nindex 171a3e7b0..a521c8f65 100644\n--- a/sphinx/ext/autodoc/__init__.py\n+++ b/sphinx/ext/autodoc/__init__.py\n@@ -40,7 +40,7 @@ if False:\n     # For type annotation\n     from typing import Type  # NOQA # for python3.5.1\n \n-    from sphinx.ext.autodoc.directive import DocumenterBridge\n+from sphinx.ext.autodoc.directive import DocumenterBridge\n \n \n logger = logging.getLogger(__name__)\n@@ -181,7 +181,7 @@ def merge_members_option(options: Dict) -> None:\n \n # Some useful event listener factories for autodoc-process-docstring.\n \n-def cut_lines(pre: int, post: int = 0, what: str = None) -> Callable:\n+def cut_lines(pre: int, post: int = 0, what: Optional[Sequence[str]] = None) -> Callable:\n     \"\"\"Return a listener that removes the first *pre* and last *post*\n     lines of every docstring.  If *what* is a sequence of strings,\n     only docstrings of a type in *what* will be processed.\n@@ -209,7 +209,7 @@ def cut_lines(pre: int, post: int = 0, what: str = None) -> Callable:\n     return process\n \n \n-def between(marker: str, what: Sequence[str] = None, keepempty: bool = False,\n+def between(marker: str, what: Optional[Sequence[str]] = None, keepempty: bool = False,\n             exclude: bool = False) -> Callable:\n     \"\"\"Return a listener that either keeps, or if *exclude* is True excludes,\n     lines between lines that match the *marker* regular expression.  If no line\n@@ -2094,26 +2094,25 @@ class AttributeDocumenter(DocstringStripSignatureMixin, ClassLevelDocumenter):\n             # obtain type annotation for this attribute\n             try:\n                 annotations = get_type_hints(self.parent)\n-            except NameError:\n-                # Failed to evaluate ForwardRef (maybe TYPE_CHECKING)\n+            except Exception:\n                 annotations = safe_getattr(self.parent, '__annotations__', {})\n-            except TypeError:\n-                annotations = {}\n-            except KeyError:\n-                # a broken class found (refs: https://github.com/sphinx-doc/sphinx/issues/8084)\n-                annotations = {}\n-            except AttributeError:\n-                # AttributeError is raised on 3.5.2 (fixed by 3.5.3)\n-                annotations = {}\n \n-            if self.objpath[-1] in annotations:\n-                objrepr = stringify_typehint(annotations.get(self.objpath[-1]))\n+            # Apply autodoc_type_aliases to the obtained annotations\n+            type_aliases = self.config.autodoc_type_aliases\n+            annotation = annotations.get(self.objpath[-1])\n+            if annotation in type_aliases:\n+                annotation = type_aliases[annotation]\n+            if annotation:\n+                objrepr = stringify_typehint(annotation)\n                 self.add_line('   :type: ' + objrepr, sourcename)\n             else:\n                 key = ('.'.join(self.objpath[:-1]), self.objpath[-1])\n                 if self.analyzer and key in self.analyzer.annotations:\n-                    self.add_line('   :type: ' + self.analyzer.annotations[key],\n-                                  sourcename)\n+                    # Apply autodoc_type_aliases to the analyzer annotations\n+                    annotation = self.analyzer.annotations[key]\n+                    if annotation in type_aliases:\n+                        annotation = type_aliases[annotation]\n+                    self.add_line('   :type: ' + annotation, sourcename)\n \n             # data descriptors do not have useful values\n             if not self._datadescriptor:\ndiff --git a/tox.ini b/tox.ini\nindex dbb705a3a..9f4fc3a32 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -28,7 +28,7 @@ setenv =\n     PYTHONWARNINGS = all,ignore::ImportWarning:importlib._bootstrap_external,ignore::DeprecationWarning:site,ignore::DeprecationWarning:distutils\n     PYTEST_ADDOPTS = {env:PYTEST_ADDOPTS:} --color yes\n commands=\n-    python -X dev -m pytest --durations 25 {posargs}\n+    python -X dev -m pytest -rA --durations 25 {posargs}\n \n [testenv:flake8]\n basepython = python3\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "setup.py",
    "sphinx/ext/autodoc/__init__.py",
    "tox.ini"
  ],
  "repo": "sphinx-doc/sphinx",
  "base_commit": "5d8d6275a54f2c5fb72b82383b5712c22d337634",
  "patch": "diff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py\n--- a/sphinx/ext/autodoc/__init__.py\n+++ b/sphinx/ext/autodoc/__init__.py\n@@ -1702,7 +1702,8 @@ def add_directive_header(self, sig: str) -> None:\n         if not self.options.annotation:\n             # obtain annotation for this data\n             try:\n-                annotations = get_type_hints(self.parent)\n+                annotations = get_type_hints(self.parent, None,\n+                                             self.config.autodoc_type_aliases)\n             except NameError:\n                 # Failed to evaluate ForwardRef (maybe TYPE_CHECKING)\n                 annotations = safe_getattr(self.parent, '__annotations__', {})\n@@ -2093,7 +2094,8 @@ def add_directive_header(self, sig: str) -> None:\n         if not self.options.annotation:\n             # obtain type annotation for this attribute\n             try:\n-                annotations = get_type_hints(self.parent)\n+                annotations = get_type_hints(self.parent, None,\n+                                             self.config.autodoc_type_aliases)\n             except NameError:\n                 # Failed to evaluate ForwardRef (maybe TYPE_CHECKING)\n                 annotations = safe_getattr(self.parent, '__annotations__', {})\n",
  "test_patch": "diff --git a/tests/roots/test-ext-autodoc/target/annotations.py b/tests/roots/test-ext-autodoc/target/annotations.py\n--- a/tests/roots/test-ext-autodoc/target/annotations.py\n+++ b/tests/roots/test-ext-autodoc/target/annotations.py\n@@ -4,6 +4,9 @@\n \n myint = int\n \n+#: docstring\n+variable: myint\n+\n \n def sum(x: myint, y: myint) -> myint:\n     \"\"\"docstring\"\"\"\n@@ -23,3 +26,10 @@ def mult(x: float, y: float) -> float:\n def mult(x, y):\n     \"\"\"docstring\"\"\"\n     return x, y\n+\n+\n+class Foo:\n+    \"\"\"docstring\"\"\"\n+\n+    #: docstring\n+    attr: myint\ndiff --git a/tests/test_ext_autodoc_configs.py b/tests/test_ext_autodoc_configs.py\n--- a/tests/test_ext_autodoc_configs.py\n+++ b/tests/test_ext_autodoc_configs.py\n@@ -700,6 +700,19 @@ def test_autodoc_type_aliases(app):\n         '.. py:module:: target.annotations',\n         '',\n         '',\n+        '.. py:class:: Foo()',\n+        '   :module: target.annotations',\n+        '',\n+        '   docstring',\n+        '',\n+        '',\n+        '   .. py:attribute:: Foo.attr',\n+        '      :module: target.annotations',\n+        '      :type: int',\n+        '',\n+        '      docstring',\n+        '',\n+        '',\n         '.. py:function:: mult(x: int, y: int) -> int',\n         '                 mult(x: float, y: float) -> float',\n         '   :module: target.annotations',\n@@ -712,6 +725,13 @@ def test_autodoc_type_aliases(app):\n         '',\n         '   docstring',\n         '',\n+        '',\n+        '.. py:data:: variable',\n+        '   :module: target.annotations',\n+        '   :type: int',\n+        '',\n+        '   docstring',\n+        '',\n     ]\n \n     # define aliases\n@@ -722,6 +742,19 @@ def test_autodoc_type_aliases(app):\n         '.. py:module:: target.annotations',\n         '',\n         '',\n+        '.. py:class:: Foo()',\n+        '   :module: target.annotations',\n+        '',\n+        '   docstring',\n+        '',\n+        '',\n+        '   .. py:attribute:: Foo.attr',\n+        '      :module: target.annotations',\n+        '      :type: myint',\n+        '',\n+        '      docstring',\n+        '',\n+        '',\n         '.. py:function:: mult(x: myint, y: myint) -> myint',\n         '                 mult(x: float, y: float) -> float',\n         '   :module: target.annotations',\n@@ -734,6 +767,13 @@ def test_autodoc_type_aliases(app):\n         '',\n         '   docstring',\n         '',\n+        '',\n+        '.. py:data:: variable',\n+        '   :module: target.annotations',\n+        '   :type: myint',\n+        '',\n+        '   docstring',\n+        '',\n     ]\n \n \n",
  "problem_statement": "autodoc_type_aliases does not effect to variables and attributes\n**Describe the bug**\r\nautodoc_type_aliases does not effect to variables and attributes\r\n\r\n**To Reproduce**\r\n\r\n```\r\n# example.py\r\nfrom __future__ import annotations\r\n\r\n\r\n#: blah blah blah\r\nvar: String\r\n\r\n\r\nclass MyString:\r\n    \"mystring\"\r\n\r\n    #: blah blah blah\r\n    var: String\r\n```\r\n```\r\n# index.rst\r\n.. automodule:: example\r\n   :members:\r\n   :undoc-members:\r\n```\r\n```\r\n# conf.py\r\nautodoc_type_aliases = {\r\n    'String': 'example.MyString'\r\n}\r\n```\r\n\r\n**Expected behavior**\r\n`autodoc_type_aliases` should be applied to `example.var` and `example.MyString.var`.\r\n\r\n**Your project**\r\nN/A\r\n\r\n**Screenshots**\r\nN/A\r\n\r\n**Environment info**\r\n- OS: Mac\r\n- Python version: 3.9.0\r\n- Sphinx version: HEAD of 3.x branch\r\n- Sphinx extensions: sphinx.ext.autodoc\r\n- Extra tools: Nothing\r\n\r\n**Additional context**\r\nN/A\n",
  "hints_text": "",
  "created_at": "2020-11-15T17:12:24Z",
  "version": "3.4",
  "FAIL_TO_PASS": "[\"tests/test_ext_autodoc_configs.py::test_autodoc_type_aliases\"]",
  "PASS_TO_PASS": "[\"tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_both\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_class\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_init\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_both\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_class\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_init\", \"tests/test_ext_autodoc_configs.py::test_autodoc_default_options\", \"tests/test_ext_autodoc_configs.py::test_autodoc_default_options_with_values\", \"tests/test_ext_autodoc_configs.py::test_autodoc_docstring_signature\", \"tests/test_ext_autodoc_configs.py::test_autodoc_inherit_docstrings\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_for_invalid_node\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_none\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_none_for_overload\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_signature\", \"tests/test_ext_autodoc_configs.py::test_mocked_module_imports\"]",
  "environment_setup_commit": "3f560cd67239f75840cc7a439ab54d8509c855f6",
  "patch_files": [
    "sphinx/ext/autodoc/__init__.py"
  ],
  "test_patch_files": [
    "tests/roots/test-ext-autodoc/target/annotations.py",
    "tests/test_ext_autodoc_configs.py"
  ],
  "patch_diff_details": {
    "sphinx/ext/autodoc/__init__.py": {
      "diffs": [
        {
          "start_line_old": 1705,
          "end_line_old": 1705,
          "file_pos": 1,
          "file_context_length": 19989,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_SlotsAttributeDocumenter.import_object_SlotsAttributeDocumenter.import_object.5.1.4.1.2.3.1",
          "closest_snippet_line_distance": 540
        },
        {
          "start_line_old": 2096,
          "end_line_old": 2096,
          "file_pos": 1,
          "file_context_length": 19989,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_setup_",
          "closest_snippet_line_distance": 208,
          "pos": 8,
          "context_length": 5776
        }
      ]
    }
  },
  "vectors": 1502,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_TypeVarDocumenter.add_content_TypeVarDocumenter.add_content.6",
      "distance": 0.8724743723869324,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1842,
      "end_line": 1852,
      "tokens": 128,
      "context_length": 128,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_TypeVarDocumenter_TypeVarDocumenter.get_doc.2.2.1.1",
      "distance": 0.9633108973503113,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1812,
      "end_line": 1840,
      "tokens": 237,
      "context_length": 365,
      "file_pos": 1
    },
    {
      "position": 3,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_importlib_exclude_members_option.3.1",
      "distance": 0.9861012101173401,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 13,
      "end_line": 114,
      "tokens": 775,
      "context_length": 1140,
      "file_pos": 1
    },
    {
      "position": 4,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_GenericAliasDocumenter_GenericAliasDocumenter.add_content.3",
      "distance": 1.0034050941467285,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1787,
      "end_line": 1809,
      "tokens": 191,
      "context_length": 1331,
      "file_pos": 1
    },
    {
      "position": 5,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/mock.py__make_subclass__MockModule.__repr__.1.1",
      "distance": 1.0116772651672363,
      "file_path": "sphinx/ext/autodoc/mock.py",
      "start_line": 71,
      "end_line": 93,
      "tokens": 200,
      "context_length": 1531
    },
    {
      "position": 6,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_ClassDocumenter.1_ClassDocumenter.2",
      "distance": 1.02072274684906,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1388,
      "end_line": 1665,
      "tokens": 2641,
      "context_length": 4172,
      "file_pos": 2
    },
    {
      "position": 7,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_setup_",
      "distance": 1.0310602188110352,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2304,
      "end_line": 2342,
      "tokens": 478,
      "context_length": 4650,
      "file_pos": 2
    },
    {
      "position": 8,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_AttributeDocumenter_AttributeDocumenter.2",
      "distance": 1.0343990325927734,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2016,
      "end_line": 2149,
      "tokens": 1126,
      "context_length": 5776,
      "file_pos": 2
    },
    {
      "position": 9,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_ModuleDocumenter.get_object_members_ModuleDocumenter.get_object_members.1.3.4.1",
      "distance": 1.0494492053985596,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1024,
      "end_line": 1052,
      "tokens": 232,
      "context_length": 6008,
      "file_pos": 2
    },
    {
      "position": 10,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_InstanceAttributeDocumenter_InstanceAttributeDocumenter.add_content.2",
      "distance": 1.0499804019927979,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2183,
      "end_line": 2224,
      "tokens": 321,
      "context_length": 6329,
      "file_pos": 2
    },
    {
      "position": 11,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_MethodDocumenter_MethodDocumenter.2",
      "distance": 1.0513375997543335,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1855,
      "end_line": 2000,
      "tokens": 1279,
      "context_length": 7608,
      "file_pos": 2
    },
    {
      "position": 12,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/typehints.py_modify_field_list_",
      "distance": 1.0515037775039673,
      "file_path": "sphinx/ext/autodoc/typehints.py",
      "start_line": 82,
      "end_line": 138,
      "tokens": 460,
      "context_length": 8068
    },
    {
      "position": 13,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/type_comment.py_update_annotations_using_type_comments_",
      "distance": 1.0522139072418213,
      "file_path": "sphinx/ext/autodoc/type_comment.py",
      "start_line": 115,
      "end_line": 140,
      "tokens": 257,
      "context_length": 8325
    },
    {
      "position": 14,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_Documenter_Documenter.add_line.2.3.1",
      "distance": 1.0639978647232056,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 285,
      "end_line": 359,
      "tokens": 784,
      "context_length": 9109,
      "file_pos": 4
    },
    {
      "position": 15,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_FunctionDocumenter_FunctionDocumenter.2",
      "distance": 1.0677428245544434,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1241,
      "end_line": 1341,
      "tokens": 836,
      "context_length": 9945,
      "file_pos": 4
    },
    {
      "position": 16,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_Documenter.filter_members.9_Documenter.filter_members.10.1",
      "distance": 1.0729827880859375,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 681,
      "end_line": 782,
      "tokens": 829,
      "context_length": 10774,
      "file_pos": 4
    },
    {
      "position": 17,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_DataDeclarationDocumenter_DataDeclarationDocumenter.add_content.2",
      "distance": 1.076456069946289,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1749,
      "end_line": 1784,
      "tokens": 279,
      "context_length": 11053,
      "file_pos": 4
    },
    {
      "position": 18,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_inherited_members_option_bool_option.2.1",
      "distance": 1.0764822959899902,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 117,
      "end_line": 150,
      "tokens": 207,
      "context_length": 11260,
      "file_pos": 4
    },
    {
      "position": 19,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_get_documenters_migrate_autodoc_member_order.1.2",
      "distance": 1.0884320735931396,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2281,
      "end_line": 2301,
      "tokens": 226,
      "context_length": 11486,
      "file_pos": 4
    },
    {
      "position": 20,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/importer.py_21_",
      "distance": 1.0928127765655518,
      "file_path": "sphinx/ext/autodoc/importer.py",
      "start_line": 244,
      "end_line": 263,
      "tokens": 180,
      "context_length": 11666
    },
    {
      "position": 21,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/mock.py_contextlib__MockObject.__repr__.1.1",
      "distance": 1.0998444557189941,
      "file_path": "sphinx/ext/autodoc/mock.py",
      "start_line": 11,
      "end_line": 68,
      "tokens": 451,
      "context_length": 12117
    },
    {
      "position": 22,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_Documenter.get_sourcename_Documenter.get_sourcename.2.2.1.1",
      "distance": 1.102442979812622,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 569,
      "end_line": 581,
      "tokens": 133,
      "context_length": 12250,
      "file_pos": 5
    },
    {
      "position": 23,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/importer.py_import_object_import_object.2.10.5",
      "distance": 1.1030285358428955,
      "file_path": "sphinx/ext/autodoc/importer.py",
      "start_line": 73,
      "end_line": 136,
      "tokens": 597,
      "context_length": 12847
    },
    {
      "position": 24,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_DocstringSignatureMixin.get_doc_DocstringSignatureMixin.format_signature.4.2.1.1",
      "distance": 1.1075012683868408,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1200,
      "end_line": 1220,
      "tokens": 241,
      "context_length": 13088,
      "file_pos": 5
    },
    {
      "position": 25,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_SlotsAttributeDocumenter_SlotsAttributeDocumenter.can_document_member.2.1",
      "distance": 1.109896183013916,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2227,
      "end_line": 2243,
      "tokens": 126,
      "context_length": 13214,
      "file_pos": 5
    },
    {
      "position": 26,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/directive.py_warnings_DummyOptionSpec.__getitem__.1.1",
      "distance": 1.1129800081253052,
      "file_path": "sphinx/ext/autodoc/directive.py",
      "start_line": 9,
      "end_line": 49,
      "tokens": 298,
      "context_length": 13512
    },
    {
      "position": 27,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_ModuleDocumenter.import_object_ModuleDocumenter.import_object",
      "distance": 1.1135623455047607,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 987,
      "end_line": 1009,
      "tokens": 223,
      "context_length": 13735,
      "file_pos": 6
    },
    {
      "position": 28,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/type_comment.py_2_not_suppressed.2.4.2.1",
      "distance": 1.119494915008545,
      "file_path": "sphinx/ext/autodoc/type_comment.py",
      "start_line": 11,
      "end_line": 35,
      "tokens": 239,
      "context_length": 13974
    },
    {
      "position": 29,
      "id": "/tmp/repos/sphinx/sphinx/domains/python.py_builtins_ModuleEntry.1",
      "distance": 1.120639681816101,
      "file_path": "sphinx/domains/python.py",
      "start_line": 11,
      "end_line": 78,
      "tokens": 526,
      "context_length": 14500
    },
    {
      "position": 30,
      "id": "/tmp/repos/sphinx/sphinx/util/typing.py_sys_is_system_TypeVar.3.1",
      "distance": 1.1215001344680786,
      "file_path": "sphinx/util/typing.py",
      "start_line": 11,
      "end_line": 63,
      "tokens": 400,
      "context_length": 14900
    },
    {
      "position": 31,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_52_ObjectMembers.1",
      "distance": 1.1232357025146484,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 248,
      "end_line": 282,
      "tokens": 279,
      "context_length": 15179,
      "file_pos": 8
    },
    {
      "position": 32,
      "id": "/tmp/repos/sphinx/sphinx/domains/python.py_PyVariable_PyVariable.get_index_text.2.2.1.1",
      "distance": 1.1232726573944092,
      "file_path": "sphinx/domains/python.py",
      "start_line": 639,
      "end_line": 667,
      "tokens": 230,
      "context_length": 15409
    },
    {
      "position": 33,
      "id": "/tmp/repos/sphinx/sphinx/ext/autosummary/generate.py_40_ModuleScanner.is_skipped.1.2.2.1",
      "distance": 1.129059076309204,
      "file_path": "sphinx/ext/autosummary/generate.py",
      "start_line": 175,
      "end_line": 194,
      "tokens": 176,
      "context_length": 15585
    },
    {
      "position": 34,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_ModuleDocumenter.sort_members_ModuleDocumenter.sort_members.1.3.1.1",
      "distance": 1.1309547424316406,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1054,
      "end_line": 1071,
      "tokens": 177,
      "context_length": 15762,
      "file_pos": 9
    },
    {
      "position": 35,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_ModuleDocumenter.add_directive_header_ModuleDocumenter.add_directive_header.6.1",
      "distance": 1.131119966506958,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1011,
      "end_line": 1022,
      "tokens": 126,
      "context_length": 15888,
      "file_pos": 9
    },
    {
      "position": 36,
      "id": "/tmp/repos/sphinx/sphinx/ext/autosummary/generate.py_argparse_logger.1",
      "distance": 1.1314101219177246,
      "file_path": "sphinx/ext/autosummary/generate.py",
      "start_line": 20,
      "end_line": 57,
      "tokens": 275,
      "context_length": 16163
    },
    {
      "position": 37,
      "id": "/tmp/repos/sphinx/sphinx/transforms/references.py_2_",
      "distance": 1.1377246379852295,
      "file_path": "sphinx/transforms/references.py",
      "start_line": 11,
      "end_line": 55,
      "tokens": 266,
      "context_length": 16429
    },
    {
      "position": 38,
      "id": "/tmp/repos/sphinx/doc/usage/extensions/example_numpy.py_ExampleClass.__special___ExampleClass.__special__.2",
      "distance": 1.140431523323059,
      "file_path": "doc/usage/extensions/example_numpy.py",
      "start_line": 320,
      "end_line": 334,
      "tokens": 109,
      "context_length": 16538
    },
    {
      "position": 39,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/importer.py_importlib_mangle.3.1",
      "distance": 1.1411137580871582,
      "file_path": "sphinx/ext/autodoc/importer.py",
      "start_line": 11,
      "end_line": 36,
      "tokens": 175,
      "context_length": 16713
    },
    {
      "position": 40,
      "id": "/tmp/repos/sphinx/sphinx/domains/c.py_CNamespacePopObject_",
      "distance": 1.143833875656128,
      "file_path": "sphinx/domains/c.py",
      "start_line": 3414,
      "end_line": 3837,
      "tokens": 3704,
      "context_length": 20417
    },
    {
      "position": 41,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/typehints.py_re_record_typehints.2.2.1",
      "distance": 1.144360065460205,
      "file_path": "sphinx/ext/autodoc/typehints.py",
      "start_line": 11,
      "end_line": 37,
      "tokens": 197,
      "context_length": 20614
    },
    {
      "position": 42,
      "id": "/tmp/repos/sphinx/sphinx/application.py_Sphinx.add_autodoc_attrgetter_Sphinx.add_autodoc_attrgetter.3",
      "distance": 1.144486904144287,
      "file_path": "sphinx/application.py",
      "start_line": 1079,
      "end_line": 1092,
      "tokens": 174,
      "context_length": 20788
    },
    {
      "position": 43,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/typehints.py_merge_typehints_insert_field_list.4.1",
      "distance": 1.1466093063354492,
      "file_path": "sphinx/ext/autodoc/typehints.py",
      "start_line": 40,
      "end_line": 79,
      "tokens": 324,
      "context_length": 21112
    },
    {
      "position": 44,
      "id": "/tmp/repos/sphinx/sphinx/domains/python.py_42_PyXrefMixin.make_xref.4.1",
      "distance": 1.1486167907714844,
      "file_path": "sphinx/domains/python.py",
      "start_line": 266,
      "end_line": 284,
      "tokens": 214,
      "context_length": 21326
    },
    {
      "position": 45,
      "id": "/tmp/repos/sphinx/sphinx/deprecation.py_sys_deprecated_alias.2",
      "distance": 1.1493383646011353,
      "file_path": "sphinx/deprecation.py",
      "start_line": 11,
      "end_line": 36,
      "tokens": 164,
      "context_length": 21490
    },
    {
      "position": 46,
      "id": "/tmp/repos/sphinx/sphinx/pycode/ast.py_sys_OPERATORS.1",
      "distance": 1.1503196954727173,
      "file_path": "sphinx/pycode/ast.py",
      "start_line": 11,
      "end_line": 44,
      "tokens": 201,
      "context_length": 21691
    },
    {
      "position": 47,
      "id": "/tmp/repos/sphinx/doc/usage/extensions/example_numpy.py_ExampleClass.__special_without_docstring___",
      "distance": 1.1528366804122925,
      "file_path": "doc/usage/extensions/example_numpy.py",
      "start_line": 336,
      "end_line": 356,
      "tokens": 120,
      "context_length": 21811
    },
    {
      "position": 48,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_Documenter.parse_name_Documenter.parse_name.13.1",
      "distance": 1.1533457040786743,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 372,
      "end_line": 407,
      "tokens": 315,
      "context_length": 22126,
      "file_pos": 15
    },
    {
      "position": 49,
      "id": "/tmp/repos/sphinx/sphinx/util/typing.py_stringify_stringify.3.3.1.1",
      "distance": 1.1548693180084229,
      "file_path": "sphinx/util/typing.py",
      "start_line": 255,
      "end_line": 278,
      "tokens": 188,
      "context_length": 22314
    },
    {
      "position": 50,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_ModuleLevelDocumenter_ModuleLevelDocumenter.resolve_name.2.1",
      "distance": 1.155247688293457,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1074,
      "end_line": 1092,
      "tokens": 179,
      "context_length": 22493,
      "file_pos": 15
    },
    {
      "position": 51,
      "id": "/tmp/repos/sphinx/sphinx/directives/__init__.py_22_30",
      "distance": 1.1553478240966797,
      "file_path": "sphinx/directives/__init__.py",
      "start_line": 267,
      "end_line": 321,
      "tokens": 517,
      "context_length": 23010
    },
    {
      "position": 52,
      "id": "/tmp/repos/sphinx/sphinx/util/inspect.py_isgenericalias_isgenericalias.2.5.1.1",
      "distance": 1.1556923389434814,
      "file_path": "sphinx/util/inspect.py",
      "start_line": 325,
      "end_line": 337,
      "tokens": 144,
      "context_length": 23154
    },
    {
      "position": 53,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_ClassLevelDocumenter_ClassLevelDocumenter.resolve_name.2.1",
      "distance": 1.160367488861084,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1095,
      "end_line": 1125,
      "tokens": 287,
      "context_length": 23441,
      "file_pos": 17
    },
    {
      "position": 54,
      "id": "/tmp/repos/sphinx/sphinx/ext/autosummary/generate.py_setup_documenters__underline.2.1",
      "distance": 1.1616917848587036,
      "file_path": "sphinx/ext/autosummary/generate.py",
      "start_line": 87,
      "end_line": 117,
      "tokens": 288,
      "context_length": 23729
    },
    {
      "position": 55,
      "id": "/tmp/repos/sphinx/doc/usage/extensions/example_google.py_ExampleClass.__special___ExampleClass.__special__.2",
      "distance": 1.1620447635650635,
      "file_path": "doc/usage/extensions/example_google.py",
      "start_line": 261,
      "end_line": 275,
      "tokens": 109,
      "context_length": 23838
    },
    {
      "position": 56,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_DecoratorDocumenter_ClassDocumenter",
      "distance": 1.1621227264404297,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1357,
      "end_line": 1665,
      "tokens": 189,
      "context_length": 24027,
      "file_pos": 18
    },
    {
      "position": 57,
      "id": "/tmp/repos/sphinx/sphinx/util/pycompat.py_21_",
      "distance": 1.1631691455841064,
      "file_path": "sphinx/util/pycompat.py",
      "start_line": 91,
      "end_line": 110,
      "tokens": 158,
      "context_length": 24185
    },
    {
      "position": 58,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_DocstringStripSignatureMixin_DocstringStripSignatureMixin.format_signature.2.1",
      "distance": 1.168506383895874,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 1223,
      "end_line": 1238,
      "tokens": 166,
      "context_length": 24351,
      "file_pos": 19
    },
    {
      "position": 59,
      "id": "/tmp/repos/sphinx/doc/usage/extensions/example_google.py_ExampleClass.__special_without_docstring___",
      "distance": 1.169330358505249,
      "file_path": "doc/usage/extensions/example_google.py",
      "start_line": 277,
      "end_line": 297,
      "tokens": 120,
      "context_length": 24471
    },
    {
      "position": 60,
      "id": "/tmp/repos/sphinx/sphinx/ext/autosummary/generate.py_generate_autosummary_content_generate_autosummary_content.skip_member.1.2.2.1",
      "distance": 1.1701442003250122,
      "file_path": "sphinx/ext/autosummary/generate.py",
      "start_line": 228,
      "end_line": 243,
      "tokens": 184,
      "context_length": 24655
    },
    {
      "position": 61,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/importer.py_Attribute__getannotations.3.2.1.1",
      "distance": 1.1704487800598145,
      "file_path": "sphinx/ext/autodoc/importer.py",
      "start_line": 160,
      "end_line": 180,
      "tokens": 157,
      "context_length": 24812
    },
    {
      "position": 62,
      "id": "/tmp/repos/sphinx/sphinx/domains/python.py_PyCurrentModule_PyCurrentModule.run.3.1",
      "distance": 1.1705207824707031,
      "file_path": "sphinx/domains/python.py",
      "start_line": 1009,
      "end_line": 1027,
      "tokens": 143,
      "context_length": 24955
    },
    {
      "position": 63,
      "id": "/tmp/repos/sphinx/sphinx/domains/cpp.py_ASTDeclaratorPtr.get_modifiers_id_ASTDeclaratorPtr.describe_signature.9",
      "distance": 1.1722772121429443,
      "file_path": "sphinx/domains/cpp.py",
      "start_line": 2393,
      "end_line": 2450,
      "tokens": 494,
      "context_length": 25449
    },
    {
      "position": 64,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_Documenter.get_real_modname_Documenter._call_format_args.3.1",
      "distance": 1.174628734588623,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 430,
      "end_line": 478,
      "tokens": 359,
      "context_length": 25808,
      "file_pos": 20
    },
    {
      "position": 65,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/directive.py_AutodocDirective_",
      "distance": 1.1764392852783203,
      "file_path": "sphinx/ext/autodoc/directive.py",
      "start_line": 109,
      "end_line": 159,
      "tokens": 453,
      "context_length": 26261
    },
    {
      "position": 66,
      "id": "/tmp/repos/sphinx/doc/conf.py_latex_elements_event_sig_re.1",
      "distance": 1.1777526140213013,
      "file_path": "doc/conf.py",
      "start_line": 59,
      "end_line": 124,
      "tokens": 668,
      "context_length": 26929
    },
    {
      "position": 67,
      "id": "/tmp/repos/sphinx/sphinx/util/inspect.py_builtins_memory_address_re.1",
      "distance": 1.1834371089935303,
      "file_path": "sphinx/util/inspect.py",
      "start_line": 11,
      "end_line": 41,
      "tokens": 263,
      "context_length": 27192
    },
    {
      "position": 68,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_PropertyDocumenter_PropertyDocumenter.2",
      "distance": 1.1845974922180176,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2152,
      "end_line": 2180,
      "tokens": 247,
      "context_length": 27439,
      "file_pos": 21
    },
    {
      "position": 69,
      "id": "/tmp/repos/sphinx/sphinx/config.py_check_confval_types_check_confval_types.2.4.4.6.5.2",
      "distance": 1.1851341724395752,
      "file_path": "sphinx/config.py",
      "start_line": 386,
      "end_line": 438,
      "tokens": 474,
      "context_length": 27913
    },
    {
      "position": 70,
      "id": "/tmp/repos/sphinx/sphinx/util/__init__.py_attrdict_attrdict.__delattr__.1",
      "distance": 1.186929702758789,
      "file_path": "sphinx/util/__init__.py",
      "start_line": 480,
      "end_line": 493,
      "tokens": 123,
      "context_length": 28036
    },
    {
      "position": 71,
      "id": "/tmp/repos/sphinx/sphinx/pycode/parser.py_get_lvar_names_get_lvar_names.4.7.1",
      "distance": 1.1899726390838623,
      "file_path": "sphinx/pycode/parser.py",
      "start_line": 47,
      "end_line": 86,
      "tokens": 391,
      "context_length": 28427
    },
    {
      "position": 72,
      "id": "/tmp/repos/sphinx/sphinx/domains/python.py_builtin_resolver_",
      "distance": 1.1899898052215576,
      "file_path": "sphinx/domains/python.py",
      "start_line": 1369,
      "end_line": 1407,
      "tokens": 304,
      "context_length": 28731
    },
    {
      "position": 73,
      "id": "/tmp/repos/sphinx/sphinx/ext/autosummary/generate.py_generate_autosummary_content.get_module_attrs_generate_autosummary_content.get_module_attrs.4.1",
      "distance": 1.190349817276001,
      "file_path": "sphinx/ext/autosummary/generate.py",
      "start_line": 272,
      "end_line": 285,
      "tokens": 202,
      "context_length": 28933
    },
    {
      "position": 74,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_SlotsAttributeDocumenter.import_object_SlotsAttributeDocumenter.import_object.5.1.4.1.2.3.1",
      "distance": 1.1903972625732422,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2245,
      "end_line": 2264,
      "tokens": 170,
      "context_length": 29103,
      "file_pos": 24
    },
    {
      "position": 75,
      "id": "/tmp/repos/sphinx/sphinx/util/cfamily.py_ASTIdAttribute_DefinitionError.description.2.1",
      "distance": 1.1915497779846191,
      "file_path": "sphinx/util/cfamily.py",
      "start_line": 179,
      "end_line": 230,
      "tokens": 341,
      "context_length": 29444
    },
    {
      "position": 76,
      "id": "/tmp/repos/sphinx/sphinx/directives/__init__.py_ObjectDescription.get_field_type_map_ObjectDescription.get_field_type_map.2.1",
      "distance": 1.1921751499176025,
      "file_path": "sphinx/directives/__init__.py",
      "start_line": 74,
      "end_line": 86,
      "tokens": 128,
      "context_length": 29572
    },
    {
      "position": 77,
      "id": "/tmp/repos/sphinx/sphinx/domains/python.py_PyClassmember.get_index_text_PyClassmember.get_index_text.3.6.1.1",
      "distance": 1.1921827793121338,
      "file_path": "sphinx/domains/python.py",
      "start_line": 727,
      "end_line": 781,
      "tokens": 530,
      "context_length": 30102
    },
    {
      "position": 78,
      "id": "/tmp/repos/sphinx/sphinx/directives/other.py_re_int_or_nothing.2.1",
      "distance": 1.1925487518310547,
      "file_path": "sphinx/directives/other.py",
      "start_line": 9,
      "end_line": 39,
      "tokens": 235,
      "context_length": 30337
    },
    {
      "position": 79,
      "id": "/tmp/repos/sphinx/sphinx/domains/std.py_re_token_re.1",
      "distance": 1.1927604675292969,
      "file_path": "sphinx/domains/std.py",
      "start_line": 11,
      "end_line": 48,
      "tokens": 320,
      "context_length": 30657
    }
  ],
  "files": [
    {
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "position": 1,
      "tokens": 19989,
      "context_length": 19989
    },
    {
      "file_path": "sphinx/ext/autodoc/mock.py",
      "position": 2,
      "tokens": 1107,
      "context_length": 21096
    },
    {
      "file_path": "sphinx/ext/autodoc/typehints.py",
      "position": 3,
      "tokens": 1042,
      "context_length": 22138
    },
    {
      "file_path": "sphinx/ext/autodoc/type_comment.py",
      "position": 4,
      "tokens": 1224,
      "context_length": 23362
    },
    {
      "file_path": "sphinx/ext/autodoc/importer.py",
      "position": 5,
      "tokens": 2028,
      "context_length": 25390
    },
    {
      "file_path": "sphinx/ext/autodoc/directive.py",
      "position": 6,
      "tokens": 1261,
      "context_length": 26651
    },
    {
      "file_path": "sphinx/domains/python.py",
      "position": 7,
      "tokens": 11905,
      "context_length": 38556
    },
    {
      "file_path": "sphinx/util/typing.py",
      "position": 8,
      "tokens": 4349,
      "context_length": 42905
    },
    {
      "file_path": "sphinx/ext/autosummary/generate.py",
      "position": 9,
      "tokens": 5268,
      "context_length": 48173
    },
    {
      "file_path": "sphinx/transforms/references.py",
      "position": 10,
      "tokens": 318,
      "context_length": 48491
    },
    {
      "file_path": "doc/usage/extensions/example_numpy.py",
      "position": 11,
      "tokens": 2108,
      "context_length": 50599
    },
    {
      "file_path": "sphinx/domains/c.py",
      "position": 12,
      "tokens": 31203,
      "context_length": 81802
    },
    {
      "file_path": "sphinx/application.py",
      "position": 13,
      "tokens": 11290,
      "context_length": 93092
    },
    {
      "file_path": "sphinx/deprecation.py",
      "position": 14,
      "tokens": 712,
      "context_length": 93804
    },
    {
      "file_path": "sphinx/pycode/ast.py",
      "position": 15,
      "tokens": 1940,
      "context_length": 95744
    },
    {
      "file_path": "sphinx/directives/__init__.py",
      "position": 16,
      "tokens": 2735,
      "context_length": 98479
    },
    {
      "file_path": "sphinx/util/inspect.py",
      "position": 17,
      "tokens": 6572,
      "context_length": 105051
    },
    {
      "file_path": "doc/usage/extensions/example_google.py",
      "position": 18,
      "tokens": 1985,
      "context_length": 107036
    },
    {
      "file_path": "sphinx/util/pycompat.py",
      "position": 19,
      "tokens": 868,
      "context_length": 107904
    },
    {
      "file_path": "sphinx/domains/cpp.py",
      "position": 20,
      "tokens": 63104,
      "context_length": 171008
    },
    {
      "file_path": "doc/conf.py",
      "position": 21,
      "tokens": 1538,
      "context_length": 172546
    },
    {
      "file_path": "sphinx/config.py",
      "position": 22,
      "tokens": 4401,
      "context_length": 176947
    },
    {
      "file_path": "sphinx/util/__init__.py",
      "position": 23,
      "tokens": 6302,
      "context_length": 183249
    },
    {
      "file_path": "sphinx/pycode/parser.py",
      "position": 24,
      "tokens": 4646,
      "context_length": 187895
    },
    {
      "file_path": "sphinx/util/cfamily.py",
      "position": 25,
      "tokens": 3502,
      "context_length": 191397
    },
    {
      "file_path": "sphinx/directives/other.py",
      "position": 26,
      "tokens": 3171,
      "context_length": 194568
    },
    {
      "file_path": "sphinx/domains/std.py",
      "position": 27,
      "tokens": 10451,
      "context_length": 205019
    }
  ]
}