{
  "instance_id": "sphinx-doc__sphinx-9231",
  "model_patch": "diff --git a/sphinx/builders/manpage.py b/sphinx/builders/manpage.py\nindex 532d2b8fe..897b310cf 100644\n--- a/sphinx/builders/manpage.py\n+++ b/sphinx/builders/manpage.py\n@@ -65,7 +65,7 @@ class ManualPageBuilder(Builder):\n             docname, name, description, authors, section = info\n             if docname not in self.env.all_docs:\n                 logger.warning(__('\"man_pages\" config value references unknown '\n-                                  'document %s'), docname)\n+                                   'document %s'), docname)\n                 continue\n             if isinstance(authors, str):\n                 if authors:\n@@ -79,8 +79,8 @@ class ManualPageBuilder(Builder):\n             docsettings.section = section\n \n             if self.config.man_make_section_directory:\n-                ensuredir(path.join(self.outdir, str(section)))\n-                targetname = '%s/%s.%s' % (section, name, section)\n+                ensuredir(path.join(self.outdir, 'man' + str(section)))\n+                targetname = 'man%s/%s.%s' % (section, name, section)\n             else:\n                 targetname = '%s.%s' % (name, section)\n \n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "sphinx/builders/manpage.py"
  ],
  "repo": "sphinx-doc/sphinx",
  "base_commit": "d6c19126c5ebd788619d491d4e70c949de9fd2ff",
  "patch": "diff --git a/sphinx/builders/manpage.py b/sphinx/builders/manpage.py\n--- a/sphinx/builders/manpage.py\n+++ b/sphinx/builders/manpage.py\n@@ -79,8 +79,9 @@ def write(self, *ignored: Any) -> None:\n             docsettings.section = section\n \n             if self.config.man_make_section_directory:\n-                ensuredir(path.join(self.outdir, str(section)))\n-                targetname = '%s/%s.%s' % (section, name, section)\n+                dirname = 'man%s' % section\n+                ensuredir(path.join(self.outdir, dirname))\n+                targetname = '%s/%s.%s' % (dirname, name, section)\n             else:\n                 targetname = '%s.%s' % (name, section)\n \n",
  "test_patch": "diff --git a/tests/test_build_manpage.py b/tests/test_build_manpage.py\n--- a/tests/test_build_manpage.py\n+++ b/tests/test_build_manpage.py\n@@ -34,7 +34,7 @@ def test_all(app, status, warning):\n                     confoverrides={'man_make_section_directory': True})\n def test_man_make_section_directory(app, status, warning):\n     app.build()\n-    assert (app.outdir / '1' / 'python.1').exists()\n+    assert (app.outdir / 'man1' / 'python.1').exists()\n \n \n @pytest.mark.sphinx('man', testroot='directive-code')\n",
  "problem_statement": "man_make_section_directory should not be enabled by default\nEnabling `man_make_section_directory` by default in #8284 breaks projects relying on the previous behavior. This is a serious problem for Linux distributions that will end up with misplaced and unusable man pages. Please consider keeping it disabled by default; the benefit of being able to use MANPATH in the output directory does not justify this kind of breakage.\r\n\r\nI also noticed that the current implementation generates paths like `<builddir>/1` instead of `<builddir>/man1`. Only the latter can be used with MANPATH which appears to be the main motivation behind #7996.\r\n\r\nExamples of breakage I've seen so far (and we've only had sphinx 4.0.x in Arch Linux for three days):\r\n\r\n[fish-shell](https://github.com/fish-shell/fish-shell) does not expect the section subdirectory and results in man pages for built-in shell commands being installed to `usr/share/fish/man/man1/1` instead of `usr/share/fish/man/man1` and also fails to filter out `fish.1`, `fish_indent.1` and `fish_key_reader.1` which are meant to be installed to `usr/share/man/man1`.\r\n\r\n[llvm-project](https://github.com/llvm/llvm-project) copies the output directory to `usr/share/man/man1` resulting in paths like `usr/share/man/man1/1/foo.1` (note the additional `1` directory).\n",
  "hints_text": "Thank you for letting us know. I just reverted the change of default setting in #9232. It will be released as 4.0.2 soon. And I'll change the directory name in #9231. It will be released as 4.1.0.",
  "created_at": "2021-05-15T12:39:26Z",
  "version": "4.1",
  "FAIL_TO_PASS": "[\"tests/test_build_manpage.py::test_man_make_section_directory\"]",
  "PASS_TO_PASS": "[\"tests/test_build_manpage.py::test_all\", \"tests/test_build_manpage.py::test_captioned_code_block\", \"tests/test_build_manpage.py::test_default_man_pages\", \"tests/test_build_manpage.py::test_rubric\"]",
  "environment_setup_commit": "9a2c3c4a1559e37e95fdee88c128bb116642c897",
  "patch_files": [
    "sphinx/builders/manpage.py"
  ],
  "test_patch_files": [
    "tests/test_build_manpage.py"
  ],
  "patch_diff_details": {
    "sphinx/builders/manpage.py": {
      "diffs": [
        {
          "start_line_old": 82,
          "end_line_old": 83,
          "file_pos": 1,
          "file_context_length": 954,
          "closest_snippet_id": "/tmp/repos/sphinx/sphinx/builders/manpage.py_2_logger.1",
          "closest_snippet_line_distance": 54,
          "pos": 3,
          "context_length": 737
        }
      ]
    }
  },
  "vectors": 1536,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/sphinx/sphinx/builders/manpage.py_default_man_pages_",
      "distance": 0.9331086874008179,
      "file_path": "sphinx/builders/manpage.py",
      "start_line": 109,
      "end_line": 128,
      "tokens": 166,
      "context_length": 166,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/sphinx/sphinx/builders/manpage.py_2_logger.1",
      "distance": 0.9719090461730957,
      "file_path": "sphinx/builders/manpage.py",
      "start_line": 11,
      "end_line": 29,
      "tokens": 154,
      "context_length": 320,
      "file_pos": 1
    },
    {
      "position": 3,
      "id": "/tmp/repos/sphinx/sphinx/builders/manpage.py_ManualPageBuilder.write_ManualPageBuilder.finish.1",
      "distance": 1.0655238628387451,
      "file_path": "sphinx/builders/manpage.py",
      "start_line": 56,
      "end_line": 106,
      "tokens": 417,
      "context_length": 737,
      "file_pos": 1
    },
    {
      "position": 4,
      "id": "/tmp/repos/sphinx/sphinx/cmd/make_mode.py_os_BUILDERS.1",
      "distance": 1.0732476711273193,
      "file_path": "sphinx/cmd/make_mode.py",
      "start_line": 17,
      "end_line": 54,
      "tokens": 532,
      "context_length": 1269
    },
    {
      "position": 5,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_ManualPageTranslator.visit_number_reference_ManualPageTranslator.90",
      "distance": 1.0770056247711182,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 317,
      "end_line": 415,
      "tokens": 757,
      "context_length": 2026
    },
    {
      "position": 6,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_ManualPageTranslator.depart_desc_parameterlist_ManualPageTranslator.depart_seealso.1",
      "distance": 1.0876505374908447,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 192,
      "end_line": 256,
      "tokens": 502,
      "context_length": 2528
    },
    {
      "position": 7,
      "id": "/tmp/repos/sphinx/sphinx/builders/manpage.py_ManualPageBuilder_ManualPageBuilder.get_target_uri.2",
      "distance": 1.0920450687408447,
      "file_path": "sphinx/builders/manpage.py",
      "start_line": 32,
      "end_line": 54,
      "tokens": 173,
      "context_length": 2701,
      "file_pos": 3
    },
    {
      "position": 8,
      "id": "/tmp/repos/sphinx/doc/conf.py_1_todo_include_todos.1",
      "distance": 1.0966405868530273,
      "file_path": "doc/conf.py",
      "start_line": 1,
      "end_line": 82,
      "tokens": 731,
      "context_length": 3432
    },
    {
      "position": 9,
      "id": "/tmp/repos/sphinx/sphinx/cmd/make_mode.py_Make.build_latexpdf_Make.build_gettext.3.1",
      "distance": 1.1222429275512695,
      "file_path": "sphinx/cmd/make_mode.py",
      "start_line": 96,
      "end_line": 140,
      "tokens": 375,
      "context_length": 3807
    },
    {
      "position": 10,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_ManualPageTranslator.visit_production_ManualPageTranslator.60",
      "distance": 1.1270947456359863,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 283,
      "end_line": 296,
      "tokens": 128,
      "context_length": 3935
    },
    {
      "position": 11,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_ManualPageTranslator.visit_productionlist_ManualPageTranslator.visit_productionlist.12",
      "distance": 1.1366596221923828,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 258,
      "end_line": 281,
      "tokens": 229,
      "context_length": 4164
    },
    {
      "position": 12,
      "id": "/tmp/repos/sphinx/sphinx/cmd/make_mode.py_Make.run_generic_build_Make.run_generic_build.papersize.6.1",
      "distance": 1.1398265361785889,
      "file_path": "sphinx/cmd/make_mode.py",
      "start_line": 142,
      "end_line": 155,
      "tokens": 149,
      "context_length": 4313
    },
    {
      "position": 13,
      "id": "/tmp/repos/sphinx/sphinx/cmd/make_mode.py_Make_Make.build_clean.6.1",
      "distance": 1.1455774307250977,
      "file_path": "sphinx/cmd/make_mode.py",
      "start_line": 57,
      "end_line": 84,
      "tokens": 318,
      "context_length": 4631
    },
    {
      "position": 14,
      "id": "/tmp/repos/sphinx/sphinx/cmd/make_mode.py_Make.build_help_Make.build_help.4.1.1",
      "distance": 1.1500571966171265,
      "file_path": "sphinx/cmd/make_mode.py",
      "start_line": 86,
      "end_line": 94,
      "tokens": 114,
      "context_length": 4745
    },
    {
      "position": 15,
      "id": "/tmp/repos/sphinx/sphinx/__init__.py_os_",
      "distance": 1.1558077335357666,
      "file_path": "sphinx/__init__.py",
      "start_line": 14,
      "end_line": 60,
      "tokens": 475,
      "context_length": 5220
    },
    {
      "position": 16,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_ManualPageTranslator.visit_title_",
      "distance": 1.1591382026672363,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 416,
      "end_line": 464,
      "tokens": 359,
      "context_length": 5579
    },
    {
      "position": 17,
      "id": "/tmp/repos/sphinx/doc/conf.py_extlinks_parse_event.8.1",
      "distance": 1.1599085330963135,
      "file_path": "doc/conf.py",
      "start_line": 83,
      "end_line": 138,
      "tokens": 476,
      "context_length": 6055
    },
    {
      "position": 18,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_2_ManualPageWriter.translate.self.output.1",
      "distance": 1.172508955001831,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 11,
      "end_line": 40,
      "tokens": 217,
      "context_length": 6272
    },
    {
      "position": 19,
      "id": "/tmp/repos/sphinx/sphinx/setup_command.py_BuildDoc.initialize_options_BuildDoc._guess_source_dir.2.1",
      "distance": 1.1814780235290527,
      "file_path": "sphinx/setup_command.py",
      "start_line": 91,
      "end_line": 118,
      "tokens": 229,
      "context_length": 6501
    },
    {
      "position": 20,
      "id": "/tmp/repos/sphinx/sphinx/cmd/build.py_argparse_20",
      "distance": 1.182127833366394,
      "file_path": "sphinx/cmd/build.py",
      "start_line": 11,
      "end_line": 30,
      "tokens": 132,
      "context_length": 6633
    },
    {
      "position": 21,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_os_33",
      "distance": 1.1840860843658447,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 11,
      "end_line": 42,
      "tokens": 331,
      "context_length": 6964
    },
    {
      "position": 22,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/constants.py_DEFAULT_SETTINGS_DEFAULT_SETTINGS.1",
      "distance": 1.1848560571670532,
      "file_path": "sphinx/builders/latex/constants.py",
      "start_line": 74,
      "end_line": 124,
      "tokens": 537,
      "context_length": 7501
    },
    {
      "position": 23,
      "id": "/tmp/repos/sphinx/sphinx/builders/texinfo.py_default_texinfo_documents_",
      "distance": 1.1930267810821533,
      "file_path": "sphinx/builders/texinfo.py",
      "start_line": 198,
      "end_line": 220,
      "tokens": 227,
      "context_length": 7728
    },
    {
      "position": 24,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_ManualPageTranslator.visit_reference_ManualPageTranslator.visit_reference.9",
      "distance": 1.1933027505874634,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 297,
      "end_line": 315,
      "tokens": 201,
      "context_length": 7929
    },
    {
      "position": 25,
      "id": "/tmp/repos/sphinx/sphinx/util/osutil.py_contextlib_canon_path.2.1",
      "distance": 1.1955287456512451,
      "file_path": "sphinx/util/osutil.py",
      "start_line": 11,
      "end_line": 45,
      "tokens": 214,
      "context_length": 8143
    },
    {
      "position": 26,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_get_parser_get_parser.26",
      "distance": 1.1955560445785522,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 453,
      "end_line": 519,
      "tokens": 751,
      "context_length": 8894
    },
    {
      "position": 27,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_os_versioning_conditions.1",
      "distance": 1.1958715915679932,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 11,
      "end_line": 80,
      "tokens": 492,
      "context_length": 9386
    },
    {
      "position": 28,
      "id": "/tmp/repos/sphinx/sphinx/cmd/build.py_get_parser_get_parser.group_19.1",
      "distance": 1.199538230895996,
      "file_path": "sphinx/cmd/build.py",
      "start_line": 101,
      "end_line": 168,
      "tokens": 762,
      "context_length": 10148
    },
    {
      "position": 29,
      "id": "/tmp/repos/sphinx/sphinx/directives/patches.py_os_logger.1",
      "distance": 1.2045459747314453,
      "file_path": "sphinx/directives/patches.py",
      "start_line": 9,
      "end_line": 34,
      "tokens": 192,
      "context_length": 10340
    },
    {
      "position": 30,
      "id": "/tmp/repos/sphinx/setup.py_16_",
      "distance": 1.2083981037139893,
      "file_path": "setup.py",
      "start_line": 173,
      "end_line": 249,
      "tokens": 638,
      "context_length": 10978
    },
    {
      "position": 31,
      "id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_69_",
      "distance": 1.2085669040679932,
      "file_path": "sphinx/builders/html/__init__.py",
      "start_line": 1294,
      "end_line": 1375,
      "tokens": 1000,
      "context_length": 11978
    },
    {
      "position": 32,
      "id": "/tmp/repos/sphinx/sphinx/util/__init__.py_functools_path_stabilize.3.1",
      "distance": 1.2086822986602783,
      "file_path": "sphinx/util/__init__.py",
      "start_line": 11,
      "end_line": 64,
      "tokens": 446,
      "context_length": 12424
    },
    {
      "position": 33,
      "id": "/tmp/repos/sphinx/setup.py_os_Tee.flush.1",
      "distance": 1.20890474319458,
      "file_path": "setup.py",
      "start_line": 1,
      "end_line": 75,
      "tokens": 445,
      "context_length": 12869
    },
    {
      "position": 34,
      "id": "/tmp/repos/sphinx/sphinx/setup_command.py_BuildDoc.run_",
      "distance": 1.2114670276641846,
      "file_path": "sphinx/setup_command.py",
      "start_line": 142,
      "end_line": 190,
      "tokens": 415,
      "context_length": 13284
    },
    {
      "position": 35,
      "id": "/tmp/repos/sphinx/sphinx/builders/html/__init__.py_html_return_codes_re.1",
      "distance": 1.2161670923233032,
      "file_path": "sphinx/builders/html/__init__.py",
      "start_line": 11,
      "end_line": 62,
      "tokens": 432,
      "context_length": 13716
    },
    {
      "position": 36,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_main_",
      "distance": 1.216450810432434,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 538,
      "end_line": 605,
      "tokens": 491,
      "context_length": 14207
    },
    {
      "position": 37,
      "id": "/tmp/repos/sphinx/sphinx/application.py_os_42.3",
      "distance": 1.2173383235931396,
      "file_path": "sphinx/application.py",
      "start_line": 13,
      "end_line": 58,
      "tokens": 361,
      "context_length": 14568
    },
    {
      "position": 38,
      "id": "/tmp/repos/sphinx/sphinx/application.py_Sphinx.build_Sphinx.build.3",
      "distance": 1.2174322605133057,
      "file_path": "sphinx/application.py",
      "start_line": 333,
      "end_line": 382,
      "tokens": 410,
      "context_length": 14978
    },
    {
      "position": 39,
      "id": "/tmp/repos/sphinx/sphinx/directives/__init__.py_23_",
      "distance": 1.2180371284484863,
      "file_path": "sphinx/directives/__init__.py",
      "start_line": 269,
      "end_line": 294,
      "tokens": 167,
      "context_length": 15145
    },
    {
      "position": 40,
      "id": "/tmp/repos/sphinx/sphinx/writers/manpage.py_ManualPageTranslator_ManualPageTranslator.visit_desc_parameterlist.self.first_param.1",
      "distance": 1.2207565307617188,
      "file_path": "sphinx/writers/manpage.py",
      "start_line": 71,
      "end_line": 190,
      "tokens": 867,
      "context_length": 16012
    },
    {
      "position": 41,
      "id": "/tmp/repos/sphinx/sphinx/util/pycompat.py_warnings_convert_with_2to3.7.1",
      "distance": 1.223233938217163,
      "file_path": "sphinx/util/pycompat.py",
      "start_line": 11,
      "end_line": 46,
      "tokens": 328,
      "context_length": 16340
    },
    {
      "position": 42,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/constants.py_ADDITIONAL_SETTINGS_",
      "distance": 1.2248852252960205,
      "file_path": "sphinx/builders/latex/constants.py",
      "start_line": 126,
      "end_line": 214,
      "tokens": 987,
      "context_length": 17327
    },
    {
      "position": 43,
      "id": "/tmp/repos/sphinx/sphinx/cmd/build.py_get_parser.20_make_main.3.1",
      "distance": 1.2264714241027832,
      "file_path": "sphinx/cmd/build.py",
      "start_line": 169,
      "end_line": 199,
      "tokens": 383,
      "context_length": 17710
    },
    {
      "position": 44,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_validate_config_values_default_latex_documents.4.1",
      "distance": 1.2273564338684082,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 465,
      "end_line": 525,
      "tokens": 521,
      "context_length": 18231
    },
    {
      "position": 45,
      "id": "/tmp/repos/sphinx/sphinx/ext/apidoc.py_get_parser_get_parser.18",
      "distance": 1.2295782566070557,
      "file_path": "sphinx/ext/apidoc.py",
      "start_line": 303,
      "end_line": 368,
      "tokens": 751,
      "context_length": 18982
    },
    {
      "position": 46,
      "id": "/tmp/repos/sphinx/sphinx/util/osutil.py_ensuredir_cd.2.3.1",
      "distance": 1.2319018840789795,
      "file_path": "sphinx/util/osutil.py",
      "start_line": 71,
      "end_line": 171,
      "tokens": 718,
      "context_length": 19700
    },
    {
      "position": 47,
      "id": "/tmp/repos/sphinx/sphinx/config.py_check_primary_domain_check_root_doc.3.1",
      "distance": 1.2320725917816162,
      "file_path": "sphinx/config.py",
      "start_line": 462,
      "end_line": 481,
      "tokens": 223,
      "context_length": 19923
    },
    {
      "position": 48,
      "id": "/tmp/repos/sphinx/sphinx/setup_command.py_os_BuildDoc.boolean_options.1",
      "distance": 1.232154130935669,
      "file_path": "sphinx/setup_command.py",
      "start_line": 14,
      "end_line": 89,
      "tokens": 415,
      "context_length": 20338
    },
    {
      "position": 49,
      "id": "/tmp/repos/sphinx/sphinx/setup_command.py_BuildDoc.finalize_options_BuildDoc.finalize_options.self.builder_target_dirs.1",
      "distance": 1.2336997985839844,
      "file_path": "sphinx/setup_command.py",
      "start_line": 120,
      "end_line": 140,
      "tokens": 172,
      "context_length": 20510
    },
    {
      "position": 50,
      "id": "/tmp/repos/sphinx/sphinx/builders/changes.py_ChangesBuilder.write.16_",
      "distance": 1.234802484512329,
      "file_path": "sphinx/builders/changes.py",
      "start_line": 125,
      "end_line": 168,
      "tokens": 438,
      "context_length": 20948
    },
    {
      "position": 51,
      "id": "/tmp/repos/sphinx/sphinx/ext/autosummary/generate.py_argparse_logger.1",
      "distance": 1.23640775680542,
      "file_path": "sphinx/ext/autosummary/generate.py",
      "start_line": 20,
      "end_line": 53,
      "tokens": 257,
      "context_length": 21205
    },
    {
      "position": 52,
      "id": "/tmp/repos/sphinx/sphinx/ext/apidoc.py_get_parser.19_get_parser.30.1",
      "distance": 1.23724365234375,
      "file_path": "sphinx/ext/apidoc.py",
      "start_line": 369,
      "end_line": 397,
      "tokens": 374,
      "context_length": 21579
    },
    {
      "position": 53,
      "id": "/tmp/repos/sphinx/sphinx/application.py_builtin_extensions_logger.1",
      "distance": 1.238112211227417,
      "file_path": "sphinx/application.py",
      "start_line": 61,
      "end_line": 123,
      "tokens": 494,
      "context_length": 22073
    },
    {
      "position": 54,
      "id": "/tmp/repos/sphinx/utils/bump_version.py_parse_options_",
      "distance": 1.2382090091705322,
      "file_path": "utils/bump_version.py",
      "start_line": 149,
      "end_line": 180,
      "tokens": 224,
      "context_length": 22297
    },
    {
      "position": 55,
      "id": "/tmp/repos/sphinx/sphinx/directives/code.py_sys_logger.1",
      "distance": 1.2397538423538208,
      "file_path": "sphinx/directives/code.py",
      "start_line": 9,
      "end_line": 30,
      "tokens": 148,
      "context_length": 22445
    },
    {
      "position": 56,
      "id": "/tmp/repos/sphinx/sphinx/ext/autosummary/__init__.py_process_generate_options_process_generate_options.8.1",
      "distance": 1.2406662702560425,
      "file_path": "sphinx/ext/autosummary/__init__.py",
      "start_line": 721,
      "end_line": 756,
      "tokens": 325,
      "context_length": 22770
    },
    {
      "position": 57,
      "id": "/tmp/repos/sphinx/sphinx/directives/code.py_LiteralInclude.run_",
      "distance": 1.2426137924194336,
      "file_path": "sphinx/directives/code.py",
      "start_line": 407,
      "end_line": 470,
      "tokens": 642,
      "context_length": 23412
    },
    {
      "position": 58,
      "id": "/tmp/repos/sphinx/sphinx/transforms/__init__.py_re_default_substitutions.1",
      "distance": 1.2431538105010986,
      "file_path": "sphinx/transforms/__init__.py",
      "start_line": 11,
      "end_line": 44,
      "tokens": 231,
      "context_length": 23643
    },
    {
      "position": 59,
      "id": "/tmp/repos/sphinx/sphinx/builders/epub3.py_html_HTML_TAG.1",
      "distance": 1.2432345151901245,
      "file_path": "sphinx/builders/epub3.py",
      "start_line": 12,
      "end_line": 55,
      "tokens": 288,
      "context_length": 23931
    },
    {
      "position": 60,
      "id": "/tmp/repos/sphinx/sphinx/writers/texinfo.py_TexinfoTranslator.visit_production_TexinfoTranslator.depart_desc.3",
      "distance": 1.2439950704574585,
      "file_path": "sphinx/writers/texinfo.py",
      "start_line": 1296,
      "end_line": 1384,
      "tokens": 699,
      "context_length": 24630
    },
    {
      "position": 61,
      "id": "/tmp/repos/sphinx/sphinx/util/smartypants.py_12_",
      "distance": 1.2486259937286377,
      "file_path": "sphinx/util/smartypants.py",
      "start_line": 380,
      "end_line": 392,
      "tokens": 137,
      "context_length": 24767
    },
    {
      "position": 62,
      "id": "/tmp/repos/sphinx/sphinx/builders/texinfo.py_TexinfoBuilder.assemble_doctree_TexinfoBuilder.assemble_doctree.self.docnames.14.1",
      "distance": 1.2487149238586426,
      "file_path": "sphinx/builders/texinfo.py",
      "start_line": 128,
      "end_line": 168,
      "tokens": 451,
      "context_length": 25218
    },
    {
      "position": 63,
      "id": "/tmp/repos/sphinx/sphinx/io.py_codecs_logger.1",
      "distance": 1.2494230270385742,
      "file_path": "sphinx/io.py",
      "start_line": 10,
      "end_line": 39,
      "tokens": 234,
      "context_length": 25452
    },
    {
      "position": 64,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/__init__.py_105_",
      "distance": 1.2501615285873413,
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "start_line": 2711,
      "end_line": 2754,
      "tokens": 528,
      "context_length": 25980
    },
    {
      "position": 65,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_ask_user.13_ask_user.20",
      "distance": 1.2502448558807373,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 262,
      "end_line": 320,
      "tokens": 739,
      "context_length": 26719
    },
    {
      "position": 66,
      "id": "/tmp/repos/sphinx/sphinx/builders/_epub_base.py_html_ssp.1",
      "distance": 1.2528820037841797,
      "file_path": "sphinx/builders/_epub_base.py",
      "start_line": 11,
      "end_line": 118,
      "tokens": 687,
      "context_length": 27406
    },
    {
      "position": 67,
      "id": "/tmp/repos/sphinx/sphinx/builders/texinfo.py_os_template_dir.1",
      "distance": 1.2529370784759521,
      "file_path": "sphinx/builders/texinfo.py",
      "start_line": 11,
      "end_line": 36,
      "tokens": 226,
      "context_length": 27632
    },
    {
      "position": 68,
      "id": "/tmp/repos/sphinx/sphinx/cmd/build.py_build_main_",
      "distance": 1.254870891571045,
      "file_path": "sphinx/cmd/build.py",
      "start_line": 202,
      "end_line": 299,
      "tokens": 701,
      "context_length": 28333
    },
    {
      "position": 69,
      "id": "/tmp/repos/sphinx/sphinx/builders/singlehtml.py_2_logger.1",
      "distance": 1.2561886310577393,
      "file_path": "sphinx/builders/singlehtml.py",
      "start_line": 11,
      "end_line": 25,
      "tokens": 112,
      "context_length": 28445
    },
    {
      "position": 70,
      "id": "/tmp/repos/sphinx/sphinx/registry.py_traceback_EXTENSION_BLACKLIST.1",
      "distance": 1.2597064971923828,
      "file_path": "sphinx/registry.py",
      "start_line": 11,
      "end_line": 51,
      "tokens": 314,
      "context_length": 28759
    },
    {
      "position": 71,
      "id": "/tmp/repos/sphinx/sphinx/builders/dirhtml.py_2_",
      "distance": 1.2605857849121094,
      "file_path": "sphinx/builders/dirhtml.py",
      "start_line": 11,
      "end_line": 58,
      "tokens": 330,
      "context_length": 29089
    },
    {
      "position": 72,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_argparse_boolean.2.1",
      "distance": 1.260749340057373,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 11,
      "end_line": 119,
      "tokens": 786,
      "context_length": 29875
    },
    {
      "position": 73,
      "id": "/tmp/repos/sphinx/sphinx/ext/autosummary/generate.py_main_",
      "distance": 1.261035680770874,
      "file_path": "sphinx/ext/autosummary/generate.py",
      "start_line": 637,
      "end_line": 658,
      "tokens": 162,
      "context_length": 30037
    },
    {
      "position": 74,
      "id": "/tmp/repos/sphinx/sphinx/builders/texinfo.py_TexinfoBuilder.init_document_data_TexinfoBuilder.init_document_data.5.6",
      "distance": 1.2631745338439941,
      "file_path": "sphinx/builders/texinfo.py",
      "start_line": 72,
      "end_line": 89,
      "tokens": 189,
      "context_length": 30226
    },
    {
      "position": 75,
      "id": "/tmp/repos/sphinx/sphinx/writers/texinfo.py_TexinfoTranslator.depart_desc_annotation_",
      "distance": 1.2633626461029053,
      "file_path": "sphinx/writers/texinfo.py",
      "start_line": 1490,
      "end_line": 1561,
      "tokens": 519,
      "context_length": 30745
    },
    {
      "position": 76,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_XINDY_LANG_OPTIONS_XINDY_LANG_OPTIONS.1",
      "distance": 1.2664883136749268,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 44,
      "end_line": 99,
      "tokens": 825,
      "context_length": 31570
    },
    {
      "position": 77,
      "id": "/tmp/repos/sphinx/sphinx/config.py_Config.config_values_Config.config_values.1",
      "distance": 1.2673587799072266,
      "file_path": "sphinx/config.py",
      "start_line": 91,
      "end_line": 150,
      "tokens": 740,
      "context_length": 32310
    },
    {
      "position": 78,
      "id": "/tmp/repos/sphinx/sphinx/builders/__init__.py_pickle_logger.1",
      "distance": 1.2700093984603882,
      "file_path": "sphinx/builders/__init__.py",
      "start_line": 11,
      "end_line": 48,
      "tokens": 302,
      "context_length": 32612
    },
    {
      "position": 79,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_LaTeXBuilder.usepackages_LaTeXBuilder.usepackages_after_hyperref.2.1",
      "distance": 1.2704946994781494,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 452,
      "end_line": 462,
      "tokens": 118,
      "context_length": 32730
    },
    {
      "position": 80,
      "id": "/tmp/repos/sphinx/sphinx/directives/patches.py_MathDirective.add_target_",
      "distance": 1.2706167697906494,
      "file_path": "sphinx/directives/patches.py",
      "start_line": 213,
      "end_line": 249,
      "tokens": 326,
      "context_length": 33056
    },
    {
      "position": 81,
      "id": "/tmp/repos/sphinx/sphinx/builders/__init__.py_Builder.compile_specific_catalogs_Builder.compile_specific_catalogs",
      "distance": 1.2709362506866455,
      "file_path": "sphinx/builders/__init__.py",
      "start_line": 228,
      "end_line": 244,
      "tokens": 172,
      "context_length": 33228
    },
    {
      "position": 82,
      "id": "/tmp/repos/sphinx/sphinx/environment/__init__.py_BuildEnvironment.clear_doc_BuildEnvironment.merge_info_from.6",
      "distance": 1.2713749408721924,
      "file_path": "sphinx/environment/__init__.py",
      "start_line": 284,
      "end_line": 310,
      "tokens": 273,
      "context_length": 33501
    },
    {
      "position": 83,
      "id": "/tmp/repos/sphinx/sphinx/ext/githubpages.py_os_",
      "distance": 1.2721385955810547,
      "file_path": "sphinx/ext/githubpages.py",
      "start_line": 11,
      "end_line": 37,
      "tokens": 227,
      "context_length": 33728
    },
    {
      "position": 84,
      "id": "/tmp/repos/sphinx/sphinx/testing/util.py_SphinxTestApp.cleanup_SphinxTestApp.__repr__.1.1",
      "distance": 1.27229905128479,
      "file_path": "sphinx/testing/util.py",
      "start_line": 137,
      "end_line": 151,
      "tokens": 188,
      "context_length": 33916
    },
    {
      "position": 85,
      "id": "/tmp/repos/sphinx/sphinx/builders/changes.py_html_logger.1",
      "distance": 1.273496150970459,
      "file_path": "sphinx/builders/changes.py",
      "start_line": 11,
      "end_line": 26,
      "tokens": 124,
      "context_length": 34040
    },
    {
      "position": 86,
      "id": "/tmp/repos/sphinx/sphinx/builders/linkcheck.py_CheckExternalLinksBuilder.anchors_ignore_CheckExternalLinksBuilder.wqueue.2.1",
      "distance": 1.2735073566436768,
      "file_path": "sphinx/builders/linkcheck.py",
      "start_line": 134,
      "end_line": 229,
      "tokens": 727,
      "context_length": 34767
    },
    {
      "position": 87,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_LaTeXBuilder.assemble_doctree_LaTeXBuilder.assemble_doctree.self.docnames.15.1",
      "distance": 1.274500846862793,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 328,
      "end_line": 369,
      "tokens": 464,
      "context_length": 35231
    },
    {
      "position": 88,
      "id": "/tmp/repos/sphinx/sphinx/ext/autodoc/importer.py_importlib_mangle.3.1",
      "distance": 1.276540994644165,
      "file_path": "sphinx/ext/autodoc/importer.py",
      "start_line": 11,
      "end_line": 40,
      "tokens": 211,
      "context_length": 35442
    },
    {
      "position": 89,
      "id": "/tmp/repos/sphinx/sphinx/writers/texinfo.py_TexinfoTranslator.depart_image_TexinfoTranslator.208",
      "distance": 1.278125524520874,
      "file_path": "sphinx/writers/texinfo.py",
      "start_line": 1210,
      "end_line": 1275,
      "tokens": 457,
      "context_length": 35899
    },
    {
      "position": 90,
      "id": "/tmp/repos/sphinx/sphinx/transforms/__init__.py_setup_",
      "distance": 1.2782182693481445,
      "file_path": "sphinx/transforms/__init__.py",
      "start_line": 408,
      "end_line": 429,
      "tokens": 172,
      "context_length": 36071
    },
    {
      "position": 91,
      "id": "/tmp/repos/sphinx/sphinx/cmd/make_mode.py_run_make_mode_",
      "distance": 1.2784569263458252,
      "file_path": "sphinx/cmd/make_mode.py",
      "start_line": 158,
      "end_line": 168,
      "tokens": 110,
      "context_length": 36181
    },
    {
      "position": 92,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_generate.26_generate.35",
      "distance": 1.2785037755966187,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 393,
      "end_line": 421,
      "tokens": 385,
      "context_length": 36566
    },
    {
      "position": 93,
      "id": "/tmp/repos/sphinx/utils/bump_version.py_Skip_Changes.fetch_version.1.6.2.self.in_development.1",
      "distance": 1.2798538208007812,
      "file_path": "utils/bump_version.py",
      "start_line": 67,
      "end_line": 102,
      "tokens": 201,
      "context_length": 36767
    },
    {
      "position": 94,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_valid_dir_valid_dir.8.1",
      "distance": 1.2812690734863281,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 424,
      "end_line": 450,
      "tokens": 158,
      "context_length": 36925
    },
    {
      "position": 95,
      "id": "/tmp/repos/sphinx/sphinx/directives/other.py_setup_",
      "distance": 1.2820677757263184,
      "file_path": "sphinx/directives/other.py",
      "start_line": 369,
      "end_line": 393,
      "tokens": 228,
      "context_length": 37153
    },
    {
      "position": 96,
      "id": "/tmp/repos/sphinx/sphinx/domains/std.py_warn_missing_reference_",
      "distance": 1.2855316400527954,
      "file_path": "sphinx/domains/std.py",
      "start_line": 1113,
      "end_line": 1138,
      "tokens": 209,
      "context_length": 37362
    },
    {
      "position": 97,
      "id": "/tmp/repos/sphinx/sphinx/builders/xml.py_2_logger.1",
      "distance": 1.285656213760376,
      "file_path": "sphinx/builders/xml.py",
      "start_line": 11,
      "end_line": 26,
      "tokens": 116,
      "context_length": 37478
    },
    {
      "position": 98,
      "id": "/tmp/repos/sphinx/sphinx/builders/texinfo.py_TexinfoBuilder.write_TexinfoBuilder.write.2.9.14",
      "distance": 1.2859258651733398,
      "file_path": "sphinx/builders/texinfo.py",
      "start_line": 91,
      "end_line": 126,
      "tokens": 358,
      "context_length": 37836
    },
    {
      "position": 99,
      "id": "/tmp/repos/sphinx/sphinx/builders/texinfo.py_TexinfoBuilder.finish_TexinfoBuilder.copy_support_files.1.2.1",
      "distance": 1.2874186038970947,
      "file_path": "sphinx/builders/texinfo.py",
      "start_line": 170,
      "end_line": 195,
      "tokens": 254,
      "context_length": 38090
    },
    {
      "position": 100,
      "id": "/tmp/repos/sphinx/sphinx/cmd/quickstart.py_ask_user_ask_user.12.1",
      "distance": 1.2882447242736816,
      "file_path": "sphinx/cmd/quickstart.py",
      "start_line": 185,
      "end_line": 260,
      "tokens": 673,
      "context_length": 38763
    },
    {
      "position": 101,
      "id": "/tmp/repos/sphinx/utils/checks.py_sphinx_has_header_",
      "distance": 1.2885539531707764,
      "file_path": "utils/checks.py",
      "start_line": 33,
      "end_line": 109,
      "tokens": 545,
      "context_length": 39308
    },
    {
      "position": 102,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/__init__.py_setup_",
      "distance": 1.2890636920928955,
      "file_path": "sphinx/builders/latex/__init__.py",
      "start_line": 528,
      "end_line": 561,
      "tokens": 404,
      "context_length": 39712
    },
    {
      "position": 103,
      "id": "/tmp/repos/sphinx/sphinx/ext/intersphinx.py_concurrent.futures_logger.1",
      "distance": 1.289076328277588,
      "file_path": "sphinx/ext/intersphinx.py",
      "start_line": 26,
      "end_line": 51,
      "tokens": 169,
      "context_length": 39881
    },
    {
      "position": 104,
      "id": "/tmp/repos/sphinx/sphinx/builders/latex/transforms.py_ShowUrlsTransform.get_docname_for_node_ShowUrlsTransform.create_footnote.reference.11.1",
      "distance": 1.2894206047058105,
      "file_path": "sphinx/builders/latex/transforms.py",
      "start_line": 102,
      "end_line": 127,
      "tokens": 277,
      "context_length": 40158
    },
    {
      "position": 105,
      "id": "/tmp/repos/sphinx/sphinx/ext/intersphinx.py_missing_reference.15_missing_reference.18.1",
      "distance": 1.2907140254974365,
      "file_path": "sphinx/ext/intersphinx.py",
      "start_line": 317,
      "end_line": 351,
      "tokens": 424,
      "context_length": 40582
    },
    {
      "position": 106,
      "id": "/tmp/repos/sphinx/sphinx/util/inspect.py_builtins_memory_address_re.1",
      "distance": 1.291515588760376,
      "file_path": "sphinx/util/inspect.py",
      "start_line": 11,
      "end_line": 47,
      "tokens": 290,
      "context_length": 40872
    }
  ],
  "files": [
    {
      "file_path": "sphinx/builders/manpage.py",
      "position": 1,
      "tokens": 954,
      "context_length": 954
    },
    {
      "file_path": "sphinx/cmd/make_mode.py",
      "position": 2,
      "tokens": 1702,
      "context_length": 2656
    },
    {
      "file_path": "sphinx/writers/manpage.py",
      "position": 3,
      "tokens": 3487,
      "context_length": 6143
    },
    {
      "file_path": "doc/conf.py",
      "position": 4,
      "tokens": 1464,
      "context_length": 7607
    },
    {
      "file_path": "sphinx/__init__.py",
      "position": 5,
      "tokens": 549,
      "context_length": 8156
    },
    {
      "file_path": "sphinx/setup_command.py",
      "position": 6,
      "tokens": 1545,
      "context_length": 9701
    },
    {
      "file_path": "sphinx/cmd/build.py",
      "position": 7,
      "tokens": 2661,
      "context_length": 12362
    },
    {
      "file_path": "sphinx/builders/latex/__init__.py",
      "position": 8,
      "tokens": 5712,
      "context_length": 18074
    },
    {
      "file_path": "sphinx/builders/latex/constants.py",
      "position": 9,
      "tokens": 2192,
      "context_length": 20266
    },
    {
      "file_path": "sphinx/builders/texinfo.py",
      "position": 10,
      "tokens": 2013,
      "context_length": 22279
    },
    {
      "file_path": "sphinx/util/osutil.py",
      "position": 11,
      "tokens": 1634,
      "context_length": 23913
    },
    {
      "file_path": "sphinx/cmd/quickstart.py",
      "position": 12,
      "tokens": 5540,
      "context_length": 29453
    },
    {
      "file_path": "sphinx/environment/__init__.py",
      "position": 13,
      "tokens": 5448,
      "context_length": 34901
    },
    {
      "file_path": "sphinx/directives/patches.py",
      "position": 14,
      "tokens": 1844,
      "context_length": 36745
    },
    {
      "file_path": "setup.py",
      "position": 15,
      "tokens": 1727,
      "context_length": 38472
    },
    {
      "file_path": "sphinx/builders/html/__init__.py",
      "position": 16,
      "tokens": 12288,
      "context_length": 50760
    },
    {
      "file_path": "sphinx/util/__init__.py",
      "position": 17,
      "tokens": 4753,
      "context_length": 55513
    },
    {
      "file_path": "sphinx/application.py",
      "position": 18,
      "tokens": 11521,
      "context_length": 67034
    },
    {
      "file_path": "sphinx/directives/__init__.py",
      "position": 19,
      "tokens": 2252,
      "context_length": 69286
    },
    {
      "file_path": "sphinx/util/pycompat.py",
      "position": 20,
      "tokens": 493,
      "context_length": 69779
    },
    {
      "file_path": "sphinx/ext/apidoc.py",
      "position": 21,
      "tokens": 4230,
      "context_length": 74009
    },
    {
      "file_path": "sphinx/config.py",
      "position": 22,
      "tokens": 4456,
      "context_length": 78465
    },
    {
      "file_path": "sphinx/builders/changes.py",
      "position": 23,
      "tokens": 1513,
      "context_length": 79978
    },
    {
      "file_path": "sphinx/ext/autosummary/generate.py",
      "position": 24,
      "tokens": 5299,
      "context_length": 85277
    },
    {
      "file_path": "utils/bump_version.py",
      "position": 25,
      "tokens": 1363,
      "context_length": 86640
    },
    {
      "file_path": "sphinx/directives/code.py",
      "position": 26,
      "tokens": 3851,
      "context_length": 90491
    },
    {
      "file_path": "sphinx/ext/autosummary/__init__.py",
      "position": 27,
      "tokens": 6511,
      "context_length": 97002
    },
    {
      "file_path": "sphinx/transforms/__init__.py",
      "position": 28,
      "tokens": 3171,
      "context_length": 100173
    },
    {
      "file_path": "sphinx/builders/epub3.py",
      "position": 29,
      "tokens": 2587,
      "context_length": 102760
    },
    {
      "file_path": "sphinx/writers/texinfo.py",
      "position": 30,
      "tokens": 12314,
      "context_length": 115074
    },
    {
      "file_path": "sphinx/util/smartypants.py",
      "position": 31,
      "tokens": 4147,
      "context_length": 119221
    },
    {
      "file_path": "sphinx/io.py",
      "position": 32,
      "tokens": 1405,
      "context_length": 120626
    },
    {
      "file_path": "sphinx/ext/autodoc/__init__.py",
      "position": 33,
      "tokens": 23212,
      "context_length": 143838
    },
    {
      "file_path": "sphinx/builders/_epub_base.py",
      "position": 34,
      "tokens": 6309,
      "context_length": 150147
    },
    {
      "file_path": "sphinx/builders/singlehtml.py",
      "position": 35,
      "tokens": 1796,
      "context_length": 151943
    },
    {
      "file_path": "sphinx/registry.py",
      "position": 36,
      "tokens": 4623,
      "context_length": 156566
    },
    {
      "file_path": "sphinx/builders/dirhtml.py",
      "position": 37,
      "tokens": 380,
      "context_length": 156946
    },
    {
      "file_path": "sphinx/builders/__init__.py",
      "position": 38,
      "tokens": 5350,
      "context_length": 162296
    },
    {
      "file_path": "sphinx/ext/githubpages.py",
      "position": 39,
      "tokens": 287,
      "context_length": 162583
    },
    {
      "file_path": "sphinx/testing/util.py",
      "position": 40,
      "tokens": 1732,
      "context_length": 164315
    },
    {
      "file_path": "sphinx/builders/linkcheck.py",
      "position": 41,
      "tokens": 5412,
      "context_length": 169727
    },
    {
      "file_path": "sphinx/ext/autodoc/importer.py",
      "position": 42,
      "tokens": 2462,
      "context_length": 172189
    },
    {
      "file_path": "sphinx/directives/other.py",
      "position": 43,
      "tokens": 3127,
      "context_length": 175316
    },
    {
      "file_path": "sphinx/domains/std.py",
      "position": 44,
      "tokens": 10297,
      "context_length": 185613
    },
    {
      "file_path": "sphinx/builders/xml.py",
      "position": 45,
      "tokens": 839,
      "context_length": 186452
    },
    {
      "file_path": "utils/checks.py",
      "position": 46,
      "tokens": 906,
      "context_length": 187358
    },
    {
      "file_path": "sphinx/ext/intersphinx.py",
      "position": 47,
      "tokens": 3771,
      "context_length": 191129
    },
    {
      "file_path": "sphinx/builders/latex/transforms.py",
      "position": 48,
      "tokens": 4319,
      "context_length": 195448
    },
    {
      "file_path": "sphinx/util/inspect.py",
      "position": 49,
      "tokens": 6489,
      "context_length": 201937
    }
  ]
}