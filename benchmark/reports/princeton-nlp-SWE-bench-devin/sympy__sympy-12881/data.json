{
  "instance_id": "sympy__sympy-12881",
  "model_patch": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\nindex 9c12741236..af5710405b 100644\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -262,13 +262,14 @@ def free_symbols(self):\n         >>> Poly(x**2 + y).free_symbols\n         {x, y}\n         >>> Poly(x**2 + y, x).free_symbols\n-        {x, y}\n+        {x}\n \n         \"\"\"\n         symbols = set([])\n \n-        for gen in self.gens:\n-            symbols |= gen.free_symbols\n+        for i, gen in enumerate(self.gens):\n+            if any(i in monom for monom in self.monoms()):\n+                symbols |= gen.free_symbols\n \n         return symbols | self.free_symbols_in_domain\n \n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "sympy/polys/polytools.py"
  ],
  "repo": "sympy/sympy",
  "base_commit": "d2c3800fd3aaa226c0d37da84086530dd3e5abaf",
  "patch": "diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\n--- a/sympy/polys/polytools.py\n+++ b/sympy/polys/polytools.py\n@@ -255,7 +255,7 @@ def free_symbols(self):\n         ========\n \n         >>> from sympy import Poly\n-        >>> from sympy.abc import x, y\n+        >>> from sympy.abc import x, y, z\n \n         >>> Poly(x**2 + 1).free_symbols\n         {x}\n@@ -263,12 +263,17 @@ def free_symbols(self):\n         {x, y}\n         >>> Poly(x**2 + y, x).free_symbols\n         {x, y}\n+        >>> Poly(x**2 + y, x, z).free_symbols\n+        {x, y}\n \n         \"\"\"\n-        symbols = set([])\n-\n-        for gen in self.gens:\n-            symbols |= gen.free_symbols\n+        symbols = set()\n+        gens = self.gens\n+        for i in range(len(gens)):\n+            for monom in self.monoms():\n+                if monom[i]:\n+                    symbols |= gens[i].free_symbols\n+                    break\n \n         return symbols | self.free_symbols_in_domain\n \n@@ -609,7 +614,10 @@ def reorder(f, *gens, **args):\n \n     def ltrim(f, gen):\n         \"\"\"\n-        Remove dummy generators from the \"left\" of ``f``.\n+        Remove dummy generators from ``f`` that are to the left of\n+        specified ``gen`` in the generators as ordered. When ``gen``\n+        is an integer, it refers to the generator located at that\n+        position within the tuple of generators of ``f``.\n \n         Examples\n         ========\n@@ -619,20 +627,23 @@ def ltrim(f, gen):\n \n         >>> Poly(y**2 + y*z**2, x, y, z).ltrim(y)\n         Poly(y**2 + y*z**2, y, z, domain='ZZ')\n+        >>> Poly(z, x, y, z).ltrim(-1)\n+        Poly(z, z, domain='ZZ')\n \n         \"\"\"\n         rep = f.as_dict(native=True)\n         j = f._gen_to_level(gen)\n+\n         terms = {}\n \n         for monom, coeff in rep.items():\n-            monom = monom[j:]\n \n-            if monom not in terms:\n-                terms[monom] = coeff\n-            else:\n+            if any(i for i in monom[:j]):\n+                # some generator is used in the portion to be trimmed\n                 raise PolynomialError(\"can't left trim %s\" % f)\n \n+            terms[monom[j:]] = coeff\n+\n         gens = f.gens[j:]\n \n         return f.new(DMP.from_dict(terms, len(gens) - 1, f.rep.dom), *gens)\n@@ -653,7 +664,7 @@ def has_only_gens(f, *gens):\n         False\n \n         \"\"\"\n-        indices = set([])\n+        indices = set()\n \n         for gen in gens:\n             try:\ndiff --git a/sympy/solvers/polysys.py b/sympy/solvers/polysys.py\n--- a/sympy/solvers/polysys.py\n+++ b/sympy/solvers/polysys.py\n@@ -6,7 +6,7 @@\n from sympy.polys import Poly, groebner, roots\n from sympy.polys.polytools import parallel_poly_from_expr\n from sympy.polys.polyerrors import (ComputationFailed,\n-    PolificationFailed, CoercionFailed)\n+    PolificationFailed, CoercionFailed, PolynomialError)\n from sympy.simplify import rcollect\n from sympy.utilities import default_sort_key, postfixes\n \n@@ -37,10 +37,7 @@ def solve_poly_system(seq, *gens, **args):\n     if len(polys) == len(opt.gens) == 2:\n         f, g = polys\n \n-        a, b = f.degree_list()\n-        c, d = g.degree_list()\n-\n-        if a <= 2 and b <= 2 and c <= 2 and d <= 2:\n+        if all(i <= 2 for i in f.degree_list() + g.degree_list()):\n             try:\n                 return solve_biquadratic(f, g, opt)\n             except SolveFailed:\n@@ -79,13 +76,16 @@ def solve_biquadratic(f, g, opt):\n     if len(G) != 2:\n         raise SolveFailed\n \n-    p, q = G\n     x, y = opt.gens\n+    p, q = G\n+    if not p.gcd(q).is_ground:\n+        # not 0-dimensional\n+        raise SolveFailed\n \n     p = Poly(p, x, expand=False)\n-    q = q.ltrim(-1)\n-\n     p_roots = [ rcollect(expr, y) for expr in roots(p).keys() ]\n+\n+    q = q.ltrim(-1)\n     q_roots = list(roots(q).keys())\n \n     solutions = []\n@@ -161,7 +161,7 @@ def solve_generic(polys, opt):\n     def _is_univariate(f):\n         \"\"\"Returns True if 'f' is univariate in its last variable. \"\"\"\n         for monom in f.monoms():\n-            if any(m > 0 for m in monom[:-1]):\n+            if any(m for m in monom[:-1]):\n                 return False\n \n         return True\n",
  "test_patch": "diff --git a/sympy/polys/tests/test_polytools.py b/sympy/polys/tests/test_polytools.py\n--- a/sympy/polys/tests/test_polytools.py\n+++ b/sympy/polys/tests/test_polytools.py\n@@ -468,6 +468,8 @@ def test_Poly_free_symbols():\n     assert Poly(x**2 + sin(y*z)).free_symbols == {x, y, z}\n     assert Poly(x**2 + sin(y*z), x).free_symbols == {x, y, z}\n     assert Poly(x**2 + sin(y*z), x, domain=EX).free_symbols == {x, y, z}\n+    assert Poly(1 + x + x**2, x, y, z).free_symbols == {x}\n+    assert Poly(x + sin(y), z).free_symbols == {x, y}\n \n \n def test_PurePoly_free_symbols():\n@@ -851,9 +853,10 @@ def test_Poly_reorder():\n def test_Poly_ltrim():\n     f = Poly(y**2 + y*z**2, x, y, z).ltrim(y)\n     assert f.as_expr() == y**2 + y*z**2 and f.gens == (y, z)\n+    assert Poly(x*y - x, z, x, y).ltrim(1) == Poly(x*y - x, x, y)\n \n     raises(PolynomialError, lambda: Poly(x*y**2 + y**2, x, y).ltrim(y))\n-\n+    raises(PolynomialError, lambda: Poly(x*y - x, x, y).ltrim(-1))\n \n def test_Poly_has_only_gens():\n     assert Poly(x*y + 1, x, y, z).has_only_gens(x, y) is True\ndiff --git a/sympy/solvers/tests/test_polysys.py b/sympy/solvers/tests/test_polysys.py\n--- a/sympy/solvers/tests/test_polysys.py\n+++ b/sympy/solvers/tests/test_polysys.py\n@@ -1,9 +1,12 @@\n \"\"\"Tests for solvers of systems of polynomial equations. \"\"\"\n \n-from sympy import flatten, I, Integer, Poly, QQ, Rational, S, sqrt, symbols\n+from sympy import (flatten, I, Integer, Poly, QQ, Rational, S, sqrt,\n+    solve, symbols)\n from sympy.abc import x, y, z\n from sympy.polys import PolynomialError\n-from sympy.solvers.polysys import solve_poly_system, solve_triangulated\n+from sympy.solvers.polysys import (solve_poly_system,\n+    solve_triangulated, solve_biquadratic, SolveFailed)\n+from sympy.polys.polytools import parallel_poly_from_expr\n from sympy.utilities.pytest import raises\n \n \n@@ -50,10 +53,10 @@ def test_solve_biquadratic():\n \n     f_1 = (x - 1)**2 + (y - 1)**2 - r**2\n     f_2 = (x - 2)**2 + (y - 2)**2 - r**2\n-\n-    assert solve_poly_system([f_1, f_2], x, y) == \\\n-        [(S(3)/2 - sqrt(-1 + 2*r**2)/2, S(3)/2 + sqrt(-1 + 2*r**2)/2),\n-         (S(3)/2 + sqrt(-1 + 2*r**2)/2, S(3)/2 - sqrt(-1 + 2*r**2)/2)]\n+    s = sqrt(2*r**2 - 1)\n+    a = (3 - s)/2\n+    b = (3 + s)/2\n+    assert solve_poly_system([f_1, f_2], x, y) == [(a, b), (b, a)]\n \n     f_1 = (x - 1)**2 + (y - 2)**2 - r**2\n     f_2 = (x - 1)**2 + (y - 1)**2 - r**2\n@@ -80,8 +83,28 @@ def test_solve_biquadratic():\n     assert len(result) == 2 and all(len(r) == 2 for r in result)\n     assert all(len(r.find(query)) == 1 for r in flatten(result))\n \n-\n-def test_solve_triangualted():\n+    s1 = (x*y - y, x**2 - x)\n+    assert solve(s1) == [{x: 1}, {x: 0, y: 0}]\n+    s2 = (x*y - x, y**2 - y)\n+    assert solve(s2) == [{y: 1}, {x: 0, y: 0}]\n+    gens = (x, y)\n+    for seq in (s1, s2):\n+        (f, g), opt = parallel_poly_from_expr(seq, *gens)\n+        raises(SolveFailed, lambda: solve_biquadratic(f, g, opt))\n+    seq = (x**2 + y**2 - 2, y**2 - 1)\n+    (f, g), opt = parallel_poly_from_expr(seq, *gens)\n+    assert solve_biquadratic(f, g, opt) == [\n+        (-1, -1), (-1, 1), (1, -1), (1, 1)]\n+    ans = [(0, -1), (0, 1)]\n+    seq = (x**2 + y**2 - 1, y**2 - 1)\n+    (f, g), opt = parallel_poly_from_expr(seq, *gens)\n+    assert solve_biquadratic(f, g, opt) == ans\n+    seq = (x**2 + y**2 - 1, x**2 - x + y**2 - 1)\n+    (f, g), opt = parallel_poly_from_expr(seq, *gens)\n+    assert solve_biquadratic(f, g, opt) == ans\n+\n+\n+def test_solve_triangulated():\n     f_1 = x**2 + y + z - 1\n     f_2 = x + y**2 + z - 1\n     f_3 = x + y + z**2 - 1\n",
  "problem_statement": "Poly(x,x,y).free_symbols -> {x, y} instead of just {x}\nNo free symbols of generators that don't appear in the expression of the polynomial should appear in the set of free symbols.\r\n\r\n```\r\ndef free_symbols(poly):\r\n free = set()\r\n for i in range(len(poly.gens)):\r\n    for m in poly.monoms():\r\n        if i in m:\r\n            free |= poly.gens[i].free_symbols\r\n            break\r\n return free | poly.free_symbols_in_domain  # not sure about the domain part....\r\n```\n",
  "hints_text": "```diff\r\ndiff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py\r\nindex 9c12741..92e7ca6 100644\r\n--- a/sympy/polys/polytools.py\r\n+++ b/sympy/polys/polytools.py\r\n@@ -255,7 +255,7 @@ def free_symbols(self):\r\n         ========\r\n \r\n         >>> from sympy import Poly\r\n-        >>> from sympy.abc import x, y\r\n+        >>> from sympy.abc import x, y, z\r\n \r\n         >>> Poly(x**2 + 1).free_symbols\r\n         {x}\r\n@@ -263,12 +263,17 @@ def free_symbols(self):\r\n         {x, y}\r\n         >>> Poly(x**2 + y, x).free_symbols\r\n         {x, y}\r\n+        >>> Poly(x**2 + y, x, z).free_symbols\r\n+        {x, y}\r\n \r\n         \"\"\"\r\n-        symbols = set([])\r\n-\r\n-        for gen in self.gens:\r\n-            symbols |= gen.free_symbols\r\n+        symbols = set()\r\n+        gens = self.gens\r\n+        for i in range(len(gens)):\r\n+            for monom in self.monoms():\r\n+                if monom[i]:\r\n+                    symbols |= gens[i].free_symbols\r\n+                    break\r\n \r\n         return symbols | self.free_symbols_in_domain\r\n \r\ndiff --git a/sympy/polys/tests/test_polytools.py b/sympy/polys/tests/test_polytools.py\r\nindex a1e5179..8e30ef1 100644\r\n--- a/sympy/polys/tests/test_polytools.py\r\n+++ b/sympy/polys/tests/test_polytools.py\r\n@@ -468,6 +468,8 @@ def test_Poly_free_symbols():\r\n     assert Poly(x**2 + sin(y*z)).free_symbols == {x, y, z}\r\n     assert Poly(x**2 + sin(y*z), x).free_symbols == {x, y, z}\r\n     assert Poly(x**2 + sin(y*z), x, domain=EX).free_symbols == {x, y, z}\r\n+    assert Poly(1 + x + x**2, x, y, z).free_symbols == {x}\r\n+    assert Poly(x + sin(y), z).free_symbols == {x, y}\r\n \r\n \r\n def test_PurePoly_free_symbols():\r\n\r\n```",
  "created_at": "2017-07-03T15:25:50Z",
  "version": "1.1",
  "FAIL_TO_PASS": "[\"test_Poly_free_symbols\", \"test_Poly_ltrim\"]",
  "PASS_TO_PASS": "[\"test_GroebnerBasis\", \"test_Poly_EC\", \"test_Poly_EM\", \"test_Poly_ET\", \"test_Poly_LC\", \"test_Poly_LM\", \"test_Poly_LM_custom_order\", \"test_Poly_LT\", \"test_Poly_TC\", \"test_Poly___call__\", \"test_Poly__args\", \"test_Poly__eq__\", \"test_Poly__gen_to_level\", \"test_Poly__gens\", \"test_Poly__new__\", \"test_Poly__unify\", \"test_Poly_abs\", \"test_Poly_add\", \"test_Poly_add_ground\", \"test_Poly_all_coeffs\", \"test_Poly_all_monoms\", \"test_Poly_all_terms\", \"test_Poly_as_dict\", \"test_Poly_as_expr\", \"test_Poly_clear_denoms\", \"test_Poly_coeff\", \"test_Poly_coeffs\", \"test_Poly_deflate\", \"test_Poly_degree\", \"test_Poly_degree_list\", \"test_Poly_diff\", \"test_Poly_divmod\", \"test_Poly_eject\", \"test_Poly_eq_ne\", \"test_Poly_eval\", \"test_Poly_exclude\", \"test_Poly_exquo_ground\", \"test_Poly_from_dict\", \"test_Poly_from_expr\", \"test_Poly_from_list\", \"test_Poly_from_poly\", \"test_Poly_get_domain\", \"test_Poly_get_modulus\", \"test_Poly_has_only_gens\", \"test_Poly_homogeneous_order\", \"test_Poly_homogenize\", \"test_Poly_inject\", \"test_Poly_integrate\", \"test_Poly_is_irreducible\", \"test_Poly_l1_norm\", \"test_Poly_length\", \"test_Poly_lift\", \"test_Poly_max_norm\", \"test_Poly_monoms\", \"test_Poly_mul\", \"test_Poly_mul_ground\", \"test_Poly_neg\", \"test_Poly_nonzero\", \"test_Poly_nth\", \"test_Poly_one\", \"test_Poly_pow\", \"test_Poly_properties\", \"test_Poly_quo_ground\", \"test_Poly_rat_clear_denoms\", \"test_Poly_reorder\", \"test_Poly_replace\", \"test_Poly_retract\", \"test_Poly_root\", \"test_Poly_set_domain\", \"test_Poly_set_modulus\", \"test_Poly_slice\", \"test_Poly_sqr\", \"test_Poly_sub\", \"test_Poly_sub_ground\", \"test_Poly_subs\", \"test_Poly_terms\", \"test_Poly_termwise\", \"test_Poly_to_exact\", \"test_Poly_to_field\", \"test_Poly_to_ring\", \"test_Poly_total_degree\", \"test_Poly_zero\", \"test_PurePoly_Poly\", \"test_PurePoly__eq__\", \"test_PurePoly_free_symbols\", \"test_all_roots\", \"test_compose\", \"test_content\", \"test_count_roots\", \"test_discriminant\", \"test_dispersion\", \"test_div\", \"test_factor_large\", \"test_factor_terms\", \"test_fglm\", \"test_gcd\", \"test_gcd_list\", \"test_gcd_numbers_vs_polys\", \"test_gcdex\", \"test_gff\", \"test_groebner\", \"test_ground_roots\", \"test_intervals\", \"test_is_zero_dimensional\", \"test_issue_11198\", \"test_issue_9585\", \"test_keep_coeff\", \"test_lcm_list\", \"test_monic\", \"test_noncommutative\", \"test_nroots\", \"test_nth_power_roots_poly\", \"test_parallel_poly_from_expr\", \"test_pdiv\", \"test_poly\", \"test_primitive\", \"test_real_roots\", \"test_reduced\", \"test_refine_root\", \"test_resultant\", \"test_revert\", \"test_shift\", \"test_sqf\", \"test_sqf_norm\", \"test_subresultants\", \"test_terms_gcd\", \"test_to_rational_coeffs\", \"test_transform\", \"test_trunc\"]",
  "environment_setup_commit": "ec9e3c0436fbff934fa84e22bf07f1b3ef5bfac3",
  "patch_files": [
    "sympy/polys/polytools.py",
    "sympy/solvers/polysys.py"
  ],
  "test_patch_files": [
    "sympy/polys/tests/test_polytools.py",
    "sympy/solvers/tests/test_polysys.py"
  ],
  "patch_diff_details": {
    "sympy/polys/polytools.py": {
      "diffs": [
        {
          "start_line_old": 258,
          "end_line_old": 258,
          "file_pos": 2,
          "file_context_length": 53076,
          "pos": 25,
          "context_length": 22270
        },
        {
          "start_line_old": 266,
          "end_line_old": 269,
          "file_pos": 2,
          "file_context_length": 53076,
          "pos": 25,
          "context_length": 22270
        },
        {
          "start_line_old": 612,
          "end_line_old": 612,
          "file_pos": 2,
          "file_context_length": 53076,
          "pos": 25,
          "context_length": 22270
        },
        {
          "start_line_old": 622,
          "end_line_old": 626,
          "file_pos": 2,
          "file_context_length": 53076,
          "pos": 25,
          "context_length": 22270
        },
        {
          "start_line_old": 656,
          "end_line_old": 656,
          "file_pos": 2,
          "file_context_length": 53076,
          "pos": 25,
          "context_length": 22270
        }
      ]
    },
    "sympy/solvers/polysys.py": {
      "diffs": [
        {
          "start_line_old": 9,
          "end_line_old": 9,
          "file_pos": 5,
          "file_context_length": 74515,
          "closest_snippet_id": "/tmp/repos/sympy/sympy/solvers/polysys.py_solve_generic_solve_generic._is_univariate.3.1",
          "closest_snippet_line_distance": 92
        },
        {
          "start_line_old": 40,
          "end_line_old": 43,
          "file_pos": 5,
          "file_context_length": 74515,
          "closest_snippet_id": "/tmp/repos/sympy/sympy/solvers/polysys.py_solve_generic_solve_generic._is_univariate.3.1",
          "closest_snippet_line_distance": 61
        },
        {
          "start_line_old": 82,
          "end_line_old": 87,
          "file_pos": 5,
          "file_context_length": 74515,
          "closest_snippet_id": "/tmp/repos/sympy/sympy/solvers/polysys.py_solve_generic_solve_generic._is_univariate.3.1",
          "closest_snippet_line_distance": 19
        },
        {
          "start_line_old": 164,
          "end_line_old": 164,
          "file_pos": 5,
          "file_context_length": 74515,
          "pos": 10,
          "context_length": 11771
        }
      ]
    }
  },
  "vectors": 6955,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/sympy/sympy/solvers/bivariate.py__filtered_gens__filtered_gens.4.1",
      "distance": 0.5969303846359253,
      "file_path": "sympy/solvers/bivariate.py",
      "start_line": 18,
      "end_line": 40,
      "tokens": 195,
      "context_length": 195
    },
    {
      "position": 2,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_Poly.1_Poly.deflate.3.1",
      "distance": 0.8091987371444702,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 64,
      "end_line": 1047,
      "tokens": 6453,
      "context_length": 6648,
      "file_pos": 2
    },
    {
      "position": 3,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_PurePoly_PurePoly.free_symbols.2.1",
      "distance": 0.8096475005149841,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 4121,
      "end_line": 4151,
      "tokens": 171,
      "context_length": 6819,
      "file_pos": 2
    },
    {
      "position": 4,
      "id": "/tmp/repos/sympy/sympy/combinatorics/free_groups.py_xfree_group_xfree_group.3.1",
      "distance": 0.845492959022522,
      "file_path": "sympy/combinatorics/free_groups.py",
      "start_line": 42,
      "end_line": 64,
      "tokens": 201,
      "context_length": 7020
    },
    {
      "position": 5,
      "id": "/tmp/repos/sympy/sympy/polys/polyroots.py_preprocess_roots_preprocess_roots.9.1",
      "distance": 0.8527415990829468,
      "file_path": "sympy/polys/polyroots.py",
      "start_line": 720,
      "end_line": 787,
      "tokens": 394,
      "context_length": 7414
    },
    {
      "position": 6,
      "id": "/tmp/repos/sympy/sympy/combinatorics/free_groups.py__parse_symbols__free_group_cache.1",
      "distance": 0.8589300513267517,
      "file_path": "sympy/combinatorics/free_groups.py",
      "start_line": 92,
      "end_line": 113,
      "tokens": 150,
      "context_length": 7564
    },
    {
      "position": 7,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_Poly.is_zero_Poly._strict_eq.1.1",
      "distance": 0.8603866696357727,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 3663,
      "end_line": 4118,
      "tokens": 2827,
      "context_length": 10391,
      "file_pos": 4
    },
    {
      "position": 8,
      "id": "/tmp/repos/sympy/sympy/combinatorics/free_groups.py_free_group_free_group.3.1",
      "distance": 0.8684595823287964,
      "file_path": "sympy/combinatorics/free_groups.py",
      "start_line": 18,
      "end_line": 40,
      "tokens": 190,
      "context_length": 10581
    },
    {
      "position": 9,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_poly_",
      "distance": 0.87567138671875,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 6879,
      "end_line": 6958,
      "tokens": 453,
      "context_length": 11034,
      "file_pos": 4
    },
    {
      "position": 10,
      "id": "/tmp/repos/sympy/sympy/solvers/polysys.py_solve_generic_solve_generic._is_univariate.3.1",
      "distance": 0.8833857774734497,
      "file_path": "sympy/solvers/polysys.py",
      "start_line": 101,
      "end_line": 167,
      "tokens": 737,
      "context_length": 11771,
      "file_pos": 5
    },
    {
      "position": 11,
      "id": "/tmp/repos/sympy/sympy/combinatorics/free_groups.py_vfree_group_vfree_group.4.1",
      "distance": 0.8849268555641174,
      "file_path": "sympy/combinatorics/free_groups.py",
      "start_line": 66,
      "end_line": 89,
      "tokens": 200,
      "context_length": 11971
    },
    {
      "position": 12,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_PolyElement.set_ring_PolyElement.strip_zero.2.1.1",
      "distance": 0.8852068781852722,
      "file_path": "sympy/polys/rings.py",
      "start_line": 597,
      "end_line": 639,
      "tokens": 364,
      "context_length": 12335
    },
    {
      "position": 13,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_PurePoly._unify_PurePoly._unify.11.1",
      "distance": 0.8886905908584595,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 4180,
      "end_line": 4212,
      "tokens": 277,
      "context_length": 12612,
      "file_pos": 6
    },
    {
      "position": 14,
      "id": "/tmp/repos/sympy/sympy/solvers/solveset.py_57_nonlinsolve",
      "distance": 0.8891323804855347,
      "file_path": "sympy/solvers/solveset.py",
      "start_line": 1917,
      "end_line": 2161,
      "tokens": 236,
      "context_length": 12848
    },
    {
      "position": 15,
      "id": "/tmp/repos/sympy/sympy/polys/polyutils.py__parallel_dict_from_expr_no_gens__parallel_dict_from_expr_no_gens.10.1",
      "distance": 0.8918526768684387,
      "file_path": "sympy/polys/polyutils.py",
      "start_line": 228,
      "end_line": 299,
      "tokens": 437,
      "context_length": 13285
    },
    {
      "position": 16,
      "id": "/tmp/repos/sympy/sympy/polys/polyutils.py__dict_from_expr_if_gens_parallel_dict_from_expr.3.1",
      "distance": 0.8997499942779541,
      "file_path": "sympy/polys/polyutils.py",
      "start_line": 302,
      "end_line": 317,
      "tokens": 150,
      "context_length": 13435
    },
    {
      "position": 17,
      "id": "/tmp/repos/sympy/sympy/polys/polyutils.py__parallel_dict_from_expr_if_gens__parallel_dict_from_expr_if_gens.6.1",
      "distance": 0.9030118584632874,
      "file_path": "sympy/polys/polyutils.py",
      "start_line": 178,
      "end_line": 225,
      "tokens": 300,
      "context_length": 13735
    },
    {
      "position": 18,
      "id": "/tmp/repos/sympy/sympy/combinatorics/free_groups.py_FreeGroup._generators_FreeGroup._generators.4.1",
      "distance": 0.9046456217765808,
      "file_path": "sympy/combinatorics/free_groups.py",
      "start_line": 164,
      "end_line": 180,
      "tokens": 115,
      "context_length": 13850
    },
    {
      "position": 19,
      "id": "/tmp/repos/sympy/sympy/polys/polyroots.py_roots.12_roots._try_decompose.5.1",
      "distance": 0.9052910208702087,
      "file_path": "sympy/polys/polyroots.py",
      "start_line": 863,
      "end_line": 930,
      "tokens": 470,
      "context_length": 14320
    },
    {
      "position": 20,
      "id": "/tmp/repos/sympy/sympy/polys/polyfuncs.py_symmetrize.12_symmetrize.16.2.1.2.1.1",
      "distance": 0.9077658653259277,
      "file_path": "sympy/polys/polyfuncs.py",
      "start_line": 98,
      "end_line": 153,
      "tokens": 417,
      "context_length": 14737
    },
    {
      "position": 21,
      "id": "/tmp/repos/sympy/sympy/polys/agca/modules.py_SubModulePolyRing_SubModulePolyRing.__eq__.2.1",
      "distance": 0.9092095494270325,
      "file_path": "sympy/polys/agca/modules.py",
      "start_line": 1019,
      "end_line": 1051,
      "tokens": 288,
      "context_length": 15025
    },
    {
      "position": 22,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_PurePoly.__eq___PurePoly._strict_eq.1.1",
      "distance": 0.9115390777587891,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 4153,
      "end_line": 4178,
      "tokens": 194,
      "context_length": 15219,
      "file_pos": 10
    },
    {
      "position": 23,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_PolyRing.drop_PolyRing.is_multivariate.1.1",
      "distance": 0.911674976348877,
      "file_path": "sympy/polys/rings.py",
      "start_line": 422,
      "end_line": 460,
      "tokens": 269,
      "context_length": 15488
    },
    {
      "position": 24,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_Poly.inject_Poly.coeff_monomial.2.1",
      "distance": 0.9168217182159424,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 1049,
      "end_line": 1971,
      "tokens": 6359,
      "context_length": 21847,
      "file_pos": 10
    },
    {
      "position": 25,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_1_Poly",
      "distance": 0.9191373586654663,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 1,
      "end_line": 4118,
      "tokens": 423,
      "context_length": 22270,
      "file_pos": 10
    },
    {
      "position": 26,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_PolyElement.is_generator_PolyElement.__pos__.1.1",
      "distance": 0.9192166924476624,
      "file_path": "sympy/polys/rings.py",
      "start_line": 825,
      "end_line": 904,
      "tokens": 515,
      "context_length": 22785
    },
    {
      "position": 27,
      "id": "/tmp/repos/sympy/sympy/polys/domains/old_polynomialring.py_PolynomialRing_",
      "distance": 0.9251436591148376,
      "file_path": "sympy/polys/domains/old_polynomialring.py",
      "start_line": 352,
      "end_line": 432,
      "tokens": 779,
      "context_length": 23564
    },
    {
      "position": 28,
      "id": "/tmp/repos/sympy/sympy/solvers/solveset.py_52__handle_positive_dimensional.10.1",
      "distance": 0.9272297024726868,
      "file_path": "sympy/solvers/solveset.py",
      "start_line": 1876,
      "end_line": 1901,
      "tokens": 202,
      "context_length": 23766
    },
    {
      "position": 29,
      "id": "/tmp/repos/sympy/sympy/polys/polyfuncs.py_symmetrize_symmetrize.result.1",
      "distance": 0.9273923635482788,
      "file_path": "sympy/polys/polyfuncs.py",
      "start_line": 23,
      "end_line": 96,
      "tokens": 634,
      "context_length": 24400
    },
    {
      "position": 30,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_xring_xring.3.1",
      "distance": 0.9281625747680664,
      "file_path": "sympy/polys/rings.py",
      "start_line": 62,
      "end_line": 89,
      "tokens": 239,
      "context_length": 24639
    },
    {
      "position": 31,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_ring_ring.3.1",
      "distance": 0.9299065470695496,
      "file_path": "sympy/polys/rings.py",
      "start_line": 33,
      "end_line": 60,
      "tokens": 233,
      "context_length": 24872
    },
    {
      "position": 32,
      "id": "/tmp/repos/sympy/sympy/polys/sqfreetools.py_dmp_sqf_list_dmp_sqf_list.10.1",
      "distance": 0.9304170608520508,
      "file_path": "sympy/polys/sqfreetools.py",
      "start_line": 358,
      "end_line": 415,
      "tokens": 454,
      "context_length": 25326
    },
    {
      "position": 33,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_PolyRing._gens_PolyRing.term_new.4.1",
      "distance": 0.9313222169876099,
      "file_path": "sympy/polys/rings.py",
      "start_line": 256,
      "end_line": 319,
      "tokens": 436,
      "context_length": 25762
    },
    {
      "position": 34,
      "id": "/tmp/repos/sympy/sympy/polys/subresultants_qq_zz.py_sylvester.18_sign_seq.2.1",
      "distance": 0.9350708723068237,
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "start_line": 283,
      "end_line": 336,
      "tokens": 420,
      "context_length": 26182
    },
    {
      "position": 35,
      "id": "/tmp/repos/sympy/sympy/combinatorics/free_groups.py_1_14",
      "distance": 0.9359580874443054,
      "file_path": "sympy/combinatorics/free_groups.py",
      "start_line": 1,
      "end_line": 15,
      "tokens": 131,
      "context_length": 26313
    },
    {
      "position": 36,
      "id": "/tmp/repos/sympy/sympy/polys/agca/modules.py_FreeModulePolyRing_FreeModulePolyRing.__init__.4.1",
      "distance": 0.9363260865211487,
      "file_path": "sympy/polys/agca/modules.py",
      "start_line": 430,
      "end_line": 455,
      "tokens": 221,
      "context_length": 26534
    },
    {
      "position": 37,
      "id": "/tmp/repos/sympy/sympy/combinatorics/fp_groups.py__simplification_technique_1__simplification_technique_1.12.1",
      "distance": 0.9364612102508545,
      "file_path": "sympy/combinatorics/fp_groups.py",
      "start_line": 713,
      "end_line": 773,
      "tokens": 701,
      "context_length": 27235
    },
    {
      "position": 38,
      "id": "/tmp/repos/sympy/sympy/combinatorics/free_groups.py_FreeGroup.__new___FreeGroup.__new__.6.1",
      "distance": 0.936523973941803,
      "file_path": "sympy/combinatorics/free_groups.py",
      "start_line": 139,
      "end_line": 162,
      "tokens": 207,
      "context_length": 27442
    },
    {
      "position": 39,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_PolyElement.compose_PolyElement.compose.7.1",
      "distance": 0.9369332790374756,
      "file_path": "sympy/polys/rings.py",
      "start_line": 2362,
      "end_line": 2392,
      "tokens": 250,
      "context_length": 27692
    },
    {
      "position": 40,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_PolyRing.drop_to_ground_PolyRing.add_gens.3.1",
      "distance": 0.938386082649231,
      "file_path": "sympy/polys/rings.py",
      "start_line": 516,
      "end_line": 541,
      "tokens": 228,
      "context_length": 27920
    },
    {
      "position": 41,
      "id": "/tmp/repos/sympy/sympy/polys/sqfreetools.py_dmp_sqf_list_include_dmp_sqf_list_include.4.3.2.1",
      "distance": 0.9398745894432068,
      "file_path": "sympy/polys/sqfreetools.py",
      "start_line": 418,
      "end_line": 446,
      "tokens": 265,
      "context_length": 28185
    },
    {
      "position": 42,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_vring_vring.4.1",
      "distance": 0.940252423286438,
      "file_path": "sympy/polys/rings.py",
      "start_line": 91,
      "end_line": 118,
      "tokens": 239,
      "context_length": 28424
    },
    {
      "position": 43,
      "id": "/tmp/repos/sympy/sympy/solvers/solveset.py__solve_as_poly__solve_as_poly.4.4.1.1",
      "distance": 0.9425798058509827,
      "file_path": "sympy/solvers/solveset.py",
      "start_line": 422,
      "end_line": 483,
      "tokens": 594,
      "context_length": 29018
    },
    {
      "position": 44,
      "id": "/tmp/repos/sympy/sympy/combinatorics/free_groups.py_FreeGroup_FreeGroup.is_PermutationGroup.1",
      "distance": 0.9436912536621094,
      "file_path": "sympy/combinatorics/free_groups.py",
      "start_line": 115,
      "end_line": 137,
      "tokens": 139,
      "context_length": 29157
    },
    {
      "position": 45,
      "id": "/tmp/repos/sympy/sympy/polys/polyoptions.py_Domain.postprocess_Domain.postprocess.1.2.1",
      "distance": 0.9448727369308472,
      "file_path": "sympy/polys/polyoptions.py",
      "start_line": 485,
      "end_line": 493,
      "tokens": 131,
      "context_length": 29288
    },
    {
      "position": 46,
      "id": "/tmp/repos/sympy/sympy/polys/rings.py_PolyElement.128_",
      "distance": 0.9450520277023315,
      "file_path": "sympy/polys/rings.py",
      "start_line": 2394,
      "end_line": 2456,
      "tokens": 448,
      "context_length": 29736
    },
    {
      "position": 47,
      "id": "/tmp/repos/sympy/sympy/polys/specialpolys.py_1_15",
      "distance": 0.9456258416175842,
      "file_path": "sympy/polys/specialpolys.py",
      "start_line": 1,
      "end_line": 33,
      "tokens": 223,
      "context_length": 29959
    },
    {
      "position": 48,
      "id": "/tmp/repos/sympy/sympy/polys/polyroots.py_roots.16_roots.30.2.3.1",
      "distance": 0.946041464805603,
      "file_path": "sympy/polys/polyroots.py",
      "start_line": 970,
      "end_line": 1071,
      "tokens": 730,
      "context_length": 30689
    },
    {
      "position": 49,
      "id": "/tmp/repos/sympy/sympy/polys/agca/modules.py_SubModulePolyRing._in_terms_of_generators_SubModulePolyRing._in_terms_of_generators.9.1",
      "distance": 0.9482196569442749,
      "file_path": "sympy/polys/agca/modules.py",
      "start_line": 1119,
      "end_line": 1128,
      "tokens": 168,
      "context_length": 30857
    },
    {
      "position": 50,
      "id": "/tmp/repos/sympy/sympy/geometry/curve.py_Curve.free_symbols_Curve.free_symbols.5.1",
      "distance": 0.9483036994934082,
      "file_path": "sympy/geometry/curve.py",
      "start_line": 145,
      "end_line": 165,
      "tokens": 159,
      "context_length": 31016
    },
    {
      "position": 51,
      "id": "/tmp/repos/sympy/sympy/polys/polytools.py_poly_from_expr_parallel_poly_from_expr.3.1",
      "distance": 0.9520019292831421,
      "file_path": "sympy/polys/polytools.py",
      "start_line": 4215,
      "end_line": 4266,
      "tokens": 342,
      "context_length": 31358,
      "file_pos": 17
    },
    {
      "position": 52,
      "id": "/tmp/repos/sympy/sympy/polys/polyclasses.py_DMP.terms_DMP.eject.3.1",
      "distance": 0.9520270824432373,
      "file_path": "sympy/polys/polyclasses.py",
      "start_line": 297,
      "end_line": 352,
      "tokens": 505,
      "context_length": 31863
    },
    {
      "position": 53,
      "id": "/tmp/repos/sympy/sympy/polys/sqfreetools.py_dup_sqf_list_dup_sqf_list.9.1",
      "distance": 0.9521909356117249,
      "file_path": "sympy/polys/sqfreetools.py",
      "start_line": 273,
      "end_line": 327,
      "tokens": 403,
      "context_length": 32266
    },
    {
      "position": 54,
      "id": "/tmp/repos/sympy/sympy/simplify/trigsimp.py_trigsimp_groebner.107_trigsimp_groebner.107.9.1.1",
      "distance": 0.9526431560516357,
      "file_path": "sympy/simplify/trigsimp.py",
      "start_line": 378,
      "end_line": 422,
      "tokens": 619,
      "context_length": 32885
    }
  ],
  "files": [
    {
      "file_path": "sympy/solvers/bivariate.py",
      "position": 1,
      "tokens": 3965,
      "context_length": 3965
    },
    {
      "file_path": "sympy/polys/polytools.py",
      "position": 2,
      "tokens": 49111,
      "context_length": 53076
    },
    {
      "file_path": "sympy/combinatorics/free_groups.py",
      "position": 3,
      "tokens": 9347,
      "context_length": 62423
    },
    {
      "file_path": "sympy/polys/polyroots.py",
      "position": 4,
      "tokens": 9529,
      "context_length": 71952
    },
    {
      "file_path": "sympy/solvers/polysys.py",
      "position": 5,
      "tokens": 2563,
      "context_length": 74515
    },
    {
      "file_path": "sympy/polys/rings.py",
      "position": 6,
      "tokens": 17559,
      "context_length": 92074
    },
    {
      "file_path": "sympy/solvers/solveset.py",
      "position": 7,
      "tokens": 19482,
      "context_length": 111556
    },
    {
      "file_path": "sympy/polys/polyutils.py",
      "position": 8,
      "tokens": 3369,
      "context_length": 114925
    },
    {
      "file_path": "sympy/polys/polyfuncs.py",
      "position": 9,
      "tokens": 2861,
      "context_length": 117786
    },
    {
      "file_path": "sympy/polys/agca/modules.py",
      "position": 10,
      "tokens": 11583,
      "context_length": 129369
    },
    {
      "file_path": "sympy/polys/domains/old_polynomialring.py",
      "position": 11,
      "tokens": 3842,
      "context_length": 133211
    },
    {
      "file_path": "sympy/polys/sqfreetools.py",
      "position": 12,
      "tokens": 3794,
      "context_length": 137005
    },
    {
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "position": 13,
      "tokens": 23623,
      "context_length": 160628
    },
    {
      "file_path": "sympy/combinatorics/fp_groups.py",
      "position": 14,
      "tokens": 8239,
      "context_length": 168867
    },
    {
      "file_path": "sympy/polys/polyoptions.py",
      "position": 15,
      "tokens": 4698,
      "context_length": 173565
    },
    {
      "file_path": "sympy/polys/specialpolys.py",
      "position": 16,
      "tokens": 4165,
      "context_length": 177730
    },
    {
      "file_path": "sympy/geometry/curve.py",
      "position": 17,
      "tokens": 2175,
      "context_length": 179905
    },
    {
      "file_path": "sympy/polys/polyclasses.py",
      "position": 18,
      "tokens": 14321,
      "context_length": 194226
    },
    {
      "file_path": "sympy/simplify/trigsimp.py",
      "position": 19,
      "tokens": 12062,
      "context_length": 206288
    }
  ]
}