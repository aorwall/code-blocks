{
  "instance_id": "sympy__sympy-13773",
  "model_patch": "diff --git a/sympy/matrices/common.py b/sympy/matrices/common.py\nindex 379a2917aa..eb635349d8 100644\n--- a/sympy/matrices/common.py\n+++ b/sympy/matrices/common.py\n@@ -1973,7 +1973,10 @@ def __div__(self, other):\n \n     @call_highest_priority('__rmatmul__')\n     def __matmul__(self, other):\n-        return self.__mul__(other)\n+        from sympy.matrices.matrices import MatrixBase\n+        if not isinstance(other, MatrixBase):\n+            raise ValueError(\"Scalar operands are not allowed, use '*' instead\")\n+        return self._eval_matrix_mul(other)\n \n     @call_highest_priority('__rmul__')\n     def __mul__(self, other):\n@@ -2068,7 +2071,10 @@ def __radd__(self, other):\n \n     @call_highest_priority('__matmul__')\n     def __rmatmul__(self, other):\n-        return self.__rmul__(other)\n+        from sympy.matrices.matrices import MatrixBase\n+        if not isinstance(other, MatrixBase):\n+            raise ValueError(\"Scalar operands are not allowed, use '*' instead\")\n+        return other.__matmul__(self)\n \n     @call_highest_priority('__mul__')\n     def __rmul__(self, other):\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "sympy/matrices/common.py"
  ],
  "repo": "sympy/sympy",
  "base_commit": "7121bdf1facdd90d05b6994b4c2e5b2865a4638a",
  "patch": "diff --git a/sympy/matrices/common.py b/sympy/matrices/common.py\n--- a/sympy/matrices/common.py\n+++ b/sympy/matrices/common.py\n@@ -1973,6 +1973,10 @@ def __div__(self, other):\n \n     @call_highest_priority('__rmatmul__')\n     def __matmul__(self, other):\n+        other = _matrixify(other)\n+        if not getattr(other, 'is_Matrix', False) and not getattr(other, 'is_MatrixLike', False):\n+            return NotImplemented\n+\n         return self.__mul__(other)\n \n     @call_highest_priority('__rmul__')\n@@ -2066,6 +2070,10 @@ def __radd__(self, other):\n \n     @call_highest_priority('__matmul__')\n     def __rmatmul__(self, other):\n+        other = _matrixify(other)\n+        if not getattr(other, 'is_Matrix', False) and not getattr(other, 'is_MatrixLike', False):\n+            return NotImplemented\n+\n         return self.__rmul__(other)\n \n     @call_highest_priority('__mul__')\n",
  "test_patch": "diff --git a/sympy/matrices/tests/test_commonmatrix.py b/sympy/matrices/tests/test_commonmatrix.py\n--- a/sympy/matrices/tests/test_commonmatrix.py\n+++ b/sympy/matrices/tests/test_commonmatrix.py\n@@ -674,6 +674,30 @@ def test_multiplication():\n         assert c[1, 0] == 3*5\n         assert c[1, 1] == 0\n \n+def test_matmul():\n+    a = Matrix([[1, 2], [3, 4]])\n+\n+    assert a.__matmul__(2) == NotImplemented\n+\n+    assert a.__rmatmul__(2) == NotImplemented\n+\n+    #This is done this way because @ is only supported in Python 3.5+\n+    #To check 2@a case\n+    try:\n+        eval('2 @ a')\n+    except SyntaxError:\n+        pass\n+    except TypeError:  #TypeError is raised in case of NotImplemented is returned\n+        pass\n+\n+    #Check a@2 case\n+    try:\n+        eval('a @ 2')\n+    except SyntaxError:\n+        pass\n+    except TypeError:  #TypeError is raised in case of NotImplemented is returned\n+        pass\n+\n def test_power():\n     raises(NonSquareMatrixError, lambda: Matrix((1, 2))**2)\n \n",
  "problem_statement": "@ (__matmul__) should fail if one argument is not a matrix\n```\r\n>>> A = Matrix([[1, 2], [3, 4]])\r\n>>> B = Matrix([[2, 3], [1, 2]])\r\n>>> A@B\r\nMatrix([\r\n[ 4,  7],\r\n[10, 17]])\r\n>>> 2@B\r\nMatrix([\r\n[4, 6],\r\n[2, 4]])\r\n```\r\n\r\nRight now `@` (`__matmul__`) just copies `__mul__`, but it should actually only work if the multiplication is actually a matrix multiplication. \r\n\r\nThis is also how NumPy works\r\n\r\n```\r\n>>> import numpy as np\r\n>>> a = np.array([[1, 2], [3, 4]])\r\n>>> 2*a\r\narray([[2, 4],\r\n       [6, 8]])\r\n>>> 2@a\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nValueError: Scalar operands are not allowed, use '*' instead\r\n```\n",
  "hints_text": "Note to anyone fixing this: `@`/`__matmul__` only works in Python 3.5+. \nI would like to work on this issue.",
  "created_at": "2017-12-19T10:44:38Z",
  "version": "1.1",
  "FAIL_TO_PASS": "[\"test_matmul\"]",
  "PASS_TO_PASS": "[\"test__MinimalMatrix\", \"test_abs\", \"test_add\", \"test_adjoint\", \"test_adjugate\", \"test_as_real_imag\", \"test_atoms\", \"test_charpoly\", \"test_cofactor_and_minors\", \"test_col_insert\", \"test_col_join\", \"test_col_op\", \"test_columnspace\", \"test_conjugate\", \"test_det\", \"test_diag\", \"test_diagonal_symmetrical\", \"test_doit\", \"test_echelon_form\", \"test_eigenvals\", \"test_evalf\", \"test_expand\", \"test_extract\", \"test_eye\", \"test_free_symbols\", \"test_get_diag_blocks1\", \"test_get_diag_blocks2\", \"test_has\", \"test_hstack\", \"test_integrate\", \"test_is_Identity\", \"test_is_anti_symmetric\", \"test_is_echelon\", \"test_is_hermitian\", \"test_is_hessenberg\", \"test_is_lower\", \"test_is_square\", \"test_is_symbolic\", \"test_is_symmetric\", \"test_is_upper\", \"test_is_zero\", \"test_jordan_block\", \"test_neg\", \"test_nullspace\", \"test_ones\", \"test_permute\", \"test_power\", \"test_replace\", \"test_replace_map\", \"test_reshape\", \"test_row_col\", \"test_row_col_del\", \"test_row_insert\", \"test_row_join\", \"test_row_op\", \"test_rowspace\", \"test_rref\", \"test_shape\", \"test_simplify\", \"test_singular_values\", \"test_sub\", \"test_subs\", \"test_tolist\", \"test_trace\", \"test_values\", \"test_vec\", \"test_vstack\", \"test_xreplace\", \"test_zeros\"]",
  "environment_setup_commit": "ec9e3c0436fbff934fa84e22bf07f1b3ef5bfac3",
  "patch_files": [
    "sympy/matrices/common.py"
  ],
  "test_patch_files": [
    "sympy/matrices/tests/test_commonmatrix.py"
  ],
  "patch_diff_details": {
    "sympy/matrices/common.py": {
      "diffs": [
        {
          "start_line_old": 1976,
          "end_line_old": 1976,
          "file_pos": 1,
          "file_context_length": 17221,
          "closest_snippet_id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic._eval_matrix_mul_elementwise_MatrixArithmetic.__abs__.2.1",
          "closest_snippet_line_distance": 32,
          "pos": 22,
          "context_length": 19053
        },
        {
          "start_line_old": 2069,
          "end_line_old": 2069,
          "file_pos": 1,
          "file_context_length": 17221,
          "closest_snippet_id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic.__rsub___MatrixCommon._diff_wrt.1",
          "closest_snippet_line_distance": 29,
          "pos": 2,
          "context_length": 602
        }
      ]
    }
  },
  "vectors": 8033,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic.__rsub___MatrixCommon._diff_wrt.1",
      "distance": 0.8321110010147095,
      "file_path": "sympy/matrices/common.py",
      "start_line": 2098,
      "end_line": 2141,
      "tokens": 328,
      "context_length": 328,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic.__radd___MatrixArithmetic.__rmul__.11.1",
      "distance": 0.904447078704834,
      "file_path": "sympy/matrices/common.py",
      "start_line": 2065,
      "end_line": 2096,
      "tokens": 274,
      "context_length": 602,
      "file_pos": 1
    },
    {
      "position": 3,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic.__mul___MatrixArithmetic.__mul__.12.1",
      "distance": 0.9140621423721313,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1978,
      "end_line": 2028,
      "tokens": 423,
      "context_length": 1025,
      "file_pos": 1
    },
    {
      "position": 4,
      "id": "/tmp/repos/sympy/sympy/matrices/matrices.py_MatrixCalculus.jacobian_MatrixBase.dot.6.3.1",
      "distance": 0.9145413637161255,
      "file_path": "sympy/matrices/matrices.py",
      "start_line": 1596,
      "end_line": 2419,
      "tokens": 6191,
      "context_length": 7216
    },
    {
      "position": 5,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic.__neg___MatrixArithmetic.__pow__.2.4.1",
      "distance": 0.9162786602973938,
      "file_path": "sympy/matrices/common.py",
      "start_line": 2030,
      "end_line": 2063,
      "tokens": 299,
      "context_length": 7515,
      "file_pos": 2
    },
    {
      "position": 6,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic_MatrixArithmetic._eval_matrix_mul.2.1",
      "distance": 0.9335463047027588,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1889,
      "end_line": 1917,
      "tokens": 288,
      "context_length": 7803,
      "file_pos": 2
    },
    {
      "position": 7,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_MatMul.as_coeff_matrices_MatMul.args_cnc.5.1",
      "distance": 0.938866376876831,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 78,
      "end_line": 133,
      "tokens": 467,
      "context_length": 8270
    },
    {
      "position": 8,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_matrix_multiply_elementwise_ones.4.1",
      "distance": 0.9399426579475403,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 1303,
      "end_line": 1343,
      "tokens": 293,
      "context_length": 8563
    },
    {
      "position": 9,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_MutableSparseMatrix.col_join_MutableSparseMatrix.col_join.9.1",
      "distance": 0.951930046081543,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 949,
      "end_line": 1009,
      "tokens": 468,
      "context_length": 9031
    },
    {
      "position": 10,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_MatMul_MatMul.shape.2.1",
      "distance": 0.9550825953483582,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 15,
      "end_line": 46,
      "tokens": 224,
      "context_length": 9255
    },
    {
      "position": 11,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic._eval_matrix_mul_elementwise_MatrixArithmetic.__abs__.2.1",
      "distance": 0.9638016223907471,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1919,
      "end_line": 1944,
      "tokens": 259,
      "context_length": 9514,
      "file_pos": 5
    },
    {
      "position": 12,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_MutableSparseMatrix.row_join_MutableSparseMatrix.row_join.9.1",
      "distance": 0.9643779993057251,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 1161,
      "end_line": 1217,
      "tokens": 507,
      "context_length": 10021
    },
    {
      "position": 13,
      "id": "/tmp/repos/sympy/sympy/matrices/matrices.py_MatrixBase.LUdecompositionFF_a2idx.4.1",
      "distance": 0.9771106839179993,
      "file_path": "sympy/matrices/matrices.py",
      "start_line": 3255,
      "end_line": 4046,
      "tokens": 6362,
      "context_length": 16383
    },
    {
      "position": 14,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matadd.py_validate_combine.1.2.1.1",
      "distance": 0.9775925278663635,
      "file_path": "sympy/matrices/expressions/matadd.py",
      "start_line": 65,
      "end_line": 80,
      "tokens": 125,
      "context_length": 16508
    },
    {
      "position": 15,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_MatMul._entry_MatMul._entry.16.1",
      "distance": 0.9892829060554504,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 48,
      "end_line": 76,
      "tokens": 316,
      "context_length": 16824
    },
    {
      "position": 16,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_merge_explicit_merge_explicit.7.1",
      "distance": 0.9919556379318237,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 158,
      "end_line": 198,
      "tokens": 380,
      "context_length": 17204
    },
    {
      "position": 17,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixExpr.__array___MatrixExpr.as_coeff_mmul.1.1",
      "distance": 1.0010874271392822,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 365,
      "end_line": 388,
      "tokens": 150,
      "context_length": 17354
    },
    {
      "position": 18,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_validate_any_zeros.2.1",
      "distance": 1.0065135955810547,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 136,
      "end_line": 156,
      "tokens": 169,
      "context_length": 17523
    },
    {
      "position": 19,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/dotproduct.py_1_DotProduct.1",
      "distance": 1.0077451467514038,
      "file_path": "sympy/matrices/expressions/dotproduct.py",
      "start_line": 1,
      "end_line": 27,
      "tokens": 251,
      "context_length": 17774
    },
    {
      "position": 20,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixExpr.__rpow___MatrixExpr._eval_adjoint.2.1",
      "distance": 1.0079882144927979,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 142,
      "end_line": 202,
      "tokens": 443,
      "context_length": 18217
    },
    {
      "position": 21,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_DenseMatrix._eval_matrix_mul_DenseMatrix._eval_diff.1.2.1.1",
      "distance": 1.01572585105896,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 163,
      "end_line": 206,
      "tokens": 531,
      "context_length": 18748
    },
    {
      "position": 22,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixArithmetic.__add___MatrixArithmetic.__matmul__.1.1",
      "distance": 1.0196049213409424,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1946,
      "end_line": 1976,
      "tokens": 305,
      "context_length": 19053,
      "file_pos": 8
    },
    {
      "position": 23,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations_MatrixOperations.adjoint.2.1",
      "distance": 1.0282588005065918,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1479,
      "end_line": 1524,
      "tokens": 326,
      "context_length": 19379,
      "file_pos": 8
    },
    {
      "position": 24,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixExpr_MatrixExpr.__pow__.2.1",
      "distance": 1.029693603515625,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 33,
      "end_line": 140,
      "tokens": 794,
      "context_length": 20173
    },
    {
      "position": 25,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_SparseMatrix._eval_matrix_mul_SparseMatrix._eval_matrix_mul.11.1",
      "distance": 1.0310468673706055,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 345,
      "end_line": 368,
      "tokens": 245,
      "context_length": 20418
    },
    {
      "position": 26,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/hadamard.py_1_hadamard_product.4.2.1.1",
      "distance": 1.032454252243042,
      "file_path": "sympy/matrices/expressions/hadamard.py",
      "start_line": 1,
      "end_line": 31,
      "tokens": 245,
      "context_length": 20663
    },
    {
      "position": 27,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_1_NonSquareMatrixError.1",
      "distance": 1.0326905250549316,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1,
      "end_line": 40,
      "tokens": 238,
      "context_length": 20901,
      "file_pos": 9
    },
    {
      "position": 28,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/dotproduct.py_DotProduct.__new___DotProduct.__new__.7.1",
      "distance": 1.0331960916519165,
      "file_path": "sympy/matrices/expressions/dotproduct.py",
      "start_line": 29,
      "end_line": 44,
      "tokens": 173,
      "context_length": 21074
    },
    {
      "position": 29,
      "id": "/tmp/repos/sympy/sympy/physics/optics/gaussopt.py_RayTransferMatrix.A_RayTransferMatrix.D.2.1",
      "distance": 1.0352345705032349,
      "file_path": "sympy/physics/optics/gaussopt.py",
      "start_line": 139,
      "end_line": 197,
      "tokens": 318,
      "context_length": 21392
    },
    {
      "position": 30,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py__matrixify_a2idx.4.1",
      "distance": 1.0360324382781982,
      "file_path": "sympy/matrices/common.py",
      "start_line": 2265,
      "end_line": 2289,
      "tokens": 198,
      "context_length": 21590,
      "file_pos": 10
    },
    {
      "position": 31,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_classof_",
      "distance": 1.0380393266677856,
      "file_path": "sympy/matrices/common.py",
      "start_line": 2292,
      "end_line": 2324,
      "tokens": 234,
      "context_length": 21824,
      "file_pos": 10
    },
    {
      "position": 32,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/blockmatrix.py_bc_matmul_bc_matmul.4.1",
      "distance": 1.0408941507339478,
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "start_line": 345,
      "end_line": 362,
      "tokens": 158,
      "context_length": 21982
    },
    {
      "position": 33,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_refine_MatMul_",
      "distance": 1.0521126985549927,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 261,
      "end_line": 296,
      "tokens": 229,
      "context_length": 22211
    },
    {
      "position": 34,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_SparseMatrix.__eq___SparseMatrix.__getitem__.5.1",
      "distance": 1.0548986196517944,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 93,
      "end_line": 148,
      "tokens": 465,
      "context_length": 22676
    },
    {
      "position": 35,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_1_9",
      "distance": 1.0569837093353271,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 1,
      "end_line": 12,
      "tokens": 115,
      "context_length": 22791
    },
    {
      "position": 36,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_DenseMatrix._eval_scalar_mul_DenseMatrix._eval_tolist.3.1",
      "distance": 1.0625426769256592,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 271,
      "end_line": 282,
      "tokens": 130,
      "context_length": 22921
    },
    {
      "position": 37,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/hadamard.py_HadamardProduct_",
      "distance": 1.0626274347305298,
      "file_path": "sympy/matrices/expressions/hadamard.py",
      "start_line": 34,
      "end_line": 84,
      "tokens": 396,
      "context_length": 23317
    },
    {
      "position": 38,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixExpr.from_index_summation_MatrixExpr.from_index_summation.3",
      "distance": 1.0635371208190918,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 390,
      "end_line": 433,
      "tokens": 415,
      "context_length": 23732
    },
    {
      "position": 39,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matadd.py_merge_explicit_",
      "distance": 1.065950870513916,
      "file_path": "sympy/matrices/expressions/matadd.py",
      "start_line": 83,
      "end_line": 117,
      "tokens": 297,
      "context_length": 24029
    },
    {
      "position": 40,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/blockmatrix.py_BlockMatrix_BlockMatrix._eval_determinant.2.1",
      "distance": 1.0669513940811157,
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "start_line": 21,
      "end_line": 126,
      "tokens": 821,
      "context_length": 24850
    },
    {
      "position": 41,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations.T_MatrixOperations._eval_trigsimp.2.1",
      "distance": 1.07194983959198,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1859,
      "end_line": 1886,
      "tokens": 221,
      "context_length": 25071,
      "file_pos": 11
    },
    {
      "position": 42,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matpow.py_1_MatPow._entry.3.1",
      "distance": 1.0742403268814087,
      "file_path": "sympy/matrices/expressions/matpow.py",
      "start_line": 1,
      "end_line": 49,
      "tokens": 411,
      "context_length": 25482
    },
    {
      "position": 43,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixSymbol_MatrixSymbol._eval_simplify.1.1",
      "distance": 1.075453519821167,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 632,
      "end_line": 688,
      "tokens": 422,
      "context_length": 25904
    },
    {
      "position": 44,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/dotproduct.py_DotProduct.doit_",
      "distance": 1.0769997835159302,
      "file_path": "sympy/matrices/expressions/dotproduct.py",
      "start_line": 46,
      "end_line": 59,
      "tokens": 131,
      "context_length": 26035
    },
    {
      "position": 45,
      "id": "/tmp/repos/sympy/sympy/matrices/densearith.py_mulmatmat_mulmatmat.5.1",
      "distance": 1.0779393911361694,
      "file_path": "sympy/matrices/densearith.py",
      "start_line": 149,
      "end_line": 184,
      "tokens": 298,
      "context_length": 26333
    },
    {
      "position": 46,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/funcmatrix.py_1_",
      "distance": 1.0781290531158447,
      "file_path": "sympy/matrices/expressions/funcmatrix.py",
      "start_line": 1,
      "end_line": 52,
      "tokens": 387,
      "context_length": 26720
    },
    {
      "position": 47,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixRequired_MatrixRequired.__len__.2",
      "distance": 1.0786324739456177,
      "file_path": "sympy/matrices/common.py",
      "start_line": 43,
      "end_line": 70,
      "tokens": 245,
      "context_length": 26965,
      "file_pos": 14
    },
    {
      "position": 48,
      "id": "/tmp/repos/sympy/sympy/tensor/array/__init__.py_1_",
      "distance": 1.083603858947754,
      "file_path": "sympy/tensor/array/__init__.py",
      "start_line": 1,
      "end_line": 209,
      "tokens": 2238,
      "context_length": 29203
    },
    {
      "position": 49,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_SparseMatrix._eval_row_insert_SparseMatrix._eval_scalar_rmul.1.1",
      "distance": 1.083816409111023,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 370,
      "end_line": 390,
      "tokens": 197,
      "context_length": 29400
    },
    {
      "position": 50,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations.applyfunc_MatrixOperations.as_real_imag.2.1",
      "distance": 1.0859699249267578,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1526,
      "end_line": 1551,
      "tokens": 171,
      "context_length": 29571,
      "file_pos": 15
    },
    {
      "position": 51,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixElement_MatrixElement.doit.3.1",
      "distance": 1.0867605209350586,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 579,
      "end_line": 603,
      "tokens": 215,
      "context_length": 29786
    },
    {
      "position": 52,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matpow.py_MatPow.doit_",
      "distance": 1.0878863334655762,
      "file_path": "sympy/matrices/expressions/matpow.py",
      "start_line": 51,
      "end_line": 79,
      "tokens": 242,
      "context_length": 30028
    },
    {
      "position": 53,
      "id": "/tmp/repos/sympy/sympy/tensor/array/arrayop.py_itertools_tensorproduct.11.1",
      "distance": 1.0906277894973755,
      "file_path": "sympy/tensor/array/arrayop.py",
      "start_line": 1,
      "end_line": 64,
      "tokens": 658,
      "context_length": 30686
    },
    {
      "position": 54,
      "id": "/tmp/repos/sympy/sympy/matrices/__init__.py_1_",
      "distance": 1.0910063982009888,
      "file_path": "sympy/matrices/__init__.py",
      "start_line": 1,
      "end_line": 28,
      "tokens": 253,
      "context_length": 30939
    },
    {
      "position": 55,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/tensorproduct.py_TensorProduct_TensorProduct.is_commutative.1",
      "distance": 1.0912530422210693,
      "file_path": "sympy/physics/quantum/tensorproduct.py",
      "start_line": 49,
      "end_line": 117,
      "tokens": 560,
      "context_length": 31499
    },
    {
      "position": 56,
      "id": "/tmp/repos/sympy/sympy/polys/monomials.py_monomial_mul_monomial_mul.2.1",
      "distance": 1.093794345855713,
      "file_path": "sympy/polys/monomials.py",
      "start_line": 101,
      "end_line": 115,
      "tokens": 120,
      "context_length": 31619
    },
    {
      "position": 57,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_factor_in_front_23",
      "distance": 1.0967912673950195,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 233,
      "end_line": 258,
      "tokens": 212,
      "context_length": 31831
    },
    {
      "position": 58,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixExpr.__getitem___MatrixExpr.__getitem__.3",
      "distance": 1.0990691184997559,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 276,
      "end_line": 309,
      "tokens": 355,
      "context_length": 32186
    },
    {
      "position": 59,
      "id": "/tmp/repos/sympy/sympy/polys/polymatrix.py_MutablePolyDenseMatrix._eval_scalar_mul_",
      "distance": 1.1013150215148926,
      "file_path": "sympy/polys/polymatrix.py",
      "start_line": 77,
      "end_line": 87,
      "tokens": 143,
      "context_length": 32329
    },
    {
      "position": 60,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/transpose.py_1_Transpose._eval_determinant.2.1",
      "distance": 1.1013367176055908,
      "file_path": "sympy/matrices/expressions/transpose.py",
      "start_line": 1,
      "end_line": 71,
      "tokens": 448,
      "context_length": 32777
    },
    {
      "position": 61,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py__MinimalMatrix.__getitem____MinimalMatrix.shape.1.1",
      "distance": 1.1029515266418457,
      "file_path": "sympy/matrices/common.py",
      "start_line": 2189,
      "end_line": 2240,
      "tokens": 443,
      "context_length": 33220,
      "file_pos": 21
    },
    {
      "position": 62,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixExpr.from_index_summation.recurse_expr_MatrixExpr.from_index_summation.10.3.1.1",
      "distance": 1.1045095920562744,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 461,
      "end_line": 576,
      "tokens": 1155,
      "context_length": 34375
    },
    {
      "position": 63,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations.transpose_MatrixOperations.transpose.2.1",
      "distance": 1.1100847721099854,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1824,
      "end_line": 1857,
      "tokens": 198,
      "context_length": 34573,
      "file_pos": 21
    },
    {
      "position": 64,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations.doit_MatrixOperations.expand.2.1",
      "distance": 1.112080454826355,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1582,
      "end_line": 1606,
      "tokens": 221,
      "context_length": 34794,
      "file_pos": 21
    },
    {
      "position": 65,
      "id": "/tmp/repos/sympy/sympy/combinatorics/permutations.py_1__af_rmul.2.1",
      "distance": 1.1128321886062622,
      "file_path": "sympy/combinatorics/permutations.py",
      "start_line": 1,
      "end_line": 45,
      "tokens": 341,
      "context_length": 35135
    },
    {
      "position": 66,
      "id": "/tmp/repos/sympy/sympy/core/mul.py_Mul_Mul.flatten.1",
      "distance": 1.1164414882659912,
      "file_path": "sympy/core/mul.py",
      "start_line": 91,
      "end_line": 174,
      "tokens": 913,
      "context_length": 36048
    },
    {
      "position": 67,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py__force_mutable_MutableDenseMatrix._new.4.8.1",
      "distance": 1.1193230152130127,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 395,
      "end_line": 429,
      "tokens": 300,
      "context_length": 36348
    },
    {
      "position": 68,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations.subs_MatrixOperations.trace.3.1",
      "distance": 1.1217200756072998,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1789,
      "end_line": 1822,
      "tokens": 235,
      "context_length": 36583,
      "file_pos": 23
    },
    {
      "position": 69,
      "id": "/tmp/repos/sympy/sympy/matrices/matrices.py_MatrixReductions.elementary_col_op_MatrixReductions.is_echelon.2.1",
      "distance": 1.1221050024032593,
      "file_path": "sympy/matrices/matrices.py",
      "start_line": 726,
      "end_line": 792,
      "tokens": 700,
      "context_length": 37283
    },
    {
      "position": 70,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_MutableSparseMatrix.copyin_matrix_MutableSparseMatrix.copyin_matrix.2",
      "distance": 1.123001217842102,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 1070,
      "end_line": 1094,
      "tokens": 292,
      "context_length": 37575
    },
    {
      "position": 71,
      "id": "/tmp/repos/sympy/sympy/polys/polymatrix.py_MutablePolyDenseMatrix._eval_matrix_mul_MutablePolyDenseMatrix._eval_matrix_mul.8.1",
      "distance": 1.124634027481079,
      "file_path": "sympy/polys/polymatrix.py",
      "start_line": 55,
      "end_line": 75,
      "tokens": 236,
      "context_length": 37811
    },
    {
      "position": 72,
      "id": "/tmp/repos/sympy/sympy/matrices/densearith.py_mulmatscaler_mulmatscaler.2.1",
      "distance": 1.1250594854354858,
      "file_path": "sympy/matrices/densearith.py",
      "start_line": 187,
      "end_line": 209,
      "tokens": 196,
      "context_length": 38007
    },
    {
      "position": 73,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/blockmatrix.py_bc_block_plus_ident_bc_dist.4.1",
      "distance": 1.1253366470336914,
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "start_line": 321,
      "end_line": 342,
      "tokens": 217,
      "context_length": 38224
    },
    {
      "position": 74,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixShaping.col_join_MatrixShaping.col.2.1",
      "distance": 1.1272327899932861,
      "file_path": "sympy/matrices/common.py",
      "start_line": 220,
      "end_line": 273,
      "tokens": 308,
      "context_length": 38532,
      "file_pos": 23
    },
    {
      "position": 75,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixShaping.hstack_MatrixShaping.hstack.4.1",
      "distance": 1.1288983821868896,
      "file_path": "sympy/matrices/common.py",
      "start_line": 363,
      "end_line": 381,
      "tokens": 142,
      "context_length": 38674,
      "file_pos": 23
    },
    {
      "position": 76,
      "id": "/tmp/repos/sympy/sympy/core/mul.py_Mul.flatten.38_Mul.flatten.38.2.3.12.3.13.4.2",
      "distance": 1.1291577816009521,
      "file_path": "sympy/core/mul.py",
      "start_line": 235,
      "end_line": 364,
      "tokens": 964,
      "context_length": 39638
    },
    {
      "position": 77,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixExpr.from_index_summation.remove_matelement_MatrixExpr.from_index_summation.remove_matelement",
      "distance": 1.1303664445877075,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 435,
      "end_line": 459,
      "tokens": 237,
      "context_length": 39875
    },
    {
      "position": 78,
      "id": "/tmp/repos/sympy/sympy/assumptions/handlers/matrices.py_BM_elements_MatMul_elements.3.1",
      "distance": 1.1323261260986328,
      "file_path": "sympy/assumptions/handlers/matrices.py",
      "start_line": 430,
      "end_line": 443,
      "tokens": 133,
      "context_length": 40008
    },
    {
      "position": 79,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/inverse.py_1_Inverse.doit.1.2.1.1",
      "distance": 1.1335439682006836,
      "file_path": "sympy/matrices/expressions/inverse.py",
      "start_line": 1,
      "end_line": 64,
      "tokens": 411,
      "context_length": 40419
    },
    {
      "position": 80,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations.permute_cols_MatrixOperations.permute_rows.2.1",
      "distance": 1.1342061758041382,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1713,
      "end_line": 1731,
      "tokens": 132,
      "context_length": 40551,
      "file_pos": 25
    },
    {
      "position": 81,
      "id": "/tmp/repos/sympy/sympy/matrices/densearith.py_mulrowcol_",
      "distance": 1.1344959735870361,
      "file_path": "sympy/matrices/densearith.py",
      "start_line": 229,
      "end_line": 254,
      "tokens": 181,
      "context_length": 40732
    },
    {
      "position": 82,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixShaping._eval_row_del_MatrixShaping.col_del.4.1",
      "distance": 1.1346707344055176,
      "file_path": "sympy/matrices/common.py",
      "start_line": 138,
      "end_line": 180,
      "tokens": 341,
      "context_length": 41073,
      "file_pos": 25
    },
    {
      "position": 83,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixSpecial.diag.size_MatrixSpecial.diag.15.1",
      "distance": 1.135507583618164,
      "file_path": "sympy/matrices/common.py",
      "start_line": 729,
      "end_line": 759,
      "tokens": 337,
      "context_length": 41410,
      "file_pos": 25
    },
    {
      "position": 84,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_SparseMatrix.__new___SparseMatrix.__new__.5.1",
      "distance": 1.1397440433502197,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 42,
      "end_line": 91,
      "tokens": 457,
      "context_length": 41867
    },
    {
      "position": 85,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixShaping._eval_get_diag_blocks_MatrixShaping._eval_get_diag_blocks.4.1",
      "distance": 1.1409648656845093,
      "file_path": "sympy/matrices/common.py",
      "start_line": 112,
      "end_line": 136,
      "tokens": 175,
      "context_length": 42042,
      "file_pos": 25
    },
    {
      "position": 86,
      "id": "/tmp/repos/sympy/sympy/matrices/matrices.py_MatrixBase.dual_MatrixBase.exp.10.1",
      "distance": 1.1415143013000488,
      "file_path": "sympy/matrices/matrices.py",
      "start_line": 2421,
      "end_line": 2497,
      "tokens": 670,
      "context_length": 42712
    },
    {
      "position": 87,
      "id": "/tmp/repos/sympy/sympy/physics/secondquant.py_Commutator_Commutator.is_commutative.1",
      "distance": 1.1417808532714844,
      "file_path": "sympy/physics/secondquant.py",
      "start_line": 1592,
      "end_line": 1634,
      "tokens": 349,
      "context_length": 43061
    },
    {
      "position": 88,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixShaping.row_join_MatrixShaping.row_join.5.1",
      "distance": 1.141819953918457,
      "file_path": "sympy/matrices/common.py",
      "start_line": 457,
      "end_line": 485,
      "tokens": 218,
      "context_length": 43279,
      "file_pos": 26
    },
    {
      "position": 89,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixShaping_MatrixShaping._eval_extract.4.1",
      "distance": 1.1423931121826172,
      "file_path": "sympy/matrices/common.py",
      "start_line": 73,
      "end_line": 110,
      "tokens": 308,
      "context_length": 43587,
      "file_pos": 26
    },
    {
      "position": 90,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_1_collections",
      "distance": 1.142505168914795,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 1,
      "end_line": 17,
      "tokens": 117,
      "context_length": 43704
    },
    {
      "position": 91,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py__MatrixWrapper__MatrixWrapper.__getitem__.1.1",
      "distance": 1.1429178714752197,
      "file_path": "sympy/matrices/common.py",
      "start_line": 2243,
      "end_line": 2262,
      "tokens": 170,
      "context_length": 43874,
      "file_pos": 26
    },
    {
      "position": 92,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_SparseMatrix._eval_Abs_SparseMatrix._eval_add.6.1",
      "distance": 1.143852710723877,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 254,
      "end_line": 269,
      "tokens": 159,
      "context_length": 44033
    },
    {
      "position": 93,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/blockmatrix.py_BlockMatrix._entry_BlockMatrix.equals.3.1",
      "distance": 1.1447482109069824,
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "start_line": 160,
      "end_line": 195,
      "tokens": 282,
      "context_length": 44315
    },
    {
      "position": 94,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_DenseMatrix.equals_DenseMatrix.equals.2.5.1.1",
      "distance": 1.14475679397583,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 350,
      "end_line": 392,
      "tokens": 313,
      "context_length": 44628
    },
    {
      "position": 95,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/blockmatrix.py_1_17",
      "distance": 1.1452935934066772,
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "start_line": 1,
      "end_line": 19,
      "tokens": 206,
      "context_length": 44834
    },
    {
      "position": 96,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_SparseMatrix.cholesky_SparseMatrix.cholesky.6.1",
      "distance": 1.1471903324127197,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 556,
      "end_line": 586,
      "tokens": 259,
      "context_length": 45093
    },
    {
      "position": 97,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_MutableDenseMatrix.col_op_MutableDenseMatrix.col_op.2",
      "distance": 1.14727783203125,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 507,
      "end_line": 527,
      "tokens": 182,
      "context_length": 45275
    },
    {
      "position": 98,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_MutableDenseMatrix.row_op_MutableDenseMatrix.row_op.4",
      "distance": 1.1480085849761963,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 680,
      "end_line": 704,
      "tokens": 215,
      "context_length": 45490
    },
    {
      "position": 99,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_xxinv_xxinv.4.1",
      "distance": 1.148782730102539,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 200,
      "end_line": 211,
      "tokens": 116,
      "context_length": 45606
    },
    {
      "position": 100,
      "id": "/tmp/repos/sympy/sympy/codegen/ast.py_Assignment.__new___Assignment.__new__.15.1",
      "distance": 1.150294303894043,
      "file_path": "sympy/codegen/ast.py",
      "start_line": 114,
      "end_line": 137,
      "tokens": 309,
      "context_length": 45915
    },
    {
      "position": 101,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_MutableDenseMatrix.__setitem___MutableDenseMatrix.__setitem__.3.2",
      "distance": 1.1511592864990234,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 431,
      "end_line": 474,
      "tokens": 377,
      "context_length": 46292
    },
    {
      "position": 102,
      "id": "/tmp/repos/sympy/sympy/physics/optics/gaussopt.py_RayTransferMatrix.__mul___RayTransferMatrix.__mul__.1.4.1.1",
      "distance": 1.1513793468475342,
      "file_path": "sympy/physics/optics/gaussopt.py",
      "start_line": 125,
      "end_line": 137,
      "tokens": 134,
      "context_length": 46426
    },
    {
      "position": 103,
      "id": "/tmp/repos/sympy/sympy/matrices/immutable.py_ImmutableDenseMatrix._new_ImmutableDenseMatrix._new.6.1",
      "distance": 1.1514196395874023,
      "file_path": "sympy/matrices/immutable.py",
      "start_line": 46,
      "end_line": 62,
      "tokens": 185,
      "context_length": 46611
    },
    {
      "position": 104,
      "id": "/tmp/repos/sympy/sympy/matrices/immutable.py_ImmutableDenseMatrix._mat_ImmutableDenseMatrix._eval_Eq.5.1",
      "distance": 1.1521010398864746,
      "file_path": "sympy/matrices/immutable.py",
      "start_line": 64,
      "end_line": 93,
      "tokens": 267,
      "context_length": 46878
    },
    {
      "position": 105,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matadd.py_MatAdd_MatAdd.doit.3.1",
      "distance": 1.152681827545166,
      "file_path": "sympy/matrices/expressions/matadd.py",
      "start_line": 16,
      "end_line": 62,
      "tokens": 360,
      "context_length": 47238
    },
    {
      "position": 106,
      "id": "/tmp/repos/sympy/sympy/polys/agca/homomorphisms.py_MatrixHomomorphism_MatrixHomomorphism._compose.1.1",
      "distance": 1.1539454460144043,
      "file_path": "sympy/polys/agca/homomorphisms.py",
      "start_line": 418,
      "end_line": 508,
      "tokens": 846,
      "context_length": 48084
    },
    {
      "position": 107,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matadd.py_1_11",
      "distance": 1.1546201705932617,
      "file_path": "sympy/matrices/expressions/matadd.py",
      "start_line": 1,
      "end_line": 14,
      "tokens": 131,
      "context_length": 48215
    },
    {
      "position": 108,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_SparseMatrix._eval_col_insert_SparseMatrix._eval_conjugate.2.1",
      "distance": 1.1551580429077148,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 271,
      "end_line": 289,
      "tokens": 198,
      "context_length": 48413
    },
    {
      "position": 109,
      "id": "/tmp/repos/sympy/sympy/matrices/immutable.py_ImmutableDenseMatrix._eval_extract_ImmutableMatrix.1",
      "distance": 1.1562848091125488,
      "file_path": "sympy/matrices/immutable.py",
      "start_line": 95,
      "end_line": 123,
      "tokens": 272,
      "context_length": 48685
    },
    {
      "position": 110,
      "id": "/tmp/repos/sympy/sympy/core/mul.py_Mul.flatten.2_Mul.flatten.37",
      "distance": 1.1563811302185059,
      "file_path": "sympy/core/mul.py",
      "start_line": 176,
      "end_line": 234,
      "tokens": 536,
      "context_length": 49221
    },
    {
      "position": 111,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_Identity_Identity._eval_determinant.1.1",
      "distance": 1.1581310033798218,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 690,
      "end_line": 738,
      "tokens": 261,
      "context_length": 49482
    },
    {
      "position": 112,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matexpr.py_MatrixExpr._entry_MatrixExpr.valid_index.2.1",
      "distance": 1.1591593027114868,
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "start_line": 241,
      "end_line": 274,
      "tokens": 249,
      "context_length": 49731
    },
    {
      "position": 113,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/matrixutils.py_1_sympy_to_numpy.5",
      "distance": 1.1592068672180176,
      "file_path": "sympy/physics/quantum/matrixutils.py",
      "start_line": 1,
      "end_line": 62,
      "tokens": 440,
      "context_length": 50171
    },
    {
      "position": 114,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations.conjugate_MatrixOperations.conjugate.2.1",
      "distance": 1.15970778465271,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1553,
      "end_line": 1580,
      "tokens": 181,
      "context_length": 50352,
      "file_pos": 30
    },
    {
      "position": 115,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixOperations.replace_MatrixOperations.replace.2.1",
      "distance": 1.1598451137542725,
      "file_path": "sympy/matrices/common.py",
      "start_line": 1753,
      "end_line": 1771,
      "tokens": 168,
      "context_length": 50520,
      "file_pos": 30
    },
    {
      "position": 116,
      "id": "/tmp/repos/sympy/sympy/matrices/common.py_MatrixShaping.vstack_MatrixShaping.vstack.4.1",
      "distance": 1.1599431037902832,
      "file_path": "sympy/matrices/common.py",
      "start_line": 584,
      "end_line": 604,
      "tokens": 144,
      "context_length": 50664,
      "file_pos": 30
    },
    {
      "position": 117,
      "id": "/tmp/repos/sympy/sympy/matrices/matrices.py_MatrixCalculus_MatrixCalculus.integrate.2.1",
      "distance": 1.1602396965026855,
      "file_path": "sympy/matrices/matrices.py",
      "start_line": 1539,
      "end_line": 1594,
      "tokens": 350,
      "context_length": 51014
    },
    {
      "position": 118,
      "id": "/tmp/repos/sympy/sympy/matrices/densearith.py_1_add.2.1",
      "distance": 1.1611545085906982,
      "file_path": "sympy/matrices/densearith.py",
      "start_line": 1,
      "end_line": 43,
      "tokens": 286,
      "context_length": 51300
    },
    {
      "position": 119,
      "id": "/tmp/repos/sympy/sympy/tensor/array/ndim_array.py_NDimArray.__add___NDimArray.__neg__.2.1",
      "distance": 1.1614079475402832,
      "file_path": "sympy/tensor/array/ndim_array.py",
      "start_line": 301,
      "end_line": 353,
      "tokens": 438,
      "context_length": 51738
    },
    {
      "position": 120,
      "id": "/tmp/repos/sympy/sympy/matrices/immutable.py_1_9",
      "distance": 1.1625820398330688,
      "file_path": "sympy/matrices/immutable.py",
      "start_line": 1,
      "end_line": 14,
      "tokens": 113,
      "context_length": 51851
    },
    {
      "position": 121,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_SparseMatrix._eval_extract_SparseMatrix._eval_extract.10.1",
      "distance": 1.162689208984375,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 291,
      "end_line": 320,
      "tokens": 341,
      "context_length": 52192
    },
    {
      "position": 122,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_MutableSparseMatrix.row_op_MutableSparseMatrix.row_op.2.3.2.1",
      "distance": 1.1646275520324707,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 1219,
      "end_line": 1248,
      "tokens": 241,
      "context_length": 52433
    },
    {
      "position": 123,
      "id": "/tmp/repos/sympy/sympy/tensor/array/dense_ndim_array.py_DenseNDimArray.zeros_DenseNDimArray.__iter__.1.1",
      "distance": 1.1651676893234253,
      "file_path": "sympy/tensor/array/dense_ndim_array.py",
      "start_line": 70,
      "end_line": 100,
      "tokens": 239,
      "context_length": 52672
    },
    {
      "position": 124,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py__compare_sequence__compare_sequence.5.1",
      "distance": 1.1654658317565918,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 28,
      "end_line": 37,
      "tokens": 122,
      "context_length": 52794
    },
    {
      "position": 125,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/adjoint.py_1_",
      "distance": 1.1666693687438965,
      "file_path": "sympy/matrices/expressions/adjoint.py",
      "start_line": 1,
      "end_line": 65,
      "tokens": 415,
      "context_length": 53209
    },
    {
      "position": 126,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/blockmatrix.py_reblock_2x2_bounds.5.1",
      "distance": 1.1667943000793457,
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "start_line": 413,
      "end_line": 435,
      "tokens": 217,
      "context_length": 53426
    },
    {
      "position": 127,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_MutableSparseMatrix.zip_row_op_",
      "distance": 1.1675982475280762,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 1280,
      "end_line": 1304,
      "tokens": 201,
      "context_length": 53627
    },
    {
      "position": 128,
      "id": "/tmp/repos/sympy/sympy/matrices/sparse.py_MutableSparseMatrix.col_op_MutableSparseMatrix.col_op.2.3.2.1",
      "distance": 1.167998194694519,
      "file_path": "sympy/matrices/sparse.py",
      "start_line": 1011,
      "end_line": 1033,
      "tokens": 225,
      "context_length": 53852
    },
    {
      "position": 129,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/blockmatrix.py_blockinverse_2x2_blockinverse_2x2.1.3.1.1",
      "distance": 1.1705384254455566,
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "start_line": 380,
      "end_line": 389,
      "tokens": 127,
      "context_length": 53979
    },
    {
      "position": 130,
      "id": "/tmp/repos/sympy/sympy/physics/optics/gaussopt.py_7_RayTransferMatrix.1",
      "distance": 1.1721627712249756,
      "file_path": "sympy/physics/optics/gaussopt.py",
      "start_line": 51,
      "end_line": 109,
      "tokens": 323,
      "context_length": 54302
    },
    {
      "position": 131,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_MutableDenseMatrix.zip_row_op_MutableDenseMatrix.16",
      "distance": 1.1726295948028564,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 747,
      "end_line": 777,
      "tokens": 243,
      "context_length": 54545
    }
  ],
  "files": [
    {
      "file_path": "sympy/matrices/common.py",
      "position": 1,
      "tokens": 17221,
      "context_length": 17221
    },
    {
      "file_path": "sympy/matrices/matrices.py",
      "position": 2,
      "tokens": 35265,
      "context_length": 52486
    },
    {
      "file_path": "sympy/matrices/expressions/matmul.py",
      "position": 3,
      "tokens": 2376,
      "context_length": 54862
    },
    {
      "file_path": "sympy/matrices/dense.py",
      "position": 4,
      "tokens": 11498,
      "context_length": 66360
    },
    {
      "file_path": "sympy/matrices/sparse.py",
      "position": 5,
      "tokens": 10443,
      "context_length": 76803
    },
    {
      "file_path": "sympy/matrices/expressions/matadd.py",
      "position": 6,
      "tokens": 915,
      "context_length": 77718
    },
    {
      "file_path": "sympy/matrices/expressions/matexpr.py",
      "position": 7,
      "tokens": 6068,
      "context_length": 83786
    },
    {
      "file_path": "sympy/matrices/expressions/dotproduct.py",
      "position": 8,
      "tokens": 543,
      "context_length": 84329
    },
    {
      "file_path": "sympy/matrices/expressions/hadamard.py",
      "position": 9,
      "tokens": 641,
      "context_length": 84970
    },
    {
      "file_path": "sympy/physics/optics/gaussopt.py",
      "position": 10,
      "tokens": 5695,
      "context_length": 90665
    },
    {
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "position": 11,
      "tokens": 3678,
      "context_length": 94343
    },
    {
      "file_path": "sympy/matrices/expressions/matpow.py",
      "position": 12,
      "tokens": 648,
      "context_length": 94991
    },
    {
      "file_path": "sympy/matrices/densearith.py",
      "position": 13,
      "tokens": 1758,
      "context_length": 96749
    },
    {
      "file_path": "sympy/matrices/expressions/funcmatrix.py",
      "position": 14,
      "tokens": 387,
      "context_length": 97136
    },
    {
      "file_path": "sympy/tensor/array/__init__.py",
      "position": 15,
      "tokens": 2239,
      "context_length": 99375
    },
    {
      "file_path": "sympy/tensor/array/arrayop.py",
      "position": 16,
      "tokens": 2623,
      "context_length": 101998
    },
    {
      "file_path": "sympy/matrices/__init__.py",
      "position": 17,
      "tokens": 253,
      "context_length": 102251
    },
    {
      "file_path": "sympy/physics/quantum/tensorproduct.py",
      "position": 18,
      "tokens": 3264,
      "context_length": 105515
    },
    {
      "file_path": "sympy/polys/monomials.py",
      "position": 19,
      "tokens": 4365,
      "context_length": 109880
    },
    {
      "file_path": "sympy/polys/polymatrix.py",
      "position": 20,
      "tokens": 943,
      "context_length": 110823
    },
    {
      "file_path": "sympy/matrices/expressions/transpose.py",
      "position": 21,
      "tokens": 591,
      "context_length": 111414
    },
    {
      "file_path": "sympy/combinatorics/permutations.py",
      "position": 22,
      "tokens": 22518,
      "context_length": 133932
    },
    {
      "file_path": "sympy/core/mul.py",
      "position": 23,
      "tokens": 14289,
      "context_length": 148221
    },
    {
      "file_path": "sympy/assumptions/handlers/matrices.py",
      "position": 24,
      "tokens": 3262,
      "context_length": 151483
    },
    {
      "file_path": "sympy/matrices/expressions/inverse.py",
      "position": 25,
      "tokens": 586,
      "context_length": 152069
    },
    {
      "file_path": "sympy/physics/secondquant.py",
      "position": 26,
      "tokens": 22559,
      "context_length": 174628
    },
    {
      "file_path": "sympy/codegen/ast.py",
      "position": 27,
      "tokens": 7985,
      "context_length": 182613
    },
    {
      "file_path": "sympy/matrices/immutable.py",
      "position": 28,
      "tokens": 1369,
      "context_length": 183982
    },
    {
      "file_path": "sympy/polys/agca/homomorphisms.py",
      "position": 29,
      "tokens": 5756,
      "context_length": 189738
    },
    {
      "file_path": "sympy/physics/quantum/matrixutils.py",
      "position": 30,
      "tokens": 2593,
      "context_length": 192331
    },
    {
      "file_path": "sympy/tensor/array/ndim_array.py",
      "position": 31,
      "tokens": 3298,
      "context_length": 195629
    },
    {
      "file_path": "sympy/tensor/array/dense_ndim_array.py",
      "position": 32,
      "tokens": 1568,
      "context_length": 197197
    },
    {
      "file_path": "sympy/matrices/expressions/adjoint.py",
      "position": 33,
      "tokens": 415,
      "context_length": 197612
    }
  ]
}