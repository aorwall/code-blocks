{
  "instance_id": "sympy__sympy-15349",
  "model_patch": "diff --git a/sympy/algebras/quaternion.py b/sympy/algebras/quaternion.py\nindex b84e7cb95a..558f4434c3 100644\n--- a/sympy/algebras/quaternion.py\n+++ b/sympy/algebras/quaternion.py\n@@ -529,10 +529,10 @@ def to_rotation_matrix(self, v=None):\n \n         m10 = 2*s*(q.b*q.c + q.d*q.a)\n         m11 = 1 - 2*s*(q.b**2 + q.d**2)\n-        m12 = 2*s*(q.c*q.d + q.b*q.a)\n+        m12 = -2*s*(q.c*q.d + q.b*q.a)\n \n         m20 = 2*s*(q.b*q.d - q.c*q.a)\n-        m21 = 2*s*(q.c*q.d + q.b*q.a)\n+        m21 = 2*s*(q.c*q.d - q.b*q.a)\n         m22 = 1 - 2*s*(q.b**2 + q.c**2)\n \n         if not v:\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "fail",
  "model_patch_files": [
    "sympy/algebras/quaternion.py"
  ],
  "repo": "sympy/sympy",
  "base_commit": "768da1c6f6ec907524b8ebbf6bf818c92b56101b",
  "patch": "diff --git a/sympy/algebras/quaternion.py b/sympy/algebras/quaternion.py\n--- a/sympy/algebras/quaternion.py\n+++ b/sympy/algebras/quaternion.py\n@@ -529,7 +529,7 @@ def to_rotation_matrix(self, v=None):\n \n         m10 = 2*s*(q.b*q.c + q.d*q.a)\n         m11 = 1 - 2*s*(q.b**2 + q.d**2)\n-        m12 = 2*s*(q.c*q.d + q.b*q.a)\n+        m12 = 2*s*(q.c*q.d - q.b*q.a)\n \n         m20 = 2*s*(q.b*q.d - q.c*q.a)\n         m21 = 2*s*(q.c*q.d + q.b*q.a)\n",
  "test_patch": "diff --git a/sympy/algebras/tests/test_quaternion.py b/sympy/algebras/tests/test_quaternion.py\n--- a/sympy/algebras/tests/test_quaternion.py\n+++ b/sympy/algebras/tests/test_quaternion.py\n@@ -96,12 +96,12 @@ def test_quaternion_conversions():\n                                    2 * acos(sqrt(30)/30))\n \n     assert q1.to_rotation_matrix() == Matrix([[-S(2)/3, S(2)/15, S(11)/15],\n-                                     [S(2)/3, -S(1)/3, S(14)/15],\n+                                     [S(2)/3, -S(1)/3, S(2)/3],\n                                      [S(1)/3, S(14)/15, S(2)/15]])\n \n     assert q1.to_rotation_matrix((1, 1, 1)) == Matrix([[-S(2)/3, S(2)/15, S(11)/15, S(4)/5],\n-                                                  [S(2)/3, -S(1)/3, S(14)/15, -S(4)/15],\n-                                                  [S(1)/3, S(14)/15, S(2)/15, -S(2)/5],\n+                                                  [S(2)/3, -S(1)/3, S(2)/3, S(0)],\n+                                                       [S(1)/3, S(14)/15, S(2)/15, -S(2)/5],\n                                                   [S(0), S(0), S(0), S(1)]])\n \n     theta = symbols(\"theta\", real=True)\n@@ -120,3 +120,19 @@ def test_quaternion_conversions():\n                [sin(theta),  cos(theta), 0, -sin(theta) - cos(theta) + 1],\n                [0,           0,          1,  0],\n                [0,           0,          0,  1]])\n+\n+\n+def test_quaternion_rotation_iss1593():\n+    \"\"\"\n+    There was a sign mistake in the definition,\n+    of the rotation matrix. This tests that particular sign mistake.\n+    See issue 1593 for reference.\n+    See wikipedia\n+    https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation#Quaternion-derived_rotation_matrix\n+    for the correct definition\n+    \"\"\"\n+    q = Quaternion(cos(x/2), sin(x/2), 0, 0)\n+    assert(trigsimp(q.to_rotation_matrix()) == Matrix([\n+                [1,      0,      0],\n+                [0, cos(x), -sin(x)],\n+                [0, sin(x), cos(x)]]))\n",
  "problem_statement": "Incorrect result with Quaterniont.to_rotation_matrix()\nhttps://github.com/sympy/sympy/blob/ab14b02dba5a7e3e4fb1e807fc8a954f1047a1a1/sympy/algebras/quaternion.py#L489\r\n\r\nThere appears to be an error in the `Quaternion.to_rotation_matrix()` output.  The simplest example I created to illustrate the problem is as follows:\r\n\r\n```\r\n>>import sympy\r\n>>print('Sympy version: ', sympy.__version__)\r\nSympy version: 1.2\r\n\r\n>> from sympy import *\r\n>> x = symbols('x')\r\n>> q = Quaternion(cos(x/2), sin(x/2), 0, 0)\r\n>> trigsimp(q.to_rotation_matrix())\r\nMatrix([\r\n[1,      0,      0],\r\n[0, cos(x), sin(x)],\r\n[0, sin(x), cos(x)]])\r\n```\r\nOne of the `sin(x)` functions should be negative.  What was the reference of the original equations?  \n",
  "hints_text": "@hamid-m @smichr I'd like to try my hands at this issue.",
  "created_at": "2018-10-06T19:45:27Z",
  "version": "1.4",
  "FAIL_TO_PASS": "[\"test_quaternion_conversions\"]",
  "PASS_TO_PASS": "[\"test_quaternion_complex_real_addition\", \"test_quaternion_construction\", \"test_quaternion_functions\"]",
  "environment_setup_commit": "73b3f90093754c5ed1561bd885242330e3583004",
  "patch_files": [
    "sympy/algebras/quaternion.py"
  ],
  "test_patch_files": [
    "sympy/algebras/tests/test_quaternion.py"
  ],
  "patch_diff_details": {
    "sympy/algebras/quaternion.py": {
      "diffs": [
        {
          "start_line_old": 532,
          "end_line_old": 532,
          "file_pos": 1,
          "file_context_length": 5265,
          "pos": 1,
          "context_length": 727
        }
      ]
    }
  },
  "vectors": 7861,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.to_rotation_matrix_",
      "distance": 0.6324796676635742,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 489,
      "end_line": 552,
      "tokens": 727,
      "context_length": 727,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion._generic_mul_Quaternion._generic_mul.9.1",
      "distance": 0.6620038747787476,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 252,
      "end_line": 286,
      "tokens": 405,
      "context_length": 1132,
      "file_pos": 1
    },
    {
      "position": 3,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.__copysign_Quaternion._eval_diff.1.1",
      "distance": 0.6893424391746521,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 143,
      "end_line": 178,
      "tokens": 238,
      "context_length": 1370,
      "file_pos": 1
    },
    {
      "position": 4,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.from_rotation_matrix_Quaternion.from_rotation_matrix.8.1",
      "distance": 0.7030814290046692,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 109,
      "end_line": 141,
      "tokens": 438,
      "context_length": 1808,
      "file_pos": 1
    },
    {
      "position": 5,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_1_16",
      "distance": 0.7393279075622559,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 1,
      "end_line": 17,
      "tokens": 163,
      "context_length": 1971,
      "file_pos": 1
    },
    {
      "position": 6,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.to_axis_angle_Quaternion.to_axis_angle.13.1",
      "distance": 0.7529738545417786,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 450,
      "end_line": 487,
      "tokens": 286,
      "context_length": 2257,
      "file_pos": 1
    },
    {
      "position": 7,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion._eval_conjugate_Quaternion.inverse.4.1",
      "distance": 0.7586011290550232,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 288,
      "end_line": 310,
      "tokens": 207,
      "context_length": 2464,
      "file_pos": 1
    },
    {
      "position": 8,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.__new___Quaternion.real_field.1.1",
      "distance": 0.7846428751945496,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 49,
      "end_line": 83,
      "tokens": 231,
      "context_length": 2695,
      "file_pos": 1
    },
    {
      "position": 9,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.from_axis_angle_Quaternion.from_axis_angle.10.1",
      "distance": 0.8381043672561646,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 85,
      "end_line": 107,
      "tokens": 237,
      "context_length": 2932,
      "file_pos": 1
    },
    {
      "position": 10,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.add_Quaternion.add.6.1",
      "distance": 0.8422961831092834,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 180,
      "end_line": 222,
      "tokens": 453,
      "context_length": 3385,
      "file_pos": 1
    },
    {
      "position": 11,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.mul_Quaternion.mul.2.1",
      "distance": 0.8504621982574463,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 224,
      "end_line": 250,
      "tokens": 310,
      "context_length": 3695,
      "file_pos": 1
    },
    {
      "position": 12,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.exp_Quaternion.exp.9.1",
      "distance": 0.8588278293609619,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 344,
      "end_line": 366,
      "tokens": 257,
      "context_length": 3952,
      "file_pos": 1
    },
    {
      "position": 13,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.rotate_point_Quaternion.rotate_point.4.1",
      "distance": 0.8610613346099854,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 424,
      "end_line": 448,
      "tokens": 305,
      "context_length": 4257,
      "file_pos": 1
    },
    {
      "position": 14,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion_Quaternion.is_commutative.1",
      "distance": 0.8669304251670837,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 20,
      "end_line": 47,
      "tokens": 280,
      "context_length": 4537,
      "file_pos": 1
    },
    {
      "position": 15,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.pow_cos_sin_Quaternion.integrate.2.1",
      "distance": 0.8790649175643921,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 393,
      "end_line": 422,
      "tokens": 335,
      "context_length": 4872,
      "file_pos": 1
    },
    {
      "position": 16,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion._ln_Quaternion._ln.10.1",
      "distance": 0.8983345627784729,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 368,
      "end_line": 391,
      "tokens": 263,
      "context_length": 5135,
      "file_pos": 1
    },
    {
      "position": 17,
      "id": "/tmp/repos/sympy/sympy/vector/orienters.py_QuaternionOrienter.__init___",
      "distance": 0.9219847321510315,
      "file_path": "sympy/vector/orienters.py",
      "start_line": 330,
      "end_line": 394,
      "tokens": 432,
      "context_length": 5567
    },
    {
      "position": 18,
      "id": "/tmp/repos/sympy/sympy/algebras/quaternion.py_Quaternion.pow_Quaternion.pow.8.1",
      "distance": 0.9265838861465454,
      "file_path": "sympy/algebras/quaternion.py",
      "start_line": 312,
      "end_line": 342,
      "tokens": 200,
      "context_length": 5767,
      "file_pos": 2
    },
    {
      "position": 19,
      "id": "/tmp/repos/sympy/sympy/vector/orienters.py_AxisOrienter.rotation_matrix_AxisOrienter.axis.1.1",
      "distance": 0.9425182342529297,
      "file_path": "sympy/vector/orienters.py",
      "start_line": 68,
      "end_line": 99,
      "tokens": 213,
      "context_length": 5980
    },
    {
      "position": 20,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/spin.py_Rotation.matrix_element_Rotation._represent_base.7.1",
      "distance": 0.9564820528030396,
      "file_path": "sympy/physics/quantum/spin.py",
      "start_line": 596,
      "end_line": 616,
      "tokens": 196,
      "context_length": 6176
    },
    {
      "position": 21,
      "id": "/tmp/repos/sympy/sympy/vector/orienters.py_QuaternionOrienter_QuaternionOrienter.__new__.13.1",
      "distance": 0.9641504883766174,
      "file_path": "sympy/vector/orienters.py",
      "start_line": 297,
      "end_line": 328,
      "tokens": 349,
      "context_length": 6525
    },
    {
      "position": 22,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/inverse.py_7_",
      "distance": 0.966414213180542,
      "file_path": "sympy/matrices/expressions/inverse.py",
      "start_line": 71,
      "end_line": 95,
      "tokens": 174,
      "context_length": 6699
    },
    {
      "position": 23,
      "id": "/tmp/repos/sympy/sympy/polys/subresultants_qq_zz.py_subresultants_vv_2.27_",
      "distance": 0.9722909927368164,
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "start_line": 2269,
      "end_line": 2300,
      "tokens": 303,
      "context_length": 7002
    },
    {
      "position": 24,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/qexpr.py_1_QuantumError.1",
      "distance": 0.9723717570304871,
      "file_path": "sympy/physics/quantum/qexpr.py",
      "start_line": 1,
      "end_line": 25,
      "tokens": 135,
      "context_length": 7137
    },
    {
      "position": 25,
      "id": "/tmp/repos/sympy/sympy/polys/subresultants_qq_zz.py_subresultants_vv.row0_subresultants_vv.35.1",
      "distance": 0.9791831970214844,
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "start_line": 2118,
      "end_line": 2196,
      "tokens": 814,
      "context_length": 7951
    },
    {
      "position": 26,
      "id": "/tmp/repos/sympy/sympy/vector/coordsysrect.py_CoordSys3D.orient_new_quaternion_CoordSys3D.orient_new_quaternion.3.1",
      "distance": 0.9823017120361328,
      "file_path": "sympy/vector/coordsysrect.py",
      "start_line": 933,
      "end_line": 986,
      "tokens": 413,
      "context_length": 8364
    },
    {
      "position": 27,
      "id": "/tmp/repos/sympy/sympy/physics/secondquant.py_AntiSymmetricTensor.__new___AntiSymmetricTensor.__new__.5.2.1.1",
      "distance": 0.9829571843147278,
      "file_path": "sympy/physics/secondquant.py",
      "start_line": 178,
      "end_line": 197,
      "tokens": 162,
      "context_length": 8526
    },
    {
      "position": 28,
      "id": "/tmp/repos/sympy/sympy/vector/coordsysrect.py_CoordSys3D._rotation_trans_equations_CoordSys3D.transformation_from_parent_function.1.1",
      "distance": 0.9952900409698486,
      "file_path": "sympy/vector/coordsysrect.py",
      "start_line": 438,
      "end_line": 490,
      "tokens": 295,
      "context_length": 8821
    },
    {
      "position": 29,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/blockmatrix.py_1_18",
      "distance": 0.9953535199165344,
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "start_line": 1,
      "end_line": 20,
      "tokens": 219,
      "context_length": 9040
    },
    {
      "position": 30,
      "id": "/tmp/repos/sympy/examples/advanced/qft.py_main_",
      "distance": 1.001591444015503,
      "file_path": "examples/advanced/qft.py",
      "start_line": 85,
      "end_line": 138,
      "tokens": 607,
      "context_length": 9647
    },
    {
      "position": 31,
      "id": "/tmp/repos/sympy/sympy/vector/coordsysrect.py_1_CoordSysCartesian.2.1",
      "distance": 1.0028667449951172,
      "file_path": "sympy/vector/coordsysrect.py",
      "start_line": 1,
      "end_line": 23,
      "tokens": 227,
      "context_length": 9874
    },
    {
      "position": 32,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/spin.py_Rotation._represent_default_basis_Rotation._apply_operator_uncoupled.6.6.2.1",
      "distance": 1.003105640411377,
      "file_path": "sympy/physics/quantum/spin.py",
      "start_line": 618,
      "end_line": 644,
      "tokens": 234,
      "context_length": 10108
    },
    {
      "position": 33,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/spin.py_Rotation._apply_operator_JxKet_Rotation._apply_operator_coupled.8.6.2.1",
      "distance": 1.0062017440795898,
      "file_path": "sympy/physics/quantum/spin.py",
      "start_line": 646,
      "end_line": 678,
      "tokens": 316,
      "context_length": 10424
    },
    {
      "position": 34,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/matrixcache.py_sqrt2_inv_",
      "distance": 1.0133278369903564,
      "file_path": "sympy/physics/quantum/matrixcache.py",
      "start_line": 83,
      "end_line": 103,
      "tokens": 434,
      "context_length": 10858
    },
    {
      "position": 35,
      "id": "/tmp/repos/sympy/sympy/plotting/pygletplot/plot_rotation.py_1_norm.2.1",
      "distance": 1.0135421752929688,
      "file_path": "sympy/plotting/pygletplot/plot_rotation.py",
      "start_line": 1,
      "end_line": 28,
      "tokens": 214,
      "context_length": 11072
    },
    {
      "position": 36,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_rot_axis2_rot_axis2.5.1",
      "distance": 1.0161491632461548,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 870,
      "end_line": 910,
      "tokens": 298,
      "context_length": 11370
    },
    {
      "position": 37,
      "id": "/tmp/repos/sympy/sympy/parsing/autolev/test-examples/ruletest6.py_me_",
      "distance": 1.016667127609253,
      "file_path": "sympy/parsing/autolev/test-examples/ruletest6.py",
      "start_line": 1,
      "end_line": 37,
      "tokens": 681,
      "context_length": 12051
    },
    {
      "position": 38,
      "id": "/tmp/repos/sympy/sympy/vector/coordsysrect.py_CoordSys3D._inverse_rotation_matrix_CoordSys3D._get_transformation_lambdas.2.4",
      "distance": 1.0187759399414062,
      "file_path": "sympy/vector/coordsysrect.py",
      "start_line": 401,
      "end_line": 436,
      "tokens": 231,
      "context_length": 12282
    },
    {
      "position": 39,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_rot_axis1_rot_axis1.5.1",
      "distance": 1.0197099447250366,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 913,
      "end_line": 953,
      "tokens": 293,
      "context_length": 12575
    },
    {
      "position": 40,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/spin.py_1_m_values.4.1",
      "distance": 1.0199639797210693,
      "file_path": "sympy/physics/quantum/spin.py",
      "start_line": 1,
      "end_line": 59,
      "tokens": 482,
      "context_length": 13057
    },
    {
      "position": 41,
      "id": "/tmp/repos/sympy/sympy/polys/subresultants_qq_zz.py_modified_subresultants_pg.50_modified_subresultants_pg.75",
      "distance": 1.0205912590026855,
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "start_line": 1217,
      "end_line": 1261,
      "tokens": 492,
      "context_length": 13549
    },
    {
      "position": 42,
      "id": "/tmp/repos/sympy/sympy/physics/vector/functions.py_kinematic_equations.14.11_kinematic_equations.14.13.1",
      "distance": 1.0238381624221802,
      "file_path": "sympy/physics/vector/functions.py",
      "start_line": 322,
      "end_line": 372,
      "tokens": 1165,
      "context_length": 14714
    },
    {
      "position": 43,
      "id": "/tmp/repos/sympy/sympy/plotting/pygletplot/util.py_1_vec_subs.1.1",
      "distance": 1.0315272808074951,
      "file_path": "sympy/plotting/pygletplot/util.py",
      "start_line": 1,
      "end_line": 77,
      "tokens": 560,
      "context_length": 15274
    },
    {
      "position": 44,
      "id": "/tmp/repos/sympy/sympy/matrices/dense.py_rot_axis3_rot_axis3.5.1",
      "distance": 1.0322571992874146,
      "file_path": "sympy/matrices/dense.py",
      "start_line": 827,
      "end_line": 867,
      "tokens": 296,
      "context_length": 15570
    },
    {
      "position": 45,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/spin.py_Rotation._apply_operator_JxKetCoupled_Rotation._apply_operator_JzKetCoupled.1.1",
      "distance": 1.032475233078003,
      "file_path": "sympy/physics/quantum/spin.py",
      "start_line": 680,
      "end_line": 687,
      "tokens": 120,
      "context_length": 15690
    },
    {
      "position": 46,
      "id": "/tmp/repos/sympy/examples/advanced/curvilinear_coordinates.py_main_",
      "distance": 1.0366076231002808,
      "file_path": "examples/advanced/curvilinear_coordinates.py",
      "start_line": 77,
      "end_line": 117,
      "tokens": 327,
      "context_length": 16017
    },
    {
      "position": 47,
      "id": "/tmp/repos/sympy/sympy/diffgeom/diffgeom.py_1_16",
      "distance": 1.0380399227142334,
      "file_path": "sympy/diffgeom/diffgeom.py",
      "start_line": 1,
      "end_line": 20,
      "tokens": 174,
      "context_length": 16191
    },
    {
      "position": 48,
      "id": "/tmp/repos/sympy/sympy/physics/secondquant.py_AntiSymmetricTensor.__str___AntiSymmetricTensor.doit.2.1",
      "distance": 1.0423688888549805,
      "file_path": "sympy/physics/secondquant.py",
      "start_line": 292,
      "end_line": 309,
      "tokens": 151,
      "context_length": 16342
    },
    {
      "position": 49,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/spin.py_Rotation_Rotation._eval_inverse.1.1",
      "distance": 1.0433610677719116,
      "file_path": "sympy/physics/quantum/spin.py",
      "start_line": 422,
      "end_line": 511,
      "tokens": 612,
      "context_length": 16954
    },
    {
      "position": 50,
      "id": "/tmp/repos/sympy/sympy/polys/subresultants_qq_zz.py_quo_z_quo_z.3.1",
      "distance": 1.0438624620437622,
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "start_line": 1556,
      "end_line": 1574,
      "tokens": 224,
      "context_length": 17178
    },
    {
      "position": 51,
      "id": "/tmp/repos/sympy/sympy/polys/subresultants_qq_zz.py_rotate_r_rotate_l.5.1",
      "distance": 1.044424057006836,
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "start_line": 1929,
      "end_line": 1953,
      "tokens": 168,
      "context_length": 17346
    },
    {
      "position": 52,
      "id": "/tmp/repos/sympy/sympy/polys/rootisolation.py_OO__rules_simple.1",
      "distance": 1.0455691814422607,
      "file_path": "sympy/polys/rootisolation.py",
      "start_line": 728,
      "end_line": 782,
      "tokens": 647,
      "context_length": 17993
    },
    {
      "position": 53,
      "id": "/tmp/repos/sympy/sympy/physics/quantum/qubit.py_25_matrix_to_qubit.16.1",
      "distance": 1.0461599826812744,
      "file_path": "sympy/physics/quantum/qubit.py",
      "start_line": 391,
      "end_line": 464,
      "tokens": 634,
      "context_length": 18627
    },
    {
      "position": 54,
      "id": "/tmp/repos/sympy/sympy/polys/subresultants_qq_zz.py_subresultants_amv_q.28_compute_sign.5.2.1.1",
      "distance": 1.0462216138839722,
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "start_line": 1457,
      "end_line": 1518,
      "tokens": 548,
      "context_length": 19175
    },
    {
      "position": 55,
      "id": "/tmp/repos/sympy/sympy/diffgeom/diffgeom.py_CoordSystem._inv_transf_CoordSystem._inv_transf.inv_from.4.1",
      "distance": 1.047730565071106,
      "file_path": "sympy/diffgeom/diffgeom.py",
      "start_line": 246,
      "end_line": 258,
      "tokens": 162,
      "context_length": 19337
    },
    {
      "position": 56,
      "id": "/tmp/repos/sympy/sympy/core/backend.py_os_",
      "distance": 1.0486795902252197,
      "file_path": "sympy/core/backend.py",
      "start_line": 1,
      "end_line": 24,
      "tokens": 357,
      "context_length": 19694
    },
    {
      "position": 57,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_refine_MatMul_",
      "distance": 1.0490270853042603,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 305,
      "end_line": 340,
      "tokens": 229,
      "context_length": 19923
    },
    {
      "position": 58,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/matmul.py_MatMul.as_coeff_matrices_MatMul.args_cnc.5.1",
      "distance": 1.0493462085723877,
      "file_path": "sympy/matrices/expressions/matmul.py",
      "start_line": 78,
      "end_line": 136,
      "tokens": 501,
      "context_length": 20424
    },
    {
      "position": 59,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/trigonometric.py_cos._eval_rewrite_as_sqrt.cst_table_some_cos._eval_rewrite_as_sqrt.14.5.4.1",
      "distance": 1.0503551959991455,
      "file_path": "sympy/functions/elementary/trigonometric.py",
      "start_line": 800,
      "end_line": 849,
      "tokens": 599,
      "context_length": 21023
    },
    {
      "position": 60,
      "id": "/tmp/repos/sympy/sympy/assumptions/handlers/matrices.py_AskSymmetricHandler.MatPow_AskSymmetricHandler.Identity.1",
      "distance": 1.0508428812026978,
      "file_path": "sympy/assumptions/handlers/matrices.py",
      "start_line": 50,
      "end_line": 99,
      "tokens": 364,
      "context_length": 21387
    },
    {
      "position": 61,
      "id": "/tmp/repos/sympy/sympy/matrices/expressions/transpose.py_transpose_",
      "distance": 1.0526678562164307,
      "file_path": "sympy/matrices/expressions/transpose.py",
      "start_line": 73,
      "end_line": 98,
      "tokens": 142,
      "context_length": 21529
    },
    {
      "position": 62,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_I_",
      "distance": 1.0528645515441895,
      "file_path": "sympy/core/numbers.py",
      "start_line": 3887,
      "end_line": 3943,
      "tokens": 358,
      "context_length": 21887
    }
  ],
  "files": [
    {
      "file_path": "sympy/algebras/quaternion.py",
      "position": 1,
      "tokens": 5265,
      "context_length": 5265
    },
    {
      "file_path": "sympy/vector/orienters.py",
      "position": 2,
      "tokens": 3000,
      "context_length": 8265
    },
    {
      "file_path": "sympy/physics/quantum/spin.py",
      "position": 3,
      "tokens": 20371,
      "context_length": 28636
    },
    {
      "file_path": "sympy/matrices/expressions/inverse.py",
      "position": 4,
      "tokens": 636,
      "context_length": 29272
    },
    {
      "file_path": "sympy/polys/subresultants_qq_zz.py",
      "position": 5,
      "tokens": 23623,
      "context_length": 52895
    },
    {
      "file_path": "sympy/physics/quantum/qexpr.py",
      "position": 6,
      "tokens": 3060,
      "context_length": 55955
    },
    {
      "file_path": "sympy/vector/coordsysrect.py",
      "position": 7,
      "tokens": 8271,
      "context_length": 64226
    },
    {
      "file_path": "sympy/physics/secondquant.py",
      "position": 8,
      "tokens": 22558,
      "context_length": 86784
    },
    {
      "file_path": "sympy/matrices/expressions/blockmatrix.py",
      "position": 9,
      "tokens": 3747,
      "context_length": 90531
    },
    {
      "file_path": "examples/advanced/qft.py",
      "position": 10,
      "tokens": 1315,
      "context_length": 91846
    },
    {
      "file_path": "sympy/physics/quantum/matrixcache.py",
      "position": 11,
      "tokens": 991,
      "context_length": 92837
    },
    {
      "file_path": "sympy/plotting/pygletplot/plot_rotation.py",
      "position": 12,
      "tokens": 555,
      "context_length": 93392
    },
    {
      "file_path": "sympy/matrices/dense.py",
      "position": 13,
      "tokens": 11651,
      "context_length": 105043
    },
    {
      "file_path": "sympy/parsing/autolev/test-examples/ruletest6.py",
      "position": 14,
      "tokens": 681,
      "context_length": 105724
    },
    {
      "file_path": "sympy/physics/vector/functions.py",
      "position": 15,
      "tokens": 6616,
      "context_length": 112340
    },
    {
      "file_path": "sympy/plotting/pygletplot/util.py",
      "position": 16,
      "tokens": 1448,
      "context_length": 113788
    },
    {
      "file_path": "examples/advanced/curvilinear_coordinates.py",
      "position": 17,
      "tokens": 946,
      "context_length": 114734
    },
    {
      "file_path": "sympy/diffgeom/diffgeom.py",
      "position": 18,
      "tokens": 14509,
      "context_length": 129243
    },
    {
      "file_path": "sympy/polys/rootisolation.py",
      "position": 19,
      "tokens": 20602,
      "context_length": 149845
    },
    {
      "file_path": "sympy/physics/quantum/qubit.py",
      "position": 20,
      "tokens": 5741,
      "context_length": 155586
    },
    {
      "file_path": "sympy/core/backend.py",
      "position": 21,
      "tokens": 358,
      "context_length": 155944
    },
    {
      "file_path": "sympy/matrices/expressions/matmul.py",
      "position": 22,
      "tokens": 2759,
      "context_length": 158703
    },
    {
      "file_path": "sympy/functions/elementary/trigonometric.py",
      "position": 23,
      "tokens": 24690,
      "context_length": 183393
    },
    {
      "file_path": "sympy/assumptions/handlers/matrices.py",
      "position": 24,
      "tokens": 4239,
      "context_length": 187632
    },
    {
      "file_path": "sympy/matrices/expressions/transpose.py",
      "position": 25,
      "tokens": 598,
      "context_length": 188230
    },
    {
      "file_path": "sympy/core/numbers.py",
      "position": 26,
      "tokens": 29681,
      "context_length": 217911
    }
  ]
}