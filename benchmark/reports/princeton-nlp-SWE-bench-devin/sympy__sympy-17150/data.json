{
  "instance_id": "sympy__sympy-17150",
  "model_patch": "diff --git a/sympy/functions/elementary/exponential.py b/sympy/functions/elementary/exponential.py\nindex 7adba5680b..01429b9452 100644\n--- a/sympy/functions/elementary/exponential.py\n+++ b/sympy/functions/elementary/exponential.py\n@@ -523,12 +523,7 @@ def eval(cls, arg, base=None):\n                 n = multiplicity(base, arg)\n                 if n:\n                     den = base**n\n-                    if den.is_Integer:\n-                        return n + log(arg // den) / log(base)\n-                    else:\n-                        return n + log(arg / den) / log(base)\n-                else:\n-                    return log(arg)/log(base)\n+                    return n + log(arg / den) / log(base)\n             except ValueError:\n                 pass\n             if base is not S.Exp1:\n",
  "model_name_or_path": "Devin",
  "pass_or_fail": "pass",
  "model_patch_files": [
    "sympy/functions/elementary/exponential.py"
  ],
  "repo": "sympy/sympy",
  "base_commit": "dcc4430810a88d239d75f16c5c3403cd6926d666",
  "patch": "diff --git a/sympy/functions/elementary/exponential.py b/sympy/functions/elementary/exponential.py\n--- a/sympy/functions/elementary/exponential.py\n+++ b/sympy/functions/elementary/exponential.py\n@@ -481,6 +481,15 @@ class log(Function):\n     a logarithm of a different base ``b``, use ``log(x, b)``,\n     which is essentially short-hand for ``log(x)/log(b)``.\n \n+    Examples\n+    ========\n+\n+    >>> from sympy import log, S\n+    >>> log(8, 2)\n+    3\n+    >>> log(S(8)/3, 2)\n+    -log(3)/log(2) + 3\n+\n     See Also\n     ========\n \n@@ -522,11 +531,7 @@ def eval(cls, arg, base=None):\n                 # or else expand_log in Mul would have to handle this\n                 n = multiplicity(base, arg)\n                 if n:\n-                    den = base**n\n-                    if den.is_Integer:\n-                        return n + log(arg // den) / log(base)\n-                    else:\n-                        return n + log(arg / den) / log(base)\n+                    return n + log(arg / base**n) / log(base)\n                 else:\n                     return log(arg)/log(base)\n             except ValueError:\n",
  "test_patch": "diff --git a/sympy/functions/elementary/tests/test_exponential.py b/sympy/functions/elementary/tests/test_exponential.py\n--- a/sympy/functions/elementary/tests/test_exponential.py\n+++ b/sympy/functions/elementary/tests/test_exponential.py\n@@ -212,6 +212,8 @@ def test_log_base():\n     assert log(Rational(2, 3), Rational(1, 3)) == -log(2)/log(3) + 1\n     assert log(Rational(2, 3), Rational(2, 5)) == \\\n         log(S(2)/3)/log(S(2)/5)\n+    # issue 17148\n+    assert log(S(8)/3, 2) == -log(3)/log(2) + 3\n \n \n def test_log_symbolic():\n",
  "problem_statement": "Incorrect extraction of base powers in log class\nEvaluating `log(Rational(408,499),2)` produces `zoo`, but it should produce `log(Rational(51,499))/log(2) + 3`.\r\n\r\nThe issue seems to originate around line `531` in `sympy/functions/elementary/exponential.py` during extraction of base powers, where `arg // den` is evaluated to `0` but should evaluate to `Rational(51,499)`:\r\n\r\n                    if den.is_Integer:\r\n                        return n + log(arg // den) / log(base)\r\n                    else:\r\n                        return n + log(arg / den) / log(base)\r\n\r\nI would suggest to fix the issue by removing the `if` conditional and keeping the else branch (seems like a case of premature optimization). Alternatively, this also seems to fix the issue:\r\n\r\n                    if arg.is_Integer and den.is_Integer:\r\n                        return n + log(arg // den) / log(base)\r\n                    else:\r\n                        return n + log(arg / den) / log(base)\r\n\r\nThat said, seeing that this code was not changed recently, the issue may run deeper.\r\n\n",
  "hints_text": "",
  "created_at": "2019-07-04T16:06:15Z",
  "version": "1.5",
  "FAIL_TO_PASS": "[\"test_log_base\"]",
  "PASS_TO_PASS": "[\"test_as_numer_denom\", \"test_exp_AccumBounds\", \"test_exp_MatrixSymbol\", \"test_exp__as_base_exp\", \"test_exp_assumptions\", \"test_exp_conjugate\", \"test_exp_expand\", \"test_exp_expand_NC\", \"test_exp_fdiff\", \"test_exp_infinity\", \"test_exp_leading_term\", \"test_exp_log\", \"test_exp_rewrite\", \"test_exp_subs\", \"test_exp_taylor_term\", \"test_exp_values\", \"test_issue_5673\", \"test_issue_8866\", \"test_lambertw\", \"test_log_AccumBounds\", \"test_log_apply_evalf\", \"test_log_assumptions\", \"test_log_expand\", \"test_log_expand_complex\", \"test_log_fdiff\", \"test_log_hashing\", \"test_log_product\", \"test_log_sign\", \"test_log_simplify\", \"test_log_symbolic\", \"test_log_taylor_term\", \"test_log_values\", \"test_polar\"]",
  "environment_setup_commit": "70381f282f2d9d039da860e391fe51649df2779d",
  "patch_files": [
    "sympy/functions/elementary/exponential.py"
  ],
  "test_patch_files": [
    "sympy/functions/elementary/tests/test_exponential.py"
  ],
  "patch_diff_details": {
    "sympy/functions/elementary/exponential.py": {
      "diffs": [
        {
          "start_line_old": 484,
          "end_line_old": 484,
          "file_pos": 1,
          "file_context_length": 7069,
          "closest_snippet_id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log.as_real_imag_log.as_real_imag.4.3.1.1",
          "closest_snippet_line_distance": 187,
          "pos": 57,
          "context_length": 18823
        },
        {
          "start_line_old": 525,
          "end_line_old": 529,
          "file_pos": 1,
          "file_context_length": 7069,
          "pos": 1,
          "context_length": 595
        }
      ]
    }
  },
  "vectors": 8154,
  "snippets": [
    {
      "position": 1,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log.eval_log.eval.10.2.1.3.1.2.1.1",
      "distance": 0.6916667819023132,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 505,
      "end_line": 586,
      "tokens": 595,
      "context_length": 595,
      "file_pos": 1
    },
    {
      "position": 2,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log._eval_expand_log_log._eval_expand_log.7.1",
      "distance": 0.7696101665496826,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 612,
      "end_line": 657,
      "tokens": 411,
      "context_length": 1006,
      "file_pos": 1
    },
    {
      "position": 3,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log._eval_is_rational_log._eval_is_extended_nonnegative.1.1",
      "distance": 0.774381160736084,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 704,
      "end_line": 741,
      "tokens": 307,
      "context_length": 1313,
      "file_pos": 1
    },
    {
      "position": 4,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log._eval_simplify_log._eval_simplify.6.1",
      "distance": 0.7949634194374084,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 659,
      "end_line": 669,
      "tokens": 136,
      "context_length": 1449,
      "file_pos": 1
    },
    {
      "position": 5,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational._eval_power_Rational._eval_power.3",
      "distance": 0.8064663410186768,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1801,
      "end_line": 1837,
      "tokens": 404,
      "context_length": 1853
    },
    {
      "position": 6,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log._eval_nseries_log._eval_as_leading_term.3.1",
      "distance": 0.8174417018890381,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 743,
      "end_line": 779,
      "tokens": 384,
      "context_length": 2237,
      "file_pos": 2
    },
    {
      "position": 7,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Integer._eval_power_Integer._eval_power.sqr_dict.1",
      "distance": 0.8381449580192566,
      "file_path": "sympy/core/numbers.py",
      "start_line": 2301,
      "end_line": 2373,
      "tokens": 691,
      "context_length": 2928
    },
    {
      "position": 8,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_exp._eval_subs_exp._eval_subs.2.6.1",
      "distance": 0.8520146012306213,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 367,
      "end_line": 380,
      "tokens": 182,
      "context_length": 3110,
      "file_pos": 2
    },
    {
      "position": 9,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_exp._eval_nseries_exp._eval_nseries.3",
      "distance": 0.8521239757537842,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 407,
      "end_line": 425,
      "tokens": 223,
      "context_length": 3333,
      "file_pos": 2
    },
    {
      "position": 10,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log.as_base_exp_log.taylor_term.2",
      "distance": 0.85308438539505,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 588,
      "end_line": 610,
      "tokens": 198,
      "context_length": 3531,
      "file_pos": 2
    },
    {
      "position": 11,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_exp.eval_exp.eval.6.8.1.1",
      "distance": 0.8597460389137268,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 226,
      "end_line": 308,
      "tokens": 588,
      "context_length": 4119,
      "file_pos": 2
    },
    {
      "position": 12,
      "id": "/tmp/repos/sympy/sympy/simplify/powsimp.py_powdenest_powdenest.1",
      "distance": 0.8599350452423096,
      "file_path": "sympy/simplify/powsimp.py",
      "start_line": 485,
      "end_line": 572,
      "tokens": 857,
      "context_length": 4976
    },
    {
      "position": 13,
      "id": "/tmp/repos/sympy/sympy/core/exprtools.py_decompose_power_rat_decompose_power_rat.4.1",
      "distance": 0.866686999797821,
      "file_path": "sympy/core/exprtools.py",
      "start_line": 263,
      "end_line": 284,
      "tokens": 150,
      "context_length": 5126
    },
    {
      "position": 14,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_is_rational_Pow._eval_is_rational.4.7.1.3.1.1",
      "distance": 0.8774034380912781,
      "file_path": "sympy/core/power.py",
      "start_line": 1210,
      "end_line": 1232,
      "tokens": 244,
      "context_length": 5370
    },
    {
      "position": 15,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_subs.3_Pow._eval_subs.7.4.4.1",
      "distance": 0.8801066875457764,
      "file_path": "sympy/core/power.py",
      "start_line": 741,
      "end_line": 795,
      "tokens": 645,
      "context_length": 6015
    },
    {
      "position": 16,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_is_extended_real_Pow._eval_is_extended_real.12.i.2.1",
      "distance": 0.8846375942230225,
      "file_path": "sympy/core/power.py",
      "start_line": 541,
      "end_line": 594,
      "tokens": 448,
      "context_length": 6463
    },
    {
      "position": 17,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Integer._eval_power.27_Integer._eval_power.32.1",
      "distance": 0.8874008655548096,
      "file_path": "sympy/core/numbers.py",
      "start_line": 2374,
      "end_line": 2404,
      "tokens": 354,
      "context_length": 6817
    },
    {
      "position": 18,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__eq___Rational.__eq__.8.1",
      "distance": 0.8947403430938721,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1868,
      "end_line": 1912,
      "tokens": 400,
      "context_length": 7217
    },
    {
      "position": 19,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_exp_polar._eval_evalf_exp_polar.as_base_exp.2.2.1",
      "distance": 0.8969289064407349,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 157,
      "end_line": 184,
      "tokens": 243,
      "context_length": 7460,
      "file_pos": 5
    },
    {
      "position": 20,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__mod___Rational.__rmod__.2.1",
      "distance": 0.9001570343971252,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1782,
      "end_line": 1799,
      "tokens": 188,
      "context_length": 7648
    },
    {
      "position": 21,
      "id": "/tmp/repos/sympy/sympy/integrals/risch.py_DifferentialExtension._rewrite_exps_pows.34_DifferentialExtension._rewrite_exps_pows.35.1",
      "distance": 0.9035831093788147,
      "file_path": "sympy/integrals/risch.py",
      "start_line": 340,
      "end_line": 391,
      "tokens": 624,
      "context_length": 8272
    },
    {
      "position": 22,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_rewrite_as_exp_Pow._eval_rewrite_as_exp.3.4.1.1",
      "distance": 0.9041216373443604,
      "file_path": "sympy/core/power.py",
      "start_line": 1275,
      "end_line": 1287,
      "tokens": 121,
      "context_length": 8393
    },
    {
      "position": 23,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__ne___Rational._Rrel.2.3.5.1.1",
      "distance": 0.9049147367477417,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1914,
      "end_line": 1936,
      "tokens": 198,
      "context_length": 8591
    },
    {
      "position": 24,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_ExpBase.exp_ExpBase._eval_expand_power_exp.3.1",
      "distance": 0.9049309492111206,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 63,
      "end_line": 115,
      "tokens": 350,
      "context_length": 8941,
      "file_pos": 6
    },
    {
      "position": 25,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_nseries_Pow._eval_nseries.7",
      "distance": 0.913898229598999,
      "file_path": "sympy/core/power.py",
      "start_line": 1357,
      "end_line": 1364,
      "tokens": 142,
      "context_length": 9083
    },
    {
      "position": 26,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__gt___Rational.__hash__.1.1",
      "distance": 0.9154715538024902,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1938,
      "end_line": 1971,
      "tokens": 245,
      "context_length": 9328
    },
    {
      "position": 27,
      "id": "/tmp/repos/sympy/sympy/codegen/rewriting.py_exp2_opt__try_expm1.4.1",
      "distance": 0.9156056046485901,
      "file_path": "sympy/codegen/rewriting.py",
      "start_line": 130,
      "end_line": 166,
      "tokens": 398,
      "context_length": 9726
    },
    {
      "position": 28,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__rsub___Rational.__rsub__.2.1",
      "distance": 0.9255840182304382,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1727,
      "end_line": 1738,
      "tokens": 125,
      "context_length": 9851
    },
    {
      "position": 29,
      "id": "/tmp/repos/sympy/sympy/simplify/powsimp.py__denest_pow.27_",
      "distance": 0.9274646043777466,
      "file_path": "sympy/simplify/powsimp.py",
      "start_line": 668,
      "end_line": 692,
      "tokens": 251,
      "context_length": 10102
    },
    {
      "position": 30,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_exp._taylor_exp._eval_rewrite_as_Pow.1.2.1.1",
      "distance": 0.9277471899986267,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 427,
      "end_line": 474,
      "tokens": 493,
      "context_length": 10595,
      "file_pos": 7
    },
    {
      "position": 31,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__add___Rational.__add__.2.1",
      "distance": 0.9279873371124268,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1700,
      "end_line": 1712,
      "tokens": 132,
      "context_length": 10727
    },
    {
      "position": 32,
      "id": "/tmp/repos/sympy/sympy/simplify/powsimp.py_powsimp.10_powsimp.10.c_powers.ratq.2.1",
      "distance": 0.9280941486358643,
      "file_path": "sympy/simplify/powsimp.py",
      "start_line": 127,
      "end_line": 225,
      "tokens": 1015,
      "context_length": 11742
    },
    {
      "position": 33,
      "id": "/tmp/repos/sympy/sympy/core/exprtools.py_decompose_power_decompose_power.4.1",
      "distance": 0.9288375973701477,
      "file_path": "sympy/core/exprtools.py",
      "start_line": 214,
      "end_line": 260,
      "tokens": 321,
      "context_length": 12063
    },
    {
      "position": 34,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_exp._eval_is_extended_real_exp._eval_is_extended_positive.1.2.2.1",
      "distance": 0.9296238422393799,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 382,
      "end_line": 405,
      "tokens": 223,
      "context_length": 12286,
      "file_pos": 7
    },
    {
      "position": 35,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_1_14",
      "distance": 0.931926965713501,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 1,
      "end_line": 15,
      "tokens": 136,
      "context_length": 12422,
      "file_pos": 7
    },
    {
      "position": 36,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.numerator_Rational._sage_.2.1",
      "distance": 0.9325739145278931,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1985,
      "end_line": 2014,
      "tokens": 203,
      "context_length": 12625
    },
    {
      "position": 37,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_power_Pow._eval_power.6.1.1",
      "distance": 0.9353431463241577,
      "file_path": "sympy/core/power.py",
      "start_line": 331,
      "end_line": 412,
      "tokens": 803,
      "context_length": 13428
    },
    {
      "position": 38,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_is_rational_function_Pow._eval_is_algebraic_expr.2.2.1.1",
      "distance": 0.9362927079200745,
      "file_path": "sympy/core/power.py",
      "start_line": 1255,
      "end_line": 1273,
      "tokens": 133,
      "context_length": 13561
    },
    {
      "position": 39,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__div___Rational.__div__.2.1",
      "distance": 0.9374366998672485,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1753,
      "end_line": 1767,
      "tokens": 156,
      "context_length": 13717
    },
    {
      "position": 40,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__rdiv___Rational.__truediv__.1",
      "distance": 0.9383496046066284,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1768,
      "end_line": 1780,
      "tokens": 144,
      "context_length": 13861
    },
    {
      "position": 41,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__radd___Rational.__sub__.2.1",
      "distance": 0.9403483867645264,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1713,
      "end_line": 1726,
      "tokens": 131,
      "context_length": 13992
    },
    {
      "position": 42,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_is_complex_Pow._eval_is_imaginary.6.1.1",
      "distance": 0.9427835941314697,
      "file_path": "sympy/core/power.py",
      "start_line": 596,
      "end_line": 636,
      "tokens": 293,
      "context_length": 14285
    },
    {
      "position": 43,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_is_odd_Pow._eval_is_polar.1.1",
      "distance": 0.9441333413124084,
      "file_path": "sympy/core/power.py",
      "start_line": 638,
      "end_line": 680,
      "tokens": 339,
      "context_length": 14624
    },
    {
      "position": 44,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__mul___Rational.__rmul__.1",
      "distance": 0.9442698955535889,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1739,
      "end_line": 1751,
      "tokens": 141,
      "context_length": 14765
    },
    {
      "position": 45,
      "id": "/tmp/repos/sympy/sympy/functions/special/hyper.py_HyperRep_log2_HyperRep_log2._expr_big_minus.1.2.1.1",
      "distance": 0.9447437524795532,
      "file_path": "sympy/functions/special/hyper.py",
      "start_line": 980,
      "end_line": 1002,
      "tokens": 261,
      "context_length": 15026
    },
    {
      "position": 46,
      "id": "/tmp/repos/sympy/sympy/integrals/risch.py_DifferentialExtension._rewrite_logs_DifferentialExtension._rewrite_logs.12.1",
      "distance": 0.9448889493942261,
      "file_path": "sympy/integrals/risch.py",
      "start_line": 393,
      "end_line": 425,
      "tokens": 370,
      "context_length": 15396
    },
    {
      "position": 47,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_is_even_Pow._eval_is_extended_positive.2.6.2.1.1",
      "distance": 0.9468898177146912,
      "file_path": "sympy/core/power.py",
      "start_line": 437,
      "end_line": 480,
      "tokens": 305,
      "context_length": 15701
    },
    {
      "position": 48,
      "id": "/tmp/repos/sympy/sympy/polys/domains/pythonrational.py_PythonRational.__truediv___",
      "distance": 0.9479897022247314,
      "file_path": "sympy/polys/domains/pythonrational.py",
      "start_line": 207,
      "end_line": 287,
      "tokens": 500,
      "context_length": 16201
    },
    {
      "position": 49,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow.as_numer_denom_Pow.as_numer_denom.19.1",
      "distance": 0.9480125904083252,
      "file_path": "sympy/core/power.py",
      "start_line": 1289,
      "end_line": 1322,
      "tokens": 350,
      "context_length": 16551
    },
    {
      "position": 50,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_Mod_Pow._eval_Mod.1.3.7.4.1.1",
      "distance": 0.9492336511611938,
      "file_path": "sympy/core/power.py",
      "start_line": 414,
      "end_line": 435,
      "tokens": 248,
      "context_length": 16799
    },
    {
      "position": 51,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational._as_mpf_val_Rational.__ceil__.1.1",
      "distance": 0.9501386880874634,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1839,
      "end_line": 1866,
      "tokens": 188,
      "context_length": 16987
    },
    {
      "position": 52,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Integer.22_Integer.__ne__.1.1",
      "distance": 0.9528185129165649,
      "file_path": "sympy/core/numbers.py",
      "start_line": 2164,
      "end_line": 2252,
      "tokens": 750,
      "context_length": 17737
    },
    {
      "position": 53,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_exp.base_exp.taylor_term.6.1",
      "distance": 0.9575997591018677,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 310,
      "end_line": 332,
      "tokens": 140,
      "context_length": 17877,
      "file_pos": 9
    },
    {
      "position": 54,
      "id": "/tmp/repos/sympy/sympy/functions/special/zeta_functions.py_polylog.fdiff_polylog._eval_expand_func.5.1",
      "distance": 0.9581550359725952,
      "file_path": "sympy/functions/special/zeta_functions.py",
      "start_line": 307,
      "end_line": 327,
      "tokens": 194,
      "context_length": 18071
    },
    {
      "position": 55,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_exp_polar_exp_polar._eval_Abs.2",
      "distance": 0.9587903022766113,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 118,
      "end_line": 155,
      "tokens": 317,
      "context_length": 18388,
      "file_pos": 10
    },
    {
      "position": 56,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log.as_real_imag_log.as_real_imag.4.3.1.1",
      "distance": 0.9595364332199097,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 671,
      "end_line": 702,
      "tokens": 259,
      "context_length": 18647,
      "file_pos": 10
    },
    {
      "position": 57,
      "id": "/tmp/repos/sympy/sympy/functions/elementary/exponential.py_log_log.inverse.2.1",
      "distance": 0.9603153467178345,
      "file_path": "sympy/functions/elementary/exponential.py",
      "start_line": 477,
      "end_line": 503,
      "tokens": 176,
      "context_length": 18823,
      "file_pos": 10
    },
    {
      "position": 58,
      "id": "/tmp/repos/sympy/sympy/codegen/cfunctions.py_log2_log2._eval_rewrite_as_tractable.1",
      "distance": 0.9622077345848083,
      "file_path": "sympy/codegen/cfunctions.py",
      "start_line": 215,
      "end_line": 266,
      "tokens": 314,
      "context_length": 19137
    },
    {
      "position": 59,
      "id": "/tmp/repos/sympy/sympy/core/power.py_1_14",
      "distance": 0.9655700325965881,
      "file_path": "sympy/core/power.py",
      "start_line": 1,
      "end_line": 19,
      "tokens": 142,
      "context_length": 19279
    },
    {
      "position": 60,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow_Pow.1",
      "distance": 0.9688498377799988,
      "file_path": "sympy/core/power.py",
      "start_line": 169,
      "end_line": 251,
      "tokens": 1060,
      "context_length": 20339
    },
    {
      "position": 61,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Float._eval_power_Float._eval_power.3.4.3.2.1",
      "distance": 0.9716125726699829,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1349,
      "end_line": 1379,
      "tokens": 333,
      "context_length": 20672
    },
    {
      "position": 62,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Integer.__gt___Integer._eval_is_odd.1.1",
      "distance": 0.9742072224617004,
      "file_path": "sympy/core/numbers.py",
      "start_line": 2254,
      "end_line": 2299,
      "tokens": 347,
      "context_length": 21019
    },
    {
      "position": 63,
      "id": "/tmp/repos/sympy/sympy/simplify/powsimp.py_powsimp.10.c_powers.update_powsimp.10.c_powers.update.3.2.1.4.1",
      "distance": 0.9743829369544983,
      "file_path": "sympy/simplify/powsimp.py",
      "start_line": 253,
      "end_line": 270,
      "tokens": 223,
      "context_length": 21242
    },
    {
      "position": 64,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_derivative_Pow._eval_is_polynomial.2.2.1.1",
      "distance": 0.9761743545532227,
      "file_path": "sympy/core/power.py",
      "start_line": 1183,
      "end_line": 1208,
      "tokens": 239,
      "context_length": 21481
    },
    {
      "position": 65,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Rational.__new___Rational.__new__.14.1",
      "distance": 0.9774495363235474,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1597,
      "end_line": 1670,
      "tokens": 489,
      "context_length": 21970
    },
    {
      "position": 66,
      "id": "/tmp/repos/sympy/sympy/benchmarks/bench_discrete_log.py_1_data_set_3.1",
      "distance": 0.9777804613113403,
      "file_path": "sympy/benchmarks/bench_discrete_log.py",
      "start_line": 1,
      "end_line": 51,
      "tokens": 578,
      "context_length": 22548
    },
    {
      "position": 67,
      "id": "/tmp/repos/sympy/sympy/codegen/rewriting.py__expm1_value_log1p_opt.1",
      "distance": 0.9801269769668579,
      "file_path": "sympy/codegen/rewriting.py",
      "start_line": 169,
      "end_line": 199,
      "tokens": 248,
      "context_length": 22796
    },
    {
      "position": 68,
      "id": "/tmp/repos/sympy/sympy/functions/special/error_functions.py__eis.fdiff_",
      "distance": 0.9811208248138428,
      "file_path": "sympy/functions/special/error_functions.py",
      "start_line": 2371,
      "end_line": 2387,
      "tokens": 171,
      "context_length": 22967
    },
    {
      "position": 69,
      "id": "/tmp/repos/sympy/sympy/functions/special/error_functions.py_expint.eval_expint.eval.9.3.1.1",
      "distance": 0.9816976189613342,
      "file_path": "sympy/functions/special/error_functions.py",
      "start_line": 1184,
      "end_line": 1205,
      "tokens": 265,
      "context_length": 23232
    },
    {
      "position": 70,
      "id": "/tmp/repos/sympy/sympy/simplify/simplify.py_logcombine_logcombine.1",
      "distance": 0.9824000597000122,
      "file_path": "sympy/simplify/simplify.py",
      "start_line": 869,
      "end_line": 913,
      "tokens": 415,
      "context_length": 23647
    },
    {
      "position": 71,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_Zero._eval_power_Zero.as_coeff_Mul.2",
      "distance": 0.9828818440437317,
      "file_path": "sympy/core/numbers.py",
      "start_line": 2613,
      "end_line": 2640,
      "tokens": 228,
      "context_length": 23875
    },
    {
      "position": 72,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_1__LOG2.1",
      "distance": 0.9872845411300659,
      "file_path": "sympy/core/numbers.py",
      "start_line": 1,
      "end_line": 39,
      "tokens": 340,
      "context_length": 24215
    },
    {
      "position": 73,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow.as_real_imag_Pow.as_real_imag.3.16.1.4.1.1",
      "distance": 0.9877930879592896,
      "file_path": "sympy/core/power.py",
      "start_line": 1110,
      "end_line": 1181,
      "tokens": 745,
      "context_length": 24960
    },
    {
      "position": 74,
      "id": "/tmp/repos/sympy/sympy/simplify/powsimp.py_powsimp_powsimp.1",
      "distance": 0.9915208220481873,
      "file_path": "sympy/simplify/powsimp.py",
      "start_line": 17,
      "end_line": 101,
      "tokens": 843,
      "context_length": 25803
    },
    {
      "position": 75,
      "id": "/tmp/repos/sympy/sympy/core/numbers.py_I_",
      "distance": 0.9929491877555847,
      "file_path": "sympy/core/numbers.py",
      "start_line": 3915,
      "end_line": 3975,
      "tokens": 364,
      "context_length": 26167
    },
    {
      "position": 76,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow._eval_is_algebraic_Pow._eval_is_algebraic.2.3.1.1.1",
      "distance": 0.9937470555305481,
      "file_path": "sympy/core/power.py",
      "start_line": 1234,
      "end_line": 1253,
      "tokens": 167,
      "context_length": 26334
    },
    {
      "position": 77,
      "id": "/tmp/repos/sympy/sympy/solvers/solvers.py_unrad._Q_unrad.24.1",
      "distance": 0.993766188621521,
      "file_path": "sympy/solvers/solvers.py",
      "start_line": 3325,
      "end_line": 3371,
      "tokens": 429,
      "context_length": 26763
    },
    {
      "position": 78,
      "id": "/tmp/repos/sympy/sympy/core/power.py_Pow.is_constant_",
      "distance": 0.9941617250442505,
      "file_path": "sympy/core/power.py",
      "start_line": 1677,
      "end_line": 1711,
      "tokens": 258,
      "context_length": 27021
    },
    {
      "position": 79,
      "id": "/tmp/repos/sympy/sympy/core/function.py_expand_power_base_expand_power_base.2.1",
      "distance": 0.9944140911102295,
      "file_path": "sympy/core/function.py",
      "start_line": 2803,
      "end_line": 2865,
      "tokens": 581,
      "context_length": 27602
    }
  ],
  "files": [
    {
      "file_path": "sympy/functions/elementary/exponential.py",
      "position": 1,
      "tokens": 7069,
      "context_length": 7069
    },
    {
      "file_path": "sympy/core/numbers.py",
      "position": 2,
      "tokens": 30090,
      "context_length": 37159
    },
    {
      "file_path": "sympy/simplify/powsimp.py",
      "position": 3,
      "tokens": 6653,
      "context_length": 43812
    },
    {
      "file_path": "sympy/core/exprtools.py",
      "position": 4,
      "tokens": 12444,
      "context_length": 56256
    },
    {
      "file_path": "sympy/core/power.py",
      "position": 5,
      "tokens": 15018,
      "context_length": 71274
    },
    {
      "file_path": "sympy/integrals/risch.py",
      "position": 6,
      "tokens": 17805,
      "context_length": 89079
    },
    {
      "file_path": "sympy/codegen/rewriting.py",
      "position": 7,
      "tokens": 2089,
      "context_length": 91168
    },
    {
      "file_path": "sympy/functions/special/hyper.py",
      "position": 8,
      "tokens": 10334,
      "context_length": 101502
    },
    {
      "file_path": "sympy/polys/domains/pythonrational.py",
      "position": 9,
      "tokens": 2043,
      "context_length": 103545
    },
    {
      "file_path": "sympy/functions/special/zeta_functions.py",
      "position": 10,
      "tokens": 5534,
      "context_length": 109079
    },
    {
      "file_path": "sympy/codegen/cfunctions.py",
      "position": 11,
      "tokens": 3092,
      "context_length": 112171
    },
    {
      "file_path": "sympy/benchmarks/bench_discrete_log.py",
      "position": 12,
      "tokens": 864,
      "context_length": 113035
    },
    {
      "file_path": "sympy/functions/special/error_functions.py",
      "position": 13,
      "tokens": 19504,
      "context_length": 132539
    },
    {
      "file_path": "sympy/simplify/simplify.py",
      "position": 14,
      "tokens": 16136,
      "context_length": 148675
    },
    {
      "file_path": "sympy/solvers/solvers.py",
      "position": 15,
      "tokens": 32267,
      "context_length": 180942
    },
    {
      "file_path": "sympy/core/function.py",
      "position": 16,
      "tokens": 26772,
      "context_length": 207714
    }
  ]
}